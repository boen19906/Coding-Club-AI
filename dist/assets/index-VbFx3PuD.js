(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function Av(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ld={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function aA(){if(r_)return su;r_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:f}}return su.Fragment=e,su.jsx=i,su.jsxs=i,su}var s_;function lA(){return s_||(s_=1,ld.exports=aA()),ld.exports}var Ht=lA(),ud={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function uA(){if(a_)return Tt;a_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.iterator;function V(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,X={};function G(N,Z,ut){this.props=N,this.context=Z,this.refs=X,this.updater=ut||k}G.prototype.isReactComponent={},G.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function mt(){}mt.prototype=G.prototype;function K(N,Z,ut){this.props=N,this.context=Z,this.refs=X,this.updater=ut||k}var it=K.prototype=new mt;it.constructor=K,H(it,G.prototype),it.isPureReactComponent=!0;var nt=Array.isArray,lt={H:null,A:null,T:null,S:null},at=Object.prototype.hasOwnProperty;function M(N,Z,ut,et,rt,At){return ut=At.ref,{$$typeof:a,type:N,key:Z,ref:ut!==void 0?ut:null,props:At}}function b(N,Z){return M(N.type,Z,void 0,void 0,void 0,N.props)}function A(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function w(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return Z[ut]})}var O=/\/+/g;function U(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?w(""+N.key):Z.toString(36)}function D(){}function Kt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Gt(N,Z,ut,et,rt){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Et=!1;if(N===null)Et=!0;else switch(At){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(N.$$typeof){case a:case e:Et=!0;break;case R:return Et=N._init,Gt(Et(N._payload),Z,ut,et,rt)}}if(Et)return rt=rt(N),Et=et===""?"."+U(N,0):et,nt(rt)?(ut="",Et!=null&&(ut=Et.replace(O,"$&/")+"/"),Gt(rt,Z,ut,"",function(se){return se})):rt!=null&&(A(rt)&&(rt=b(rt,ut+(rt.key==null||N&&N.key===rt.key?"":(""+rt.key).replace(O,"$&/")+"/")+Et)),Z.push(rt)),1;Et=0;var de=et===""?".":et+":";if(nt(N))for(var Bt=0;Bt<N.length;Bt++)et=N[Bt],At=de+U(et,Bt),Et+=Gt(et,Z,ut,At,rt);else if(Bt=V(N),typeof Bt=="function")for(N=Bt.call(N),Bt=0;!(et=N.next()).done;)et=et.value,At=de+U(et,Bt++),Et+=Gt(et,Z,ut,At,rt);else if(At==="object"){if(typeof N.then=="function")return Gt(Kt(N),Z,ut,et,rt);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Et}function tt(N,Z,ut){if(N==null)return N;var et=[],rt=0;return Gt(N,et,"","",function(At){return Z.call(ut,At,rt++)}),et}function gt(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var ct=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function vt(){}return Tt.Children={map:tt,forEach:function(N,Z,ut){tt(N,function(){Z.apply(this,arguments)},ut)},count:function(N){var Z=0;return tt(N,function(){Z++}),Z},toArray:function(N){return tt(N,function(Z){return Z})||[]},only:function(N){if(!A(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Tt.Component=G,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=K,Tt.StrictMode=s,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Tt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Tt.cache=function(N){return function(){return N.apply(null,arguments)}},Tt.cloneElement=function(N,Z,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=H({},N.props),rt=N.key,At=void 0;if(Z!=null)for(Et in Z.ref!==void 0&&(At=void 0),Z.key!==void 0&&(rt=""+Z.key),Z)!at.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(et[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)et.children=ut;else if(1<Et){for(var de=Array(Et),Bt=0;Bt<Et;Bt++)de[Bt]=arguments[Bt+2];et.children=de}return M(N.type,rt,void 0,void 0,At,et)},Tt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},Tt.createElement=function(N,Z,ut){var et,rt={},At=null;if(Z!=null)for(et in Z.key!==void 0&&(At=""+Z.key),Z)at.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(rt[et]=Z[et]);var Et=arguments.length-2;if(Et===1)rt.children=ut;else if(1<Et){for(var de=Array(Et),Bt=0;Bt<Et;Bt++)de[Bt]=arguments[Bt+2];rt.children=de}if(N&&N.defaultProps)for(et in Et=N.defaultProps,Et)rt[et]===void 0&&(rt[et]=Et[et]);return M(N,At,void 0,void 0,null,rt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(N){return{$$typeof:g,render:N}},Tt.isValidElement=A,Tt.lazy=function(N){return{$$typeof:R,_payload:{_status:-1,_result:N},_init:gt}},Tt.memo=function(N,Z){return{$$typeof:v,type:N,compare:Z===void 0?null:Z}},Tt.startTransition=function(N){var Z=lt.T,ut={};lt.T=ut;try{var et=N(),rt=lt.S;rt!==null&&rt(ut,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(vt,ct)}catch(At){ct(At)}finally{lt.T=Z}},Tt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Tt.use=function(N){return lt.H.use(N)},Tt.useActionState=function(N,Z,ut){return lt.H.useActionState(N,Z,ut)},Tt.useCallback=function(N,Z){return lt.H.useCallback(N,Z)},Tt.useContext=function(N){return lt.H.useContext(N)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(N,Z){return lt.H.useDeferredValue(N,Z)},Tt.useEffect=function(N,Z){return lt.H.useEffect(N,Z)},Tt.useId=function(){return lt.H.useId()},Tt.useImperativeHandle=function(N,Z,ut){return lt.H.useImperativeHandle(N,Z,ut)},Tt.useInsertionEffect=function(N,Z){return lt.H.useInsertionEffect(N,Z)},Tt.useLayoutEffect=function(N,Z){return lt.H.useLayoutEffect(N,Z)},Tt.useMemo=function(N,Z){return lt.H.useMemo(N,Z)},Tt.useOptimistic=function(N,Z){return lt.H.useOptimistic(N,Z)},Tt.useReducer=function(N,Z,ut){return lt.H.useReducer(N,Z,ut)},Tt.useRef=function(N){return lt.H.useRef(N)},Tt.useState=function(N){return lt.H.useState(N)},Tt.useSyncExternalStore=function(N,Z,ut){return lt.H.useSyncExternalStore(N,Z,ut)},Tt.useTransition=function(){return lt.H.useTransition()},Tt.version="19.0.0",Tt}var l_;function sm(){return l_||(l_=1,ud.exports=uA()),ud.exports}var bn=sm();const bv=Av(bn);var od={exports:{}},au={},cd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function oA(){return u_||(u_=1,function(a){function e(tt,gt){var ct=tt.length;tt.push(gt);t:for(;0<ct;){var vt=ct-1>>>1,N=tt[vt];if(0<u(N,gt))tt[vt]=gt,tt[ct]=N,ct=vt;else break t}}function i(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var gt=tt[0],ct=tt.pop();if(ct!==gt){tt[0]=ct;t:for(var vt=0,N=tt.length,Z=N>>>1;vt<Z;){var ut=2*(vt+1)-1,et=tt[ut],rt=ut+1,At=tt[rt];if(0>u(et,ct))rt<N&&0>u(At,et)?(tt[vt]=At,tt[rt]=ct,vt=rt):(tt[vt]=et,tt[ut]=ct,vt=ut);else if(rt<N&&0>u(At,ct))tt[vt]=At,tt[rt]=ct,vt=rt;else break t}}return gt}function u(tt,gt){var ct=tt.sortIndex-gt.sortIndex;return ct!==0?ct:tt.id-gt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],R=1,C=null,V=3,k=!1,H=!1,X=!1,G=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function it(tt){for(var gt=i(v);gt!==null;){if(gt.callback===null)s(v);else if(gt.startTime<=tt)s(v),gt.sortIndex=gt.expirationTime,e(_,gt);else break;gt=i(v)}}function nt(tt){if(X=!1,it(tt),!H)if(i(_)!==null)H=!0,Kt();else{var gt=i(v);gt!==null&&Gt(nt,gt.startTime-tt)}}var lt=!1,at=-1,M=5,b=-1;function A(){return!(a.unstable_now()-b<M)}function w(){if(lt){var tt=a.unstable_now();b=tt;var gt=!0;try{t:{H=!1,X&&(X=!1,mt(at),at=-1),k=!0;var ct=V;try{e:{for(it(tt),C=i(_);C!==null&&!(C.expirationTime>tt&&A());){var vt=C.callback;if(typeof vt=="function"){C.callback=null,V=C.priorityLevel;var N=vt(C.expirationTime<=tt);if(tt=a.unstable_now(),typeof N=="function"){C.callback=N,it(tt),gt=!0;break e}C===i(_)&&s(_),it(tt)}else s(_);C=i(_)}if(C!==null)gt=!0;else{var Z=i(v);Z!==null&&Gt(nt,Z.startTime-tt),gt=!1}}break t}finally{C=null,V=ct,k=!1}gt=void 0}}finally{gt?O():lt=!1}}}var O;if(typeof K=="function")O=function(){K(w)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=w,O=function(){D.postMessage(null)}}else O=function(){G(w,0)};function Kt(){lt||(lt=!0,O())}function Gt(tt,gt){at=G(function(){tt(a.unstable_now())},gt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(tt){tt.callback=null},a.unstable_continueExecution=function(){H||k||(H=!0,Kt())},a.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<tt?Math.floor(1e3/tt):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_getFirstCallbackNode=function(){return i(_)},a.unstable_next=function(tt){switch(V){case 1:case 2:case 3:var gt=3;break;default:gt=V}var ct=V;V=gt;try{return tt()}finally{V=ct}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(tt,gt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ct=V;V=tt;try{return gt()}finally{V=ct}},a.unstable_scheduleCallback=function(tt,gt,ct){var vt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?vt+ct:vt):ct=vt,tt){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ct+N,tt={id:R++,callback:gt,priorityLevel:tt,startTime:ct,expirationTime:N,sortIndex:-1},ct>vt?(tt.sortIndex=ct,e(v,tt),i(_)===null&&tt===i(v)&&(X?(mt(at),at=-1):X=!0,Gt(nt,ct-vt))):(tt.sortIndex=N,e(_,tt),H||k||(H=!0,Kt())),tt},a.unstable_shouldYield=A,a.unstable_wrapCallback=function(tt){var gt=V;return function(){var ct=V;V=gt;try{return tt.apply(this,arguments)}finally{V=ct}}}}(fd)),fd}var o_;function cA(){return o_||(o_=1,cd.exports=oA()),cd.exports}var hd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function fA(){if(c_)return Ke;c_=1;var a=sm();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,v,R){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:R}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,R)},Ke.flushSync=function(_){var v=d.T,R=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=R,s.d.f()}},Ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Ke.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,C=g(R,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:k}):R==="script"&&s.d.X(_,{crossOrigin:C,integrity:V,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,C=g(R,v.crossOrigin);s.d.L(_,R,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Ke.requestFormReset=function(_){s.d.r(_)},Ke.unstable_batchedUpdates=function(_,v){return _(v)},Ke.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var f_;function hA(){if(f_)return hd.exports;f_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),hd.exports=fA(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function dA(){if(h_)return au;h_=1;var a=cA(),e=sm(),i=hA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),it=Symbol.for("react.offscreen"),nt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function at(t){return t===null||typeof t!="object"?null:(t=lt&&t[lt]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case R:return"Profiler";case v:return"StrictMode";case X:return"Suspense";case G:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case H:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mt:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case K:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,O,U;function D(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",U=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+U}var Kt=!1;function Gt(t,n){if(!t||Kt)return"";Kt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(j){z=j}t.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var S=y.split(`
`),I=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===I.length)for(l=S.length-1,c=I.length-1;1<=l&&0<=c&&S[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==I[c]){var F=`
`+S[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Kt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?D(r):""}function tt(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=Gt(t.type,!1),t;case 11:return t=Gt(t.type.render,!1),t;case 1:return t=Gt(t.type,!0),t;default:return""}}function gt(t){try{var n="";do n+=tt(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ct(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function vt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function N(t){if(ct(t)!==t)throw Error(s(188))}function Z(t){var n=t.alternate;if(!n){if(n=ct(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return N(c),t;if(h===l)return N(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var et=Array.isArray,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},Et=[],de=-1;function Bt(t){return{current:t}}function se(t){0>de||(t.current=Et[de],Et[de]=null,de--)}function jt(t,n){de++,Et[de]=t.current,t.current=n}var en=Bt(null),Ci=Bt(null),Cn=Bt(null),ir=Bt(null);function rr(t,n){switch(jt(Cn,n),jt(Ci,t),jt(en,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Iy(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Iy(t),n=Vy(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(en),jt(en,n)}function Di(){se(en),se(Ci),se(Cn)}function tl(t){t.memoizedState!==null&&jt(ir,t);var n=en.current,r=Vy(n,t.type);n!==r&&(jt(Ci,t),jt(en,r))}function ks(t){Ci.current===t&&(se(en),se(Ci)),ir.current===t&&(se(ir),tu._currentValue=At)}var qs=Object.prototype.hasOwnProperty,$r=a.unstable_scheduleCallback,js=a.unstable_cancelCallback,of=a.unstable_shouldYield,el=a.unstable_requestPaint,un=a.unstable_now,qu=a.unstable_getCurrentPriorityLevel,ve=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,ju=a.unstable_LowPriority,nl=a.unstable_IdlePriority,cf=a.log,Yr=a.unstable_setDisableYieldValue,sr=null,$e=null;function il(t){if($e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(sr,t,void 0,(t.current.flags&128)===128)}catch{}}function ni(t){if(typeof cf=="function"&&Yr(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(sr,t)}catch{}}var nn=Math.clz32?Math.clz32:Fu,rl=Math.log,Hu=Math.LN2;function Fu(t){return t>>>=0,t===0?32:31-(rl(t)/Hu|0)|0}var ii=128,ar=4194304;function Fn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,h=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Fn(r):(h&=E,h!==0?l=Fn(h):t||(y=E&~y,y!==0&&(l=Fn(y))))):(E=r&~c,E!==0?l=Fn(E):h!==0?l=Fn(h):t||(y=r&~y,y!==0&&(l=Fn(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function lr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hs(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var t=ii;return ii<<=1,!(ii&4194176)&&(ii=128),t}function ur(){var t=ar;return ar<<=1,!(ar&62914560)&&(ar=4194304),t}function Fs(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function fe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gu(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,I=t.hiddenUpdates;for(r=y&~r;0<r;){var F=31-nn(r),Y=1<<F;E[F]=0,S[F]=-1;var z=I[F];if(z!==null)for(I[F]=null,F=0;F<z.length;F++){var j=z[F];j!==null&&(j.lane&=-536870913)}r&=~Y}l!==0&&or(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function or(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-nn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function cr(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-nn(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Qu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Xu(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:Jy(t.type))}function fr(t,n){var r=rt.p;try{return rt.p=t,n()}finally{rt.p=r}}var ri=Math.random().toString(36).slice(2),De="__reactFiber$"+ri,Ee="__reactProps$"+ri,Mi="__reactContainer$"+ri,Kr="__reactEvents$"+ri,Gs="__reactListeners$"+ri,si="__reactHandles$"+ri,al="__reactResources$"+ri,hr="__reactMarker$"+ri;function Zr(t){delete t[De],delete t[Ee],delete t[Kr],delete t[Gs],delete t[si]}function Gn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Mi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ly(t);t!==null;){if(r=t[De])return r;t=Ly(t)}return n}t=r,r=t.parentNode}return null}function Ni(t){if(t=t[De]||t[Mi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function dr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function mr(t){var n=t[al];return n||(n=t[al]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ee(t){t[hr]=!0}var ll=new Set,Qs={};function gn(t,n){on(t,n),on(t+"Capture",n)}function on(t,n){for(Qs[t]=n,t=0;t<n.length;t++)ll.add(n[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},ol={};function $u(t){return qs.call(ol,t)?!0:qs.call(ul,t)?!1:ff.test(t)?ol[t]=!0:(ul[t]=!0,!1)}function gr(t,n,r){if($u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function pr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function On(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hf(t){var n=Yu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Jr(t){t._valueTracker||(t._valueTracker=hf(t))}function cl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Yu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xi=/[\n"\\]/g;function ae(t){return t.replace(xi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yr(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?$s(t,y,rn(n)):r!=null?$s(t,y,rn(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+rn(E):t.removeAttribute("name")}function Wr(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+rn(r):"",n=n!=null?""+rn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function $s(t,n,r){n==="number"&&Xs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Lt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+rn(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ts(t,n,r){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+rn(r):""}function _r(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=rn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||df.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ku(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&fl(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&fl(t,h,n[h])}function hl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Nn=null;function Ys(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Vi=null;function Ui(t){var n=Ni(t);if(n&&(t=n.stateNode)){var r=t[Ee]||null;t:switch(t=n.stateNode,n.type){case"input":if(yr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ae(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Ee]||null;if(!c)throw Error(s(90));yr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&cl(l)}break t;case"textarea":ts(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Lt(t,!!r.multiple,n,!1)}}}var dl=!1;function Zu(t,n,r){if(dl)return t(n,r);dl=!0;try{var l=t(n);return l}finally{if(dl=!1,(Ii!==null||Vi!==null)&&(Ho(),Ii&&(n=Ii,t=Vi,Vi=Ii=null,Ui(n),t)))for(n=0;n<t.length;n++)Ui(t[n])}}function es(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ee]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var xn=!1;if(pn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){xn=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{xn=!1}var li=null,vr=null,Bi=null;function ml(){if(Bi)return Bi;var t,n=vr,r=n.length,l,c="value"in li?li.value:li.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return Bi=c.slice(t,1<l?1-l:void 0)}function ui(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function gl(){return!1}function Oe(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?oi:gl,this.isPropagationStopped=gl,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Oe(qt),is=w({},qt,{view:0,detail:0}),Ju=Oe(is),Zs,Js,ci,rs=w({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(Zs=t.screenX-ci.screenX,Js=t.screenY-ci.screenY):Js=Zs=0,ci=t),Zs)},movementY:function(t){return"movementY"in t?t.movementY:Js}}),In=Oe(rs),Wu=w({},rs,{dataTransfer:0}),pf=Oe(Wu),ss=w({},is,{relatedTarget:0}),Ws=Oe(ss),pl=w({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Oe(pl),to=w({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ea=Oe(to),yf=w({},qt,{data:0}),yl=Oe(yf),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},no={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=no[t])?!!n[t]:!1}function ls(){return _l}var io=w({},is,{key:function(t){if(t.key){var n=as[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),na=Oe(io),ro=w({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=Oe(ro),Li=w({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),so=Oe(Li),ao=w({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),lo=Oe(ao),uo=w({},rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Oe(uo),sn=w({},qt,{newState:0,oldState:0}),oo=Oe(sn),co=[9,13,27,32],fi=pn&&"CompositionEvent"in window,o=null;pn&&"documentMode"in document&&(o=document.documentMode);var m=pn&&"TextEvent"in window&&!o,p=pn&&(!fi||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return co.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Te(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(Mt)return t==="compositionend"||!fi&&q(t,n)?(t=ml(),Bi=vr=li=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Me[t.type]:n==="textarea"}function Pi(t,n,r,l){Ii?Vi?Vi.push(l):Vi=[l]:Ii=l,n=$o(n,"onChange"),0<n.length&&(r=new Ks("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Pe=null,hi=null;function El(t){Dy(t,0)}function fo(t){var n=dr(t);if(cl(n))return t}function ig(t,n){if(t==="change")return n}var rg=!1;if(pn){var _f;if(pn){var vf="oninput"in document;if(!vf){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),vf=typeof sg.oninput=="function"}_f=vf}else _f=!1;rg=_f&&(!document.documentMode||9<document.documentMode)}function ag(){Pe&&(Pe.detachEvent("onpropertychange",lg),hi=Pe=null)}function lg(t){if(t.propertyName==="value"&&fo(hi)){var n=[];Pi(n,hi,t,Ys(t)),Zu(El,n)}}function B0(t,n,r){t==="focusin"?(ag(),Pe=n,hi=r,Pe.attachEvent("onpropertychange",lg)):t==="focusout"&&ag()}function L0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fo(hi)}function P0(t,n){if(t==="click")return fo(n)}function z0(t,n){if(t==="input"||t==="change")return fo(n)}function k0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:k0;function Tl(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!qs.call(n,c)||!yn(t[c],n[c]))return!1}return!0}function ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,n){var r=ug(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ug(r)}}function cg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Xs(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Xs(t.document)}return n}function Ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function q0(t,n){var r=fg(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&cg(n.ownerDocument.documentElement,n)){if(l!==null&&Ef(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!r.extend&&h>l&&(c=l,l=h,h=c),c=og(n,h);var y=og(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),h>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var j0=pn&&"documentMode"in document&&11>=document.documentMode,ra=null,Tf=null,Al=null,Af=!1;function hg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Af||ra==null||ra!==Xs(l)||(l=ra,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Tl(Al,l)||(Al=l,l=$o(Tf,"onSelect"),0<l.length&&(n=new Ks("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ra)))}function us(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var sa={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},bf={},dg={};pn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function os(t){if(bf[t])return bf[t];if(!sa[t])return t;var n=sa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in dg)return bf[t]=n[r];return t}var mg=os("animationend"),gg=os("animationiteration"),pg=os("animationstart"),H0=os("transitionrun"),F0=os("transitionstart"),G0=os("transitioncancel"),yg=os("transitionend"),_g=new Map,vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,n){_g.set(t,n),gn(n,[t])}var Vn=[],aa=0,Sf=0;function ho(){for(var t=aa,n=Sf=aa=0;n<t;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var c=Vn[n];Vn[n++]=null;var h=Vn[n];if(Vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Eg(r,c,h)}}function mo(t,n,r,l){Vn[aa++]=t,Vn[aa++]=n,Vn[aa++]=r,Vn[aa++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,n,r,l){return mo(t,n,r,l),go(t)}function Er(t,n){return mo(t,null,null,n),go(t)}function Eg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&n!==null&&t.tag===3&&(h=t.stateNode,c=31-nn(r),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[n]:t.push(n),n.lane=r|536870912)}function go(t){if(50<Xl)throw Xl=0,Nh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var la={},Tg=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var r=Tg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:gt(n)},Tg.set(t,n),n)}return{value:t,source:n,stack:gt(n)}}var ua=[],oa=0,po=null,yo=0,Bn=[],Ln=0,cs=null,zi=1,ki="";function fs(t,n){ua[oa++]=yo,ua[oa++]=po,po=t,yo=n}function Ag(t,n,r){Bn[Ln++]=zi,Bn[Ln++]=ki,Bn[Ln++]=cs,cs=t;var l=zi;t=ki;var c=32-nn(l)-1;l&=~(1<<c),r+=1;var h=32-nn(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,zi=1<<32-nn(n)+c|r<<c|l,ki=h+t}else zi=1<<h|r<<c|l,ki=t}function Rf(t){t.return!==null&&(fs(t,1),Ag(t,1,0))}function Cf(t){for(;t===po;)po=ua[--oa],ua[oa]=null,yo=ua[--oa],ua[oa]=null;for(;t===cs;)cs=Bn[--Ln],Bn[Ln]=null,ki=Bn[--Ln],Bn[Ln]=null,zi=Bn[--Ln],Bn[Ln]=null}var an=null,ze=null,Pt=!1,Xn=null,di=!1,Df=Error(s(519));function hs(t){var n=Error(s(418,""));throw wl(Un(n,t)),Df}function bg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[Ee]=l,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Yl.length;r++)Ot(Yl[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Wr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),_r(n,l.value,l.defaultValue,l.children),Jr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||xy(n.textContent,r)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Yo),n=!0):n=!1,n||hs(t)}function Sg(t){for(an=t.return;an;)switch(an.tag){case 3:case 27:di=!0;return;case 5:case 13:di=!1;return;default:an=an.return}}function bl(t){if(t!==an)return!1;if(!Pt)return Sg(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||$h(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&ze&&hs(t),Sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ze=Yn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ze=null}}else ze=an?Yn(t.stateNode.nextSibling):null;return!0}function Sl(){ze=an=null,Pt=!1}function wl(t){Xn===null?Xn=[t]:Xn.push(t)}var Rl=Error(s(460)),wg=Error(s(474)),Of={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _o(){}function Cg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(_o,_o),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Rl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(_o,_o);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Rl?Error(s(483)):t}throw Cl=n,Rl}}var Cl=null;function Dg(){if(Cl===null)throw Error(s(459));var t=Cl;return Cl=null,t}var ca=null,Dl=0;function vo(t){var n=Dl;return Dl+=1,ca===null&&(ca=[]),Cg(ca,t,n)}function Ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Eo(t,n){throw n.$$typeof===f?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Og(t){var n=t._init;return n(t._payload)}function Mg(t){function n(B,x){if(t){var P=B.deletions;P===null?(B.deletions=[x],B.flags|=16):P.push(x)}}function r(B,x){if(!t)return null;for(;x!==null;)n(B,x),x=x.sibling;return null}function l(B){for(var x=new Map;B!==null;)B.key!==null?x.set(B.key,B):x.set(B.index,B),B=B.sibling;return x}function c(B,x){return B=xr(B,x),B.index=0,B.sibling=null,B}function h(B,x,P){return B.index=P,t?(P=B.alternate,P!==null?(P=P.index,P<x?(B.flags|=33554434,x):P):(B.flags|=33554434,x)):(B.flags|=1048576,x)}function y(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function E(B,x,P,Q){return x===null||x.tag!==6?(x=bh(P,B.mode,Q),x.return=B,x):(x=c(x,P),x.return=B,x)}function S(B,x,P,Q){var st=P.type;return st===_?F(B,x,P.props.children,Q,P.key):x!==null&&(x.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===K&&Og(st)===x.type)?(x=c(x,P.props),Ol(x,P),x.return=B,x):(x=Po(P.type,P.key,P.props,null,B.mode,Q),Ol(x,P),x.return=B,x)}function I(B,x,P,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Sh(P,B.mode,Q),x.return=B,x):(x=c(x,P.children||[]),x.return=B,x)}function F(B,x,P,Q,st){return x===null||x.tag!==7?(x=As(P,B.mode,Q,st),x.return=B,x):(x=c(x,P),x.return=B,x)}function Y(B,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=bh(""+x,B.mode,P),x.return=B,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case d:return P=Po(x.type,x.key,x.props,null,B.mode,P),Ol(P,x),P.return=B,P;case g:return x=Sh(x,B.mode,P),x.return=B,x;case K:var Q=x._init;return x=Q(x._payload),Y(B,x,P)}if(et(x)||at(x))return x=As(x,B.mode,P,null),x.return=B,x;if(typeof x.then=="function")return Y(B,vo(x),P);if(x.$$typeof===k)return Y(B,Uo(B,x),P);Eo(B,x)}return null}function z(B,x,P,Q){var st=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return st!==null?null:E(B,x,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case d:return P.key===st?S(B,x,P,Q):null;case g:return P.key===st?I(B,x,P,Q):null;case K:return st=P._init,P=st(P._payload),z(B,x,P,Q)}if(et(P)||at(P))return st!==null?null:F(B,x,P,Q,null);if(typeof P.then=="function")return z(B,x,vo(P),Q);if(P.$$typeof===k)return z(B,x,Uo(B,P),Q);Eo(B,P)}return null}function j(B,x,P,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return B=B.get(P)||null,E(x,B,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return B=B.get(Q.key===null?P:Q.key)||null,S(x,B,Q,st);case g:return B=B.get(Q.key===null?P:Q.key)||null,I(x,B,Q,st);case K:var wt=Q._init;return Q=wt(Q._payload),j(B,x,P,Q,st)}if(et(Q)||at(Q))return B=B.get(P)||null,F(x,B,Q,st,null);if(typeof Q.then=="function")return j(B,x,P,vo(Q),st);if(Q.$$typeof===k)return j(B,x,P,Uo(x,Q),st);Eo(x,Q)}return null}function ft(B,x,P,Q){for(var st=null,wt=null,ht=x,pt=x=0,Ie=null;ht!==null&&pt<P.length;pt++){ht.index>pt?(Ie=ht,ht=null):Ie=ht.sibling;var zt=z(B,ht,P[pt],Q);if(zt===null){ht===null&&(ht=Ie);break}t&&ht&&zt.alternate===null&&n(B,ht),x=h(zt,x,pt),wt===null?st=zt:wt.sibling=zt,wt=zt,ht=Ie}if(pt===P.length)return r(B,ht),Pt&&fs(B,pt),st;if(ht===null){for(;pt<P.length;pt++)ht=Y(B,P[pt],Q),ht!==null&&(x=h(ht,x,pt),wt===null?st=ht:wt.sibling=ht,wt=ht);return Pt&&fs(B,pt),st}for(ht=l(ht);pt<P.length;pt++)Ie=j(ht,B,pt,P[pt],Q),Ie!==null&&(t&&Ie.alternate!==null&&ht.delete(Ie.key===null?pt:Ie.key),x=h(Ie,x,pt),wt===null?st=Ie:wt.sibling=Ie,wt=Ie);return t&&ht.forEach(function(zr){return n(B,zr)}),Pt&&fs(B,pt),st}function _t(B,x,P,Q){if(P==null)throw Error(s(151));for(var st=null,wt=null,ht=x,pt=x=0,Ie=null,zt=P.next();ht!==null&&!zt.done;pt++,zt=P.next()){ht.index>pt?(Ie=ht,ht=null):Ie=ht.sibling;var zr=z(B,ht,zt.value,Q);if(zr===null){ht===null&&(ht=Ie);break}t&&ht&&zr.alternate===null&&n(B,ht),x=h(zr,x,pt),wt===null?st=zr:wt.sibling=zr,wt=zr,ht=Ie}if(zt.done)return r(B,ht),Pt&&fs(B,pt),st;if(ht===null){for(;!zt.done;pt++,zt=P.next())zt=Y(B,zt.value,Q),zt!==null&&(x=h(zt,x,pt),wt===null?st=zt:wt.sibling=zt,wt=zt);return Pt&&fs(B,pt),st}for(ht=l(ht);!zt.done;pt++,zt=P.next())zt=j(ht,B,pt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?pt:zt.key),x=h(zt,x,pt),wt===null?st=zt:wt.sibling=zt,wt=zt);return t&&ht.forEach(function(sA){return n(B,sA)}),Pt&&fs(B,pt),st}function oe(B,x,P,Q){if(typeof P=="object"&&P!==null&&P.type===_&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case d:t:{for(var st=P.key;x!==null;){if(x.key===st){if(st=P.type,st===_){if(x.tag===7){r(B,x.sibling),Q=c(x,P.props.children),Q.return=B,B=Q;break t}}else if(x.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===K&&Og(st)===x.type){r(B,x.sibling),Q=c(x,P.props),Ol(Q,P),Q.return=B,B=Q;break t}r(B,x);break}else n(B,x);x=x.sibling}P.type===_?(Q=As(P.props.children,B.mode,Q,P.key),Q.return=B,B=Q):(Q=Po(P.type,P.key,P.props,null,B.mode,Q),Ol(Q,P),Q.return=B,B=Q)}return y(B);case g:t:{for(st=P.key;x!==null;){if(x.key===st)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){r(B,x.sibling),Q=c(x,P.children||[]),Q.return=B,B=Q;break t}else{r(B,x);break}else n(B,x);x=x.sibling}Q=Sh(P,B.mode,Q),Q.return=B,B=Q}return y(B);case K:return st=P._init,P=st(P._payload),oe(B,x,P,Q)}if(et(P))return ft(B,x,P,Q);if(at(P)){if(st=at(P),typeof st!="function")throw Error(s(150));return P=st.call(P),_t(B,x,P,Q)}if(typeof P.then=="function")return oe(B,x,vo(P),Q);if(P.$$typeof===k)return oe(B,x,Uo(B,P),Q);Eo(B,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(r(B,x.sibling),Q=c(x,P),Q.return=B,B=Q):(r(B,x),Q=bh(P,B.mode,Q),Q.return=B,B=Q),y(B)):r(B,x)}return function(B,x,P,Q){try{Dl=0;var st=oe(B,x,P,Q);return ca=null,st}catch(ht){if(ht===Rl)throw ht;var wt=qn(29,ht,null,B.mode);return wt.lanes=Q,wt.return=B,wt}finally{}}}var ds=Mg(!0),Ng=Mg(!1),fa=Bt(null),To=Bt(0);function xg(t,n){t=Zi,jt(To,t),jt(fa,n),Zi=t|n.baseLanes}function Mf(){jt(To,Zi),jt(fa,fa.current)}function Nf(){Zi=To.current,se(fa),se(To)}var Pn=Bt(null),mi=null;function Tr(t){var n=t.alternate;jt(be,be.current&1),jt(Pn,t),mi===null&&(n===null||fa.current!==null||n.memoizedState!==null)&&(mi=t)}function Ig(t){if(t.tag===22){if(jt(be,be.current),jt(Pn,t),mi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(mi=t)}}else Ar()}function Ar(){jt(be,be.current),jt(Pn,Pn.current)}function qi(t){se(Pn),mi===t&&(mi=null),se(be)}var be=Bt(0);function Ao(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Q0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},X0=a.unstable_scheduleCallback,$0=a.unstable_NormalPriority,Se={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new Q0,data:new Map,refCount:0}}function Ml(t){t.refCount--,t.refCount===0&&X0($0,function(){t.controller.abort()})}var Nl=null,If=0,ha=0,da=null;function Y0(t,n){if(Nl===null){var r=Nl=[];If=0,ha=zh(),da={status:"pending",value:void 0,then:function(l){r.push(l)}}}return If++,n.then(Vg,Vg),n}function Vg(){if(--If===0&&Nl!==null){da!==null&&(da.status="fulfilled");var t=Nl;Nl=null,ha=0,da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Ug=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y0(t,n),Ug!==null&&Ug(t,n)};var ms=Bt(null);function Vf(){var t=ms.current;return t!==null?t:Zt.pooledCache}function bo(t,n){n===null?jt(ms,ms.current):jt(ms,n.pool)}function Bg(){var t=Vf();return t===null?null:{parent:Se._currentValue,pool:t}}var br=0,bt=null,Qt=null,me=null,So=!1,ma=!1,gs=!1,wo=0,xl=0,ga=null,Z0=0;function he(){throw Error(s(321))}function Uf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!yn(t[r],n[r]))return!1;return!0}function Bf(t,n,r,l,c,h){return br=h,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ps:Sr,gs=!1,h=r(l,c),gs=!1,ma&&(h=Pg(n,r,l,c)),Lg(t),h}function Lg(t){A.H=gi;var n=Qt!==null&&Qt.next!==null;if(br=0,me=Qt=bt=null,So=!1,xl=0,ga=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&Vo(t)&&(Ne=!0))}function Pg(t,n,r,l){bt=t;var c=0;do{if(ma&&(ga=null),xl=0,ma=!1,25<=c)throw Error(s(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=ys,h=n(r,l)}while(ma);return h}function J0(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function Lf(){var t=wo!==0;return wo=0,t}function Pf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function zf(t){if(So){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}So=!1}br=0,me=Qt=bt=null,ma=!1,xl=wo=0,ga=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}var Ro;Ro=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Il(t){var n=xl;return xl+=1,ga===null&&(ga=[]),t=Cg(ga,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ps:Sr),t}function Co(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===k)return Ye(t)}throw Error(s(438,String(t)))}function kf(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ro(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=nt;return n.index++,r}function ji(t,n){return typeof n=="function"?n(t):n}function Do(t){var n=ge();return qf(n,Qt,t)}function qf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,S=null,I=n,F=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(xt&Y)===Y:(br&Y)===Y){var z=I.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===ha&&(F=!0);else if((br&z)===z){I=I.next,z===ha&&(F=!0);continue}else Y={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},S===null?(E=S=Y,y=h):S=S.next=Y,bt.lanes|=z,Ir|=z;Y=I.action,gs&&r(h,Y),h=I.hasEagerState?I.eagerState:r(h,Y)}else z={lane:Y,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},S===null?(E=S=z,y=h):S=S.next=z,bt.lanes|=Y,Ir|=Y;I=I.next}while(I!==null&&I!==n);if(S===null?y=h:S.next=E,!yn(h,t.memoizedState)&&(Ne=!0,F&&(r=da,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=S,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);yn(h,n.memoizedState)||(Ne=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function zg(t,n,r){var l=bt,c=ge(),h=Pt;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!yn((Qt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ne=!0),c=c.queue,Gf(jg.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,pa(9,qg.bind(null,l,c,r,n),{destroy:void 0},null),Zt===null)throw Error(s(349));h||br&60||kg(l,n,r)}return r}function kg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=Ro(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function qg(t,n,r,l){n.value=r,n.getSnapshot=l,Hg(n)&&Fg(t)}function jg(t,n,r){return r(function(){Hg(n)&&Fg(t)})}function Hg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!yn(t,r)}catch{return!0}}function Fg(t){var n=Er(t,2);n!==null&&ln(n,t,2)}function Hf(t){var n=cn();if(typeof t=="function"){var r=t;if(t=r(),gs){ni(!0);try{r()}finally{ni(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n}function Gg(t,n,r,l){return t.baseState=r,qf(t,Qt,typeof l=="function"?l:ji)}function W0(t,n,r,l,c){if(No(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};A.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,Qg(n,h)):(h.next=r.next,n.pending=r.next=h)}}function Qg(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=A.T,y={};A.T=y;try{var E=r(c,l),S=A.S;S!==null&&S(y,E),Xg(t,n,E)}catch(I){Ff(t,n,I)}finally{A.T=h}}else try{h=r(c,l),Xg(t,n,h)}catch(I){Ff(t,n,I)}}function Xg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){$g(t,n,l)},function(l){return Ff(t,n,l)}):$g(t,n,r)}function $g(t,n,r){n.status="fulfilled",n.value=r,Yg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Qg(t,r)))}function Ff(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Yg(n),n=n.next;while(n!==l)}t.action=null}function Yg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Kg(t,n){return n}function Zg(t,n){if(Pt){var r=Zt.formState;if(r!==null){t:{var l=bt;if(Pt){if(ze){e:{for(var c=ze,h=di;c.nodeType!==8;){if(!h){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ze=Yn(c.nextSibling),l=c.data==="F!";break t}}hs(l)}l=!1}l&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},r.queue=l,r=gp.bind(null,bt,l),l.dispatch=r,l=Hf(!1),h=Kf.bind(null,bt,!1,l.queue),l=cn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=W0.bind(null,bt,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Jg(t){var n=ge();return Wg(n,Qt,t)}function Wg(t,n,r){n=qf(t,n,Kg)[0],t=Do(ji)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Il(n):n;var l=ge(),c=l.queue,h=c.dispatch;return r!==l.memoizedState&&(bt.flags|=2048,pa(9,tT.bind(null,c,r),{destroy:void 0},null)),[n,h,t]}function tT(t,n){t.action=n}function tp(t){var n=ge(),r=Qt;if(r!==null)return Wg(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function pa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=bt.updateQueue,n===null&&(n=Ro(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ep(){return ge().memoizedState}function Oo(t,n,r,l){var c=cn();bt.flags|=t,c.memoizedState=pa(1|n,r,{destroy:void 0},l===void 0?null:l)}function Mo(t,n,r,l){var c=ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Qt!==null&&l!==null&&Uf(l,Qt.memoizedState.deps)?c.memoizedState=pa(n,r,h,l):(bt.flags|=t,c.memoizedState=pa(1|n,r,h,l))}function np(t,n){Oo(8390656,8,t,n)}function Gf(t,n){Mo(2048,8,t,n)}function ip(t,n){return Mo(4,2,t,n)}function rp(t,n){return Mo(4,4,t,n)}function sp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ap(t,n,r){r=r!=null?r.concat([t]):null,Mo(4,4,sp.bind(null,n,t),r)}function Qf(){}function lp(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Uf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function up(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Uf(n,l[1]))return l[0];if(l=t(),gs){ni(!0);try{t()}finally{ni(!1)}}return r.memoizedState=[l,n],l}function Xf(t,n,r){return r===void 0||br&1073741824?t.memoizedState=n:(t.memoizedState=r,t=cy(),bt.lanes|=t,Ir|=t,r)}function op(t,n,r,l){return yn(r,n)?r:fa.current!==null?(t=Xf(t,r,l),yn(t,n)||(Ne=!0),t):br&42?(t=cy(),bt.lanes|=t,Ir|=t,n):(Ne=!0,t.memoizedState=r)}function cp(t,n,r,l,c){var h=rt.p;rt.p=h!==0&&8>h?h:8;var y=A.T,E={};A.T=E,Kf(t,!1,n,r);try{var S=c(),I=A.S;if(I!==null&&I(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=K0(S,l);Vl(t,n,F,Tn(t))}else Vl(t,n,l,Tn(t))}catch(Y){Vl(t,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{rt.p=h,A.T=y}}function eT(){}function $f(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=fp(t).queue;cp(t,c,n,At,r===null?eT:function(){return hp(t),r(l)})}function fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hp(t){var n=fp(t).next.queue;Vl(t,n,{},Tn())}function Yf(){return Ye(tu)}function dp(){return ge().memoizedState}function mp(){return ge().memoizedState}function nT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();t=Cr(r);var l=Dr(n,t,r);l!==null&&(ln(l,n,r),Ll(l,n,r)),n={cache:xf()},t.payload=n;return}n=n.return}}function iT(t,n,r){var l=Tn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},No(t)?pp(n,r):(r=wf(t,n,r,l),r!==null&&(ln(r,t,l),yp(r,n,l)))}function gp(t,n,r){var l=Tn();Vl(t,n,r,l)}function Vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(No(t))pp(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,yn(E,y))return mo(t,n,c,0),Zt===null&&ho(),!1}catch{}finally{}if(r=wf(t,n,c,l),r!==null)return ln(r,t,l),yp(r,n,l),!0}return!1}function Kf(t,n,r,l){if(l={lane:2,revertLane:zh(),action:l,hasEagerState:!1,eagerState:null,next:null},No(t)){if(n)throw Error(s(479))}else n=wf(t,r,l,2),n!==null&&ln(n,t,2)}function No(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function pp(t,n){ma=So=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function yp(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,cr(t,r)}}var gi={readContext:Ye,use:Co,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};gi.useCacheRefresh=he,gi.useMemoCache=he,gi.useHostTransitionStatus=he,gi.useFormState=he,gi.useActionState=he,gi.useOptimistic=he;var ps={readContext:Ye,use:Co,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:np,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Oo(4194308,4,sp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Oo(4194308,4,t,n)},useInsertionEffect:function(t,n){Oo(4,2,t,n)},useMemo:function(t,n){var r=cn();n=n===void 0?null:n;var l=t();if(gs){ni(!0);try{t()}finally{ni(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=cn();if(r!==void 0){var c=r(n);if(gs){ni(!0);try{r(n)}finally{ni(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=iT.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Hf(t);var n=t.queue,r=gp.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Qf,useDeferredValue:function(t,n){var r=cn();return Xf(r,t,n)},useTransition:function(){var t=Hf(!1);return t=cp.bind(null,bt,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=cn();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));xt&60||kg(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,np(jg.bind(null,l,h,t),[t]),l.flags|=2048,pa(9,qg.bind(null,l,h,r,n),{destroy:void 0},null),r},useId:function(){var t=cn(),n=Zt.identifierPrefix;if(Pt){var r=ki,l=zi;r=(l&~(1<<32-nn(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=wo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Z0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return cn().memoizedState=nT.bind(null,bt)}};ps.useMemoCache=kf,ps.useHostTransitionStatus=Yf,ps.useFormState=Zg,ps.useActionState=Zg,ps.useOptimistic=function(t){var n=cn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Kf.bind(null,bt,!0,r),r.dispatch=n,[t,n]};var Sr={readContext:Ye,use:Co,useCallback:lp,useContext:Ye,useEffect:Gf,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:up,useReducer:Do,useRef:ep,useState:function(){return Do(ji)},useDebugValue:Qf,useDeferredValue:function(t,n){var r=ge();return op(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Do(ji)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:zg,useId:dp};Sr.useCacheRefresh=mp,Sr.useMemoCache=kf,Sr.useHostTransitionStatus=Yf,Sr.useFormState=Jg,Sr.useActionState=Jg,Sr.useOptimistic=function(t,n){var r=ge();return Gg(r,Qt,t,n)};var ys={readContext:Ye,use:Co,useCallback:lp,useContext:Ye,useEffect:Gf,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:up,useReducer:jf,useRef:ep,useState:function(){return jf(ji)},useDebugValue:Qf,useDeferredValue:function(t,n){var r=ge();return Qt===null?Xf(r,t,n):op(r,Qt.memoizedState,t,n)},useTransition:function(){var t=jf(ji)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:zg,useId:dp};ys.useCacheRefresh=mp,ys.useMemoCache=kf,ys.useHostTransitionStatus=Yf,ys.useFormState=tp,ys.useActionState=tp,ys.useOptimistic=function(t,n){var r=ge();return Qt!==null?Gg(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Zf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jf={isMounted:function(t){return(t=t._reactInternals)?ct(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Tn(),c=Cr(l);c.payload=n,r!=null&&(c.callback=r),n=Dr(t,c,l),n!==null&&(ln(n,t,l),Ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Tn(),c=Cr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Dr(t,c,l),n!==null&&(ln(n,t,l),Ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Tn(),l=Cr(r);l.tag=2,n!=null&&(l.callback=n),n=Dr(t,l,r),n!==null&&(ln(n,t,r),Ll(n,t,r))}};function _p(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!Tl(r,l)||!Tl(c,h):!0}function vp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Jf.enqueueReplaceState(n,n.state,null)}function _s(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ep(t){xo(t)}function Tp(t){console.error(t)}function Ap(t){xo(t)}function Io(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wf(t,n,r){return r=Cr(r),r.tag=3,r.payload={element:null},r.callback=function(){Io(t,n)},r}function Sp(t){return t=Cr(t),t.tag=3,t}function wp(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){bp(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){bp(n,r,l),typeof c!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function rT(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Bl(n,r,c,!0),r=Pn.current,r!==null){switch(r.tag){case 13:return mi===null?Vh():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Of?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Bh(t,l,c)),!1;case 22:return r.flags|=65536,l===Of?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Bh(t,l,c)),!1}throw Error(s(435,r.tag))}return Bh(t,l,c),Vh(),!1}if(Pt)return n=Pn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Df&&(t=Error(s(422),{cause:l}),wl(Un(t,r)))):(l!==Df&&(n=Error(s(423),{cause:l}),wl(Un(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Un(l,r),c=Wf(t.stateNode,l,c),mh(t,c),ue!==4&&(ue=2)),!1;var h=Error(s(520),{cause:l});if(h=Un(h,r),Gl===null?Gl=[h]:Gl.push(h),ue!==4&&(ue=2),n===null)return!0;l=Un(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Wf(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Vr===null||!Vr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sp(c),wp(c,t,r,l),mh(r,c),!1}r=r.return}while(r!==null);return!1}var Rp=Error(s(461)),Ne=!1;function ke(t,n,r,l){n.child=t===null?Ng(n,null,r,l):ds(n,t.child,r,l)}function Cp(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Es(n),l=Bf(t,n,r,y,h,c),E=Lf(),t!==null&&!Ne?(Pf(t,n,c),Hi(t,n,c)):(Pt&&E&&Rf(n),n.flags|=1,ke(t,n,l,c),n.child)}function Dp(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!Ah(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Op(t,n,h,l,c)):(t=Po(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!uh(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:Tl,r(y,l)&&t.ref===n.ref)return Hi(t,n,c)}return n.flags|=1,t=xr(h,l),t.ref=n.ref,t.return=n,n.child=t}function Op(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(Tl(h,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=h,uh(t,c))t.flags&131072&&(Ne=!0);else return n.lanes=t.lanes,Hi(t,n,c)}return th(t,n,r,l,c)}function Mp(t,n,r){var l=n.pendingProps,c=l.children,h=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(Ul(t,n),l.mode==="hidden"||h){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Np(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&bo(n,y!==null?y.cachePool:null),y!==null?xg(n,y):Mf(),Ig(n);else return n.lanes=n.childLanes=536870912,Np(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(bo(n,y.cachePool),xg(n,y),Ar(),n.memoizedState=null):(t!==null&&bo(n,null),Mf(),Ar());return ke(t,n,c,r),n.child}function Np(t,n,r,l){var c=Vf();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&bo(n,null),Mf(),Ig(n),t!==null&&Bl(t,n,l,!0),null}function Ul(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function th(t,n,r,l,c){return Es(n),r=Bf(t,n,r,l,void 0,c),l=Lf(),t!==null&&!Ne?(Pf(t,n,c),Hi(t,n,c)):(Pt&&l&&Rf(n),n.flags|=1,ke(t,n,r,c),n.child)}function xp(t,n,r,l,c,h){return Es(n),n.updateQueue=null,r=Pg(n,l,r,c),Lg(t),l=Lf(),t!==null&&!Ne?(Pf(t,n,h),Hi(t,n,h)):(Pt&&l&&Rf(n),n.flags|=1,ke(t,n,r,h),n.child)}function Ip(t,n,r,l,c){if(Es(n),n.stateNode===null){var h=la,y=r.contextType;typeof y=="object"&&y!==null&&(h=Ye(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Jf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},hh(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?Ye(y):la,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Zf(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Jf.enqueueReplaceState(h,h.state,null),zl(n,l,h,c),Pl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,S=_s(r,E);h.props=S;var I=h.context,F=r.contextType;y=la,typeof F=="object"&&F!==null&&(y=Ye(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||I!==y)&&vp(n,h,l,y),Rr=!1;var z=n.memoizedState;h.state=z,zl(n,l,h,c),Pl(),I=n.memoizedState,E||z!==I||Rr?(typeof Y=="function"&&(Zf(n,r,Y,l),I=n.memoizedState),(S=Rr||_p(n,r,S,l,z,I,y))?(F||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=y,l=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,dh(t,n),y=n.memoizedProps,F=_s(r,y),h.props=F,Y=n.pendingProps,z=h.context,I=r.contextType,S=la,typeof I=="object"&&I!==null&&(S=Ye(I)),E=r.getDerivedStateFromProps,(I=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Y||z!==S)&&vp(n,h,l,S),Rr=!1,z=n.memoizedState,h.state=z,zl(n,l,h,c),Pl();var j=n.memoizedState;y!==Y||z!==j||Rr||t!==null&&t.dependencies!==null&&Vo(t.dependencies)?(typeof E=="function"&&(Zf(n,r,E,l),j=n.memoizedState),(F=Rr||_p(n,r,F,l,z,j,S)||t!==null&&t.dependencies!==null&&Vo(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,j,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,j,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=S,l=F):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Ul(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ds(n,t.child,null,c),n.child=ds(n,null,r,c)):ke(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Hi(t,n,c),t}function Vp(t,n,r,l){return Sl(),n.flags|=256,ke(t,n,r,l),n.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function nh(t){return{baseLanes:t,cachePool:Bg()}}function ih(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=jn),t}function Up(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Tr(n):Ar(),Pt){var E=ze,S;if(S=E){t:{for(S=E,E=di;S.nodeType!==8;){if(!E){E=null;break t}if(S=Yn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:cs!==null?{id:zi,overflow:ki}:null,retryLane:536870912},S=qn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,an=n,ze=null,S=!0):S=!1}S||hs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;qi(n)}return E=l.children,l=l.fallback,c?(Ar(),c=n.mode,E=sh({mode:"hidden",children:E},c),l=As(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=nh(r),c.childLanes=ih(t,y,r),n.memoizedState=eh,l):(Tr(n),rh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(h)n.flags&256?(Tr(n),n.flags&=-257,n=ah(t,n,r)):n.memoizedState!==null?(Ar(),n.child=t.child,n.flags|=128,n=null):(Ar(),c=l.fallback,E=n.mode,l=sh({mode:"visible",children:l.children},E),c=As(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ds(n,t.child,null,r),l=n.child,l.memoizedState=nh(r),l.childLanes=ih(t,y,r),n.memoizedState=eh,n=c);else if(Tr(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var I=y.dgst;y=I,l=Error(s(419)),l.stack="",l.digest=y,wl({value:l,source:null,stack:null}),n=ah(t,n,r)}else if(Ne||Bl(t,n,r,!1),y=(r&t.childLanes)!==0,Ne||y){if(y=Zt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,Er(t,l),ln(y,t,l),Rp}E.data==="$?"||Vh(),n=ah(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=vT.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,ze=Yn(E.nextSibling),an=n,Pt=!0,Xn=null,di=!1,t!==null&&(Bn[Ln++]=zi,Bn[Ln++]=ki,Bn[Ln++]=cs,zi=t.id,ki=t.overflow,cs=n),n=rh(n,l.children),n.flags|=4096);return n}return c?(Ar(),c=l.fallback,E=n.mode,S=t.child,I=S.sibling,l=xr(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,I!==null?c=xr(I,c):(c=As(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=nh(r):(S=E.cachePool,S!==null?(I=Se._currentValue,S=S.parent!==I?{parent:I,pool:I}:S):S=Bg(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=ih(t,y,r),n.memoizedState=eh,l):(Tr(n),r=t.child,t=r.sibling,r=xr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function rh(t,n){return n=sh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sh(t,n){return ly(t,n,0,null)}function ah(t,n,r){return ds(n,t.child,null,r),t=rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function lh(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function Lp(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(ke(t,n,l.children,r),l=be.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bp(t,r,n);else if(t.tag===19)Bp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(jt(be,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ao(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),lh(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ao(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}lh(n,!0,r,null,h);break;case"together":lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ir|=n.lanes,!(r&n.childLanes))if(t!==null){if(Bl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=xr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=xr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Vo(t)))}function sT(t,n,r){switch(n.tag){case 3:rr(n,n.stateNode.containerInfo),wr(n,Se,t.memoizedState.cache),Sl();break;case 27:case 5:tl(n);break;case 4:rr(n,n.stateNode.containerInfo);break;case 10:wr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(n),n.flags|=128,null):r&n.child.childLanes?Up(t,n,r):(Tr(n),t=Hi(t,n,r),t!==null?t.sibling:null);Tr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Bl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Lp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),jt(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Mp(t,n,r);case 24:wr(n,Se,t.memoizedState.cache)}return Hi(t,n,r)}function Pp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!uh(t,r)&&!(n.flags&128))return Ne=!1,sT(t,n,r);Ne=!!(t.flags&131072)}else Ne=!1,Pt&&n.flags&1048576&&Ag(n,yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ah(l)?(t=_s(l,t),n.tag=1,n=Ip(null,n,l,t,r)):(n.tag=0,n=th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===H){n.tag=11,n=Cp(null,n,l,t,r);break t}else if(c===mt){n.tag=14,n=Dp(null,n,l,t,r);break t}}throw n=b(l)||l,Error(s(306,n,""))}}return n;case 0:return th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=_s(l,n.pendingProps),Ip(t,n,l,c,r);case 3:t:{if(rr(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var h=n.pendingProps;c=n.memoizedState,l=c.element,dh(t,n),zl(n,h,null,r);var y=n.memoizedState;if(h=y.cache,wr(n,Se,h),h!==c.cache&&fh(n,[Se],r,!0),Pl(),h=y.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Vp(t,n,h,r);break t}else if(h!==l){l=Un(Error(s(424)),n),wl(l),n=Vp(t,n,h,r);break t}else for(ze=Yn(n.stateNode.containerInfo.firstChild),an=n,Pt=!0,Xn=null,di=!0,r=Ng(n,null,h,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sl(),h===l){n=Hi(t,n,r);break t}ke(t,n,h,r)}n=n.child}return n;case 26:return Ul(t,n),t===null?(r=qy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=Ko(Cn.current).createElement(r),l[De]=n,l[Ee]=t,qe(l,r,t),ee(l),n.stateNode=l):n.memoizedState=qy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return tl(n),t===null&&Pt&&(l=n.stateNode=Py(n.type,n.pendingProps,Cn.current),an=n,di=!0,ze=Yn(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?ke(t,n,l,r):n.child=ds(n,null,l,r),Ul(t,n),n.child;case 5:return t===null&&Pt&&((c=l=ze)&&(l=UT(l,n.type,n.pendingProps,di),l!==null?(n.stateNode=l,an=n,ze=Yn(l.firstChild),di=!1,c=!0):c=!1),c||hs(n)),tl(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,$h(c,h)?l=null:y!==null&&$h(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Bf(t,n,J0,null,null,r),tu._currentValue=c),Ul(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ze)&&(r=BT(r,n.pendingProps,di),r!==null?(n.stateNode=r,an=n,ze=null,t=!0):t=!1),t||hs(n)),null;case 13:return Up(t,n,r);case 4:return rr(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ds(n,null,l,r):ke(t,n,l,r),n.child;case 11:return Cp(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,wr(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Es(n),c=Ye(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return Dp(t,n,n.type,n.pendingProps,r);case 15:return Op(t,n,n.type,n.pendingProps,r);case 19:return Lp(t,n,r);case 22:return Mp(t,n,r);case 24:return Es(n),l=Ye(Se),t===null?(c=Vf(),c===null&&(c=Zt,h=xf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},hh(n),wr(n,Se,c)):(t.lanes&r&&(dh(t,n),zl(n,null,null,r),Pl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),wr(n,Se,l)):(l=h.cache,wr(n,Se,l),l!==c.cache&&fh(n,[Se],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var oh=Bt(null),vs=null,Fi=null;function wr(t,n,r){jt(oh,n._currentValue),n._currentValue=r}function Gi(t){t._currentValue=oh.current,se(oh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function fh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),ch(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),ch(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Bl(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if(c.flags&524288)h=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;yn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ir.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(tu):t=[tu])}c=c.return}t!==null&&fh(n,t,r,l),n.flags|=262144}function Vo(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Es(t){vs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return zp(vs,t)}function Uo(t,n){return vs===null&&Es(t),zp(t,n)}function zp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Fi=Fi.next=n;return r}var Rr=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,ie&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=go(t),Eg(t,null,r),n}return mo(t,l,n,r),go(t)}function Ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,cr(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function Pl(){if(gh){var t=da;if(t!==null)throw t}}function zl(t,n,r,l){gh=!1;var c=t.updateQueue;Rr=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,I=S.next;S.next=null,y===null?h=I:y.next=I,y=S;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=I:E.next=I,F.lastBaseUpdate=S))}if(h!==null){var Y=c.baseState;y=0,F=I=S=null,E=h;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(xt&z)===z:(l&z)===z){z!==0&&z===ha&&(gh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,_t=E;z=n;var oe=r;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){Y=ft.call(oe,Y,z);break t}Y=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,z=typeof ft=="function"?ft.call(oe,Y,z):ft,z==null)break t;Y=w({},Y,z);break t;case 2:Rr=!0}}z=E.callback,z!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(I=F=j,S=Y):F=F.next=j,y|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);F===null&&(S=Y),c.baseState=S,c.firstBaseUpdate=I,c.lastBaseUpdate=F,h===null&&(c.shared.lanes=0),Ir|=y,t.lanes=y,t.memoizedState=Y}}function kp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function qp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)kp(r[t],n)}function kl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function Or(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=r;try{E()}catch(I){Yt(c,S,I)}}}l=l.next}while(l!==h)}}catch(I){Yt(n,n.return,I)}}function jp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{qp(n,r)}catch(l){Yt(t,t.return,l)}}}function Hp(t,n,r){r.props=_s(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Ts(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(h){Yt(t,n,h)}}function _n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Fp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function Gp(t,n,r){try{var l=t.stateNode;MT(l,t.type,r,n),l[Ee]=n}catch(c){Yt(t,t.return,c)}}function Qp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Yo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yh(t,n,r),t=t.sibling;t!==null;)yh(t,n,r),t=t.sibling}function Bo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Bo(t,n,r),t=t.sibling;t!==null;)Bo(t,n,r),t=t.sibling}var Qi=!1,le=!1,_h=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,xe=null,$p=!1;function aT(t,n){if(t=t.containerInfo,Qh=nc,t=fg(t),Ef(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,S=-1,I=0,F=0,Y=t,z=null;e:for(;;){for(var j;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==h||l!==0&&Y.nodeType!==3||(S=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===t)break e;if(z===r&&++I===c&&(E=y),z===h&&++F===l&&(S=y),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xh={focusedElem:t,selectionRange:r},nc=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var ft=_s(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Yt(r,r.return,_t)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Zh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}return ft=$p,$p=!1,ft}function Yp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&kl(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=_s(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&jp(r),l&512&&Ts(r,r.return);break;case 3:if($i(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{qp(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:$i(t,r),l&512&&Ts(r,r.return);break;case 27:case 5:$i(t,r),n===null&&l&4&&Fp(r),l&512&&Ts(r,r.return);break;case 12:$i(t,r);break;case 13:$i(t,r),l&4&&Jp(t,r);break;case 22:if(c=r.memoizedState!==null||Qi,!c){n=n!==null&&n.memoizedState!==null||le;var h=Qi,y=le;Qi=c,(le=n)&&!y?Mr(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Qi=h,le=y}l&512&&(r.memoizedProps.mode==="manual"?Ts(r,r.return):_n(r,r.return));break;default:$i(t,r)}}function Kp(t){var n=t.alternate;n!==null&&(t.alternate=null,Kp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,vn=!1;function Xi(t,n,r){for(r=r.child;r!==null;)Zp(t,n,r),r=r.sibling}function Zp(t,n,r){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(sr,r)}catch{}switch(r.tag){case 26:le||_n(r,n),Xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||_n(r,n);var l=pe,c=vn;for(pe=r.stateNode,Xi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Zr(r),pe=l,vn=c;break;case 5:le||_n(r,n);case 6:c=pe;var h=vn;if(pe=null,Xi(t,n,r),pe=c,vn=h,pe!==null)if(vn)try{t=pe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Yt(r,n,y)}else try{pe.removeChild(r.stateNode)}catch(y){Yt(r,n,y)}break;case 18:pe!==null&&(vn?(n=pe,r=r.stateNode,n.nodeType===8?Kh(n.parentNode,r):n.nodeType===1&&Kh(n,r),ru(n)):Kh(pe,r.stateNode));break;case 4:l=pe,c=vn,pe=r.stateNode.containerInfo,vn=!0,Xi(t,n,r),pe=l,vn=c;break;case 0:case 11:case 14:case 15:le||Or(2,r,n),le||Or(4,r,n),Xi(t,n,r);break;case 1:le||(_n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Hp(r,n,l)),Xi(t,n,r);break;case 21:Xi(t,n,r);break;case 22:le||_n(r,n),le=(l=le)||r.memoizedState!==null,Xi(t,n,r),le=l;break;default:Xi(t,n,r)}}function Jp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ru(t)}catch(r){Yt(n,n.return,r)}}function lT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Xp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Xp),n;default:throw Error(s(435,t.tag))}}function vh(t,n){var r=lT(t);n.forEach(function(l){var c=ET.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function zn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:pe=E.stateNode,vn=!1;break t;case 3:pe=E.stateNode.containerInfo,vn=!0;break t;case 4:pe=E.stateNode.containerInfo,vn=!0;break t}E=E.return}if(pe===null)throw Error(s(160));Zp(h,y,c),pe=null,vn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wp(n,t),n=n.sibling}var $n=null;function Wp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(n,t),kn(t),l&4&&(Or(3,t,t.return),kl(3,t),Or(5,t,t.return));break;case 1:zn(n,t),kn(t),l&512&&(le||r===null||_n(r,r.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=$n;if(zn(n,t),kn(t),l&512&&(le||r===null||_n(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[hr]||h[De]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),qe(h,l,r),h[De]=t,ee(h),l=h;break t;case"link":var y=Fy("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),qe(h,l,r),c.head.appendChild(h);break;case"meta":if(y=Fy("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),qe(h,l,r),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[De]=t,ee(h),l=h}t.stateNode=l}else Gy(c,t.type,t.stateNode);else t.stateNode=Hy(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Gy(c,t.type,t.stateNode):Hy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gp(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var S=c.firstChild;S;){var I=S.nextSibling,F=S.nodeName;S[hr]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=I}for(var Y=t.type,z=c.attributes;z.length;)c.removeAttributeNode(z[0]);qe(c,Y,h),c[De]=t,c[Ee]=h}catch(ft){Yt(t,t.return,ft)}}case 5:if(zn(n,t),kn(t),l&512&&(le||r===null||_n(r,r.return)),t.flags&32){c=t.stateNode;try{Mn(c,"")}catch(ft){Yt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gp(t,c,r!==null?r.memoizedProps:c)),l&1024&&(_h=!0);break;case 6:if(zn(n,t),kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ft){Yt(t,t.return,ft)}}break;case 3:if(Wo=null,c=$n,$n=Zo(n.containerInfo),zn(n,t),$n=c,kn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ru(n.containerInfo)}catch(ft){Yt(t,t.return,ft)}_h&&(_h=!1,ty(t));break;case 4:l=$n,$n=Zo(t.stateNode.containerInfo),zn(n,t),kn(t),$n=l;break;case 12:zn(n,t),kn(t);break;case 13:zn(n,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Dh=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 22:if(l&512&&(le||r===null||_n(r,r.return)),S=t.memoizedState!==null,I=r!==null&&r.memoizedState!==null,F=Qi,Y=le,Qi=F||S,le=Y||I,zn(n,t),le=Y,Qi=F,kn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Qi||le,r===null||I||n||ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){I=r=n;try{if(c=I.stateNode,S)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=I.stateNode,E=I.memoizedProps.style;var j=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ft){Yt(I,I.return,ft)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=S?"":I.memoizedProps}catch(ft){Yt(I,I.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vh(t,r))));break;case 19:zn(n,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 21:break;default:zn(n,t),kn(t)}}function kn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Qp(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,h=ph(t);Bo(t,h,c);break;case 5:var y=l.stateNode;l.flags&32&&(Mn(y,""),l.flags&=-33);var E=ph(t);Bo(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,I=ph(t);yh(t,I,S);break;default:throw Error(s(161))}}}catch(F){Yt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(t,n.alternate,n),n=n.sibling}function ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),ya(n);break;case 1:_n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Hp(n,n.return,r),ya(n);break;case 26:case 27:case 5:_n(n,n.return),ya(n);break;case 22:_n(n,n.return),n.memoizedState===null&&ya(n);break;default:ya(n)}t=t.sibling}}function Mr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Mr(c,h,r),kl(4,h);break;case 1:if(Mr(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Yt(l,l.return,I)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)kp(S[c],E)}catch(I){Yt(l,l.return,I)}}r&&y&64&&jp(h),Ts(h,h.return);break;case 26:case 27:case 5:Mr(c,h,r),r&&l===null&&y&4&&Fp(h),Ts(h,h.return);break;case 12:Mr(c,h,r);break;case 13:Mr(c,h,r),r&&y&4&&Jp(c,h);break;case 22:h.memoizedState===null&&Mr(c,h,r),Ts(h,h.return);break;default:Mr(c,h,r)}n=n.sibling}}function Eh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ml(r))}function Th(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ml(t))}function Nr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(t,n,r,l),n=n.sibling}function ey(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Nr(t,n,r,l),c&2048&&kl(9,n);break;case 3:Nr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ml(t)));break;case 12:if(c&2048){Nr(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Yt(n,n.return,S)}}else Nr(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?Nr(t,n,r,l):ql(t,n):h._visibility&4?Nr(t,n,r,l):(h._visibility|=4,_a(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Eh(n.alternate,n);break;case 24:Nr(t,n,r,l),c&2048&&Th(n.alternate,n);break;default:Nr(t,n,r,l)}}function _a(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,S=l,I=y.flags;switch(y.tag){case 0:case 11:case 15:_a(h,y,E,S,c),kl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&4?_a(h,y,E,S,c):ql(h,y):(F._visibility|=4,_a(h,y,E,S,c)),c&&I&2048&&Eh(y.alternate,y);break;case 24:_a(h,y,E,S,c),c&&I&2048&&Th(y.alternate,y);break;default:_a(h,y,E,S,c)}n=n.sibling}}function ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ql(r,l),c&2048&&Eh(l.alternate,l);break;case 24:ql(r,l),c&2048&&Th(l.alternate,l);break;default:ql(r,l)}n=n.sibling}}var jl=8192;function va(t){if(t.subtreeFlags&jl)for(t=t.child;t!==null;)ny(t),t=t.sibling}function ny(t){switch(t.tag){case 26:va(t),t.flags&jl&&t.memoizedState!==null&&YT($n,t.memoizedState,t.memoizedProps);break;case 5:va(t);break;case 3:case 4:var n=$n;$n=Zo(t.stateNode.containerInfo),va(t),$n=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=jl,jl=16777216,va(t),jl=n):va(t));break;default:va(t)}}function iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Hl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,sy(l,t)}iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ry(t),t=t.sibling}function ry(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&Or(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Lo(t)):Hl(t);break;default:Hl(t)}}function Lo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,sy(l,t)}iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Or(8,n,n.return),Lo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Lo(n));break;default:Lo(n)}t=t.sibling}}function sy(t,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:Or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xe=l;else t:for(r=t;xe!==null;){l=xe;var c=l.sibling,h=l.return;if(Kp(l),l===r){xe=null;break t}if(c!==null){c.return=h,xe=c;break t}xe=h}}}function uT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,n,r,l){return new uT(t,n,r,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xr(t,n){var r=t.alternate;return r===null?(r=qn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ay(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Po(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")Ah(t)&&(y=1);else if(typeof t=="string")y=XT(t,r,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return As(r.children,c,h,n);case v:y=8,c|=24;break;case R:return t=qn(12,r,n,c|2),t.elementType=R,t.lanes=h,t;case X:return t=qn(13,r,n,c),t.elementType=X,t.lanes=h,t;case G:return t=qn(19,r,n,c),t.elementType=G,t.lanes=h,t;case it:return ly(r,c,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case k:y=10;break t;case V:y=9;break t;case H:y=11;break t;case mt:y=14;break t;case K:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=qn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function As(t,n,r,l){return t=qn(7,t,l,n),t.lanes=r,t}function ly(t,n,r,l){t=qn(22,t,l,n),t.elementType=it,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var y=Er(h,2);y!==null&&(c._pendingVisibility|=2,ln(y,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(s(456));if(c._pendingVisibility&2){var y=Er(h,2);y!==null&&(c._pendingVisibility&=-3,ln(y,h,2))}}};return t.stateNode=c,t}function bh(t,n,r){return t=qn(6,t,null,n),t.lanes=r,t}function Sh(t,n,r){return n=qn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Yi(t){t.flags|=4}function uy(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Qy(n)){if(n=Pn.current,n!==null&&((xt&4194176)===xt?mi!==null:(xt&62914560)!==xt&&!(xt&536870912)||n!==mi))throw Cl=Of,wg;t.flags|=8192}}function zo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ur():536870912,t.lanes|=n,Ta|=n)}function Fl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function oT(t,n,r){var l=n.pendingProps;switch(Cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(Se),Di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bl(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Xn!==null&&(xh(Xn),Xn=null))),ne(n),null;case 26:return r=n.memoizedState,t===null?(Yi(n),r!==null?(ne(n),uy(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Yi(n),ne(n),uy(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Yi(n),ne(n),n.flags&=-16777217),null;case 27:ks(n),r=Cn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=en.current,bl(n)?bg(n):(t=Py(c,l,r),n.stateNode=t,Yi(n))}return ne(n),null;case 5:if(ks(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=en.current,bl(n))bg(n);else{switch(c=Ko(Cn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[Ee]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(qe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Yi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Cn.current,bl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=an,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||xy(t.nodeValue,r)),t||hs(n)}else t=Ko(t).createTextNode(l),t[De]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=bl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else Sl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else Xn!==null&&(xh(Xn),Xn=null),c=!0;if(!c)return n.flags&256?(qi(n),n):(qi(n),null)}if(qi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),zo(n,n.updateQueue),ne(n),null;case 4:return Di(),t===null&&Hh(n.stateNode.containerInfo),ne(n),null;case 10:return Gi(n.type),ne(n),null;case 19:if(se(be),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Fl(c,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(h=Ao(t),h!==null){for(n.flags|=128,Fl(c,!1),t=h.updateQueue,n.updateQueue=t,zo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)ay(r,t),r=r.sibling;return jt(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&un()>ko&&(n.flags|=128,l=!0,Fl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ao(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,zo(n,t),Fl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Pt)return ne(n),null}else 2*un()-c.renderingStartTime>ko&&r!==536870912&&(n.flags|=128,l=!0,Fl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=un(),n.sibling=null,t=be.current,jt(be,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return qi(n),Nf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&zo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&se(ms),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Gi(Se),ne(n),null;case 25:return null}throw Error(s(156,n.tag))}function cT(t,n){switch(Cf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Gi(Se),Di(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ks(n),null;case 13:if(qi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return se(be),null;case 4:return Di(),null;case 10:return Gi(n.type),null;case 22:case 23:return qi(n),Nf(),t!==null&&se(ms),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Gi(Se),null;case 25:return null;default:return null}}function oy(t,n){switch(Cf(n),n.tag){case 3:Gi(Se),Di();break;case 26:case 27:case 5:ks(n);break;case 4:Di();break;case 13:qi(n);break;case 19:se(be);break;case 10:Gi(n.type);break;case 22:case 23:qi(n),Nf(),t!==null&&se(ms);break;case 24:Gi(Se)}}var fT={getCacheForType:function(t){var n=Ye(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},hT=typeof WeakMap=="function"?WeakMap:Map,ie=0,Zt=null,Rt=null,xt=0,Jt=0,En=null,Ki=!1,Ea=!1,wh=!1,Zi=0,ue=0,Ir=0,bs=0,Rh=0,jn=0,Ta=0,Gl=null,pi=null,Ch=!1,Dh=0,ko=1/0,qo=null,Vr=null,jo=!1,Ss=null,Ql=0,Oh=0,Mh=null,Xl=0,Nh=null;function Tn(){if(ie&2&&xt!==0)return xt&-xt;if(A.T!==null){var t=ha;return t!==0?t:zh()}return Xu()}function cy(){jn===0&&(jn=!(xt&536870912)||Pt?sl():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),jn}function ln(t,n,r){(t===Zt&&Jt===2||t.cancelPendingCommit!==null)&&(Aa(t,0),Ji(t,xt,jn,!1)),fe(t,r),(!(ie&2)||t!==Zt)&&(t===Zt&&(!(ie&2)&&(bs|=r),ue===4&&Ji(t,xt,jn,!1)),yi(t))}function fy(t,n,r){if(ie&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||lr(t,n),c=l?gT(t,n):Uh(t,n,!0),h=l;do{if(c===0){Ea&&!l&&Ji(t,n,0,!1);break}else if(c===6)Ji(t,n,0,!Ki);else{if(r=t.current.alternate,h&&!dT(r)){c=Uh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Gl;var S=E.current.memoizedState.isDehydrated;if(S&&(Aa(E,y).flags|=256),y=Uh(E,y,!1),y!==2){if(wh&&!S){E.errorRecoveryDisabledLanes|=h,bs|=h,c=4;break t}h=pi,pi=c,h!==null&&xh(h)}c=y}if(h=!1,c!==2)continue}}if(c===1){Aa(t,0),Ji(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ji(l,n,jn,!Ki);break t}break;case 2:pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(h=Dh+300-un(),10<h)){if(Ji(l,n,jn,!Ki),Dn(l,0)!==0)break t;l.timeoutHandle=Uy(hy.bind(null,l,r,pi,qo,Ch,n,jn,bs,Ta,Ki,2,-0,0),h);break t}hy(l,r,pi,qo,Ch,n,jn,bs,Ta,Ki,0,-0,0)}}break}while(!0);yi(t)}function xh(t){pi===null?pi=t:pi.push.apply(pi,t)}function hy(t,n,r,l,c,h,y,E,S,I,F,Y,z){var j=n.subtreeFlags;if((j&8192||(j&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:$T},ny(n),n=KT(),n!==null)){t.cancelPendingCommit=n(vy.bind(null,t,r,l,c,y,E,S,1,Y,z)),Ji(t,h,y,!I);return}vy(t,r,l,c,y,E,S,F,Y,z)}function dT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!yn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(t,n,r,l){n&=~Rh,n&=~bs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-nn(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&or(t,r,n)}function Ho(){return ie&6?!0:($l(0),!1)}function Ih(){if(Rt!==null){if(Jt===0)var t=Rt.return;else t=Rt,Fi=vs=null,zf(t),ca=null,Dl=0,t=Rt;for(;t!==null;)oy(t.alternate,t),t=t.return;Rt=null}}function Aa(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,xT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ih(),Zt=t,Rt=r=xr(t.current,null),xt=n,Jt=0,En=null,Ki=!1,Ea=lr(t,n),wh=!1,Ta=jn=Rh=bs=Ir=ue=0,pi=Gl=null,Ch=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-nn(l),h=1<<c;n|=t[c],l&=~h}return Zi=n,ho(),r}function dy(t,n){bt=null,A.H=gi,n===Rl?(n=Dg(),Jt=3):n===wg?(n=Dg(),Jt=4):Jt=n===Rp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Rt===null&&(ue=1,Io(t,Un(n,t.current)))}function my(){var t=A.H;return A.H=gi,t===null?gi:t}function gy(){var t=A.A;return A.A=fT,t}function Vh(){ue=4,Ki||(xt&4194176)!==xt&&Pn.current!==null||(Ea=!0),!(Ir&134217727)&&!(bs&134217727)||Zt===null||Ji(Zt,xt,jn,!1)}function Uh(t,n,r){var l=ie;ie|=2;var c=my(),h=gy();(Zt!==t||xt!==n)&&(qo=null,Aa(t,n)),n=!1;var y=ue;t:do try{if(Jt!==0&&Rt!==null){var E=Rt,S=En;switch(Jt){case 8:Ih(),y=6;break t;case 3:case 2:case 6:Pn.current===null&&(n=!0);var I=Jt;if(Jt=0,En=null,ba(t,E,S,I),r&&Ea){y=0;break t}break;default:I=Jt,Jt=0,En=null,ba(t,E,S,I)}}mT(),y=ue;break}catch(F){dy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Fi=vs=null,ie=l,A.H=c,A.A=h,Rt===null&&(Zt=null,xt=0,ho()),y}function mT(){for(;Rt!==null;)py(Rt)}function gT(t,n){var r=ie;ie|=2;var l=my(),c=gy();Zt!==t||xt!==n?(qo=null,ko=un()+500,Aa(t,n)):Ea=lr(t,n);t:do try{if(Jt!==0&&Rt!==null){n=Rt;var h=En;e:switch(Jt){case 1:Jt=0,En=null,ba(t,n,h,1);break;case 2:if(Rg(h)){Jt=0,En=null,yy(n);break}n=function(){Jt===2&&Zt===t&&(Jt=7),yi(t)},h.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Rg(h)?(Jt=0,En=null,yy(n)):(Jt=0,En=null,ba(t,n,h,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||Qy(y)){Jt=0,En=null;var S=E.sibling;if(S!==null)Rt=S;else{var I=E.return;I!==null?(Rt=I,Fo(I)):Rt=null}break e}}Jt=0,En=null,ba(t,n,h,5);break;case 6:Jt=0,En=null,ba(t,n,h,6);break;case 8:Ih(),ue=6;break t;default:throw Error(s(462))}}pT();break}catch(F){dy(t,F)}while(!0);return Fi=vs=null,A.H=l,A.A=c,ie=r,Rt!==null?0:(Zt=null,xt=0,ho(),ue)}function pT(){for(;Rt!==null&&!of();)py(Rt)}function py(t){var n=Pp(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,n===null?Fo(t):Rt=n}function yy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=xp(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=xp(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:zf(n);default:oy(r,n),n=Rt=ay(n,Zi),n=Pp(r,n,Zi)}t.memoizedProps=t.pendingProps,n===null?Fo(t):Rt=n}function ba(t,n,r,l){Fi=vs=null,zf(n),ca=null,Dl=0;var c=n.return;try{if(rT(t,c,n,r,xt)){ue=1,Io(t,Un(r,t.current)),Rt=null;return}}catch(h){if(c!==null)throw Rt=c,h;ue=1,Io(t,Un(r,t.current)),Rt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ea||xt&536870912?t=!1:(Ki=t=!0,(l===2||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_y(n,t)):Fo(n)}function Fo(t){var n=t;do{if(n.flags&32768){_y(n,Ki);return}t=n.return;var r=oT(n.alternate,n,Zi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function _y(t,n){do{var r=cT(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ue=6,Rt=null}function vy(t,n,r,l,c,h,y,E,S,I){var F=A.T,Y=rt.p;try{rt.p=2,A.T=null,yT(t,n,r,l,Y,c,h,y,E,S,I)}finally{A.T=F,rt.p=Y}}function yT(t,n,r,l,c,h,y,E){do Sa();while(Ss!==null);if(ie&6)throw Error(s(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var I=S.lanes|S.childLanes;if(I|=Sf,Gu(t,l,I,h,y,E),t===Zt&&(Rt=Zt=null,xt=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||jo||(jo=!0,Oh=I,Mh=r,TT(Oi,function(){return Sa(),null})),r=(S.flags&15990)!==0,S.subtreeFlags&15990||r?(r=A.T,A.T=null,h=rt.p,rt.p=2,y=ie,ie|=4,aT(t,S),Wp(S,t),q0(Xh,t.containerInfo),nc=!!Qh,Xh=Qh=null,t.current=S,Yp(t,S.alternate,S),el(),ie=y,rt.p=h,A.T=r):t.current=S,jo?(jo=!1,Ss=t,Ql=l):Ey(t,I),I=t.pendingLanes,I===0&&(Vr=null),il(S.stateNode),yi(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)I=n[S],c(I.value,{componentStack:I.stack});return Ql&3&&Sa(),I=t.pendingLanes,l&4194218&&I&42?t===Nh?Xl++:(Xl=0,Nh=t):Xl=0,$l(0),null}function Ey(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ml(n)))}function Sa(){if(Ss!==null){var t=Ss,n=Oh;Oh=0;var r=Qu(Ql),l=A.T,c=rt.p;try{if(rt.p=32>r?32:r,A.T=null,Ss===null)var h=!1;else{r=Mh,Mh=null;var y=Ss,E=Ql;if(Ss=null,Ql=0,ie&6)throw Error(s(331));var S=ie;if(ie|=4,ry(y.current),ey(y,y.current,E,r),ie=S,$l(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(sr,y)}catch{}h=!0}return h}finally{rt.p=c,A.T=l,Ey(t,n)}}return!1}function Ty(t,n,r){n=Un(r,n),n=Wf(t.stateNode,n,2),t=Dr(t,n,2),t!==null&&(fe(t,2),yi(t))}function Yt(t,n,r){if(t.tag===3)Ty(t,t,r);else for(;n!==null;){if(n.tag===3){Ty(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){t=Un(r,t),r=Sp(2),l=Dr(n,r,2),l!==null&&(wp(r,l,n,t),fe(l,2),yi(l));break}}n=n.return}}function Bh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new hT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(wh=!0,c.add(r),t=_T.bind(null,t,n,r),n.then(t,t))}function _T(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(xt&r)===r&&(ue===4||ue===3&&(xt&62914560)===xt&&300>un()-Dh?!(ie&2)&&Aa(t,0):Rh|=r,Ta===xt&&(Ta=0)),yi(t)}function Ay(t,n){n===0&&(n=ur()),t=Er(t,n),t!==null&&(fe(t,n),yi(t))}function vT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ay(t,r)}function ET(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ay(t,r)}function TT(t,n){return $r(t,n)}var Go=null,wa=null,Lh=!1,Qo=!1,Ph=!1,ws=0;function yi(t){t!==wa&&t.next===null&&(wa===null?Go=wa=t:wa=wa.next=t),Qo=!0,Lh||(Lh=!0,bT(AT))}function $l(t,n){if(!Ph&&Qo){Ph=!0;do for(var r=!1,l=Go;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-nn(42|t)+1)-1,h&=c&~(y&~E),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(r=!0,wy(l,h))}else h=xt,h=Dn(l,l===Zt?h:0),!(h&3)||lr(l,h)||(r=!0,wy(l,h));l=l.next}while(r);Ph=!1}}function AT(){Qo=Lh=!1;var t=0;ws!==0&&(NT()&&(t=ws),ws=0);for(var n=un(),r=null,l=Go;l!==null;){var c=l.next,h=by(l,n);h===0?(l.next=null,r===null?Go=c:r.next=c,c===null&&(wa=r)):(r=l,(t!==0||h&3)&&(Qo=!0)),l=c}$l(t)}function by(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-nn(h),E=1<<y,S=c[y];S===-1?(!(E&r)||E&l)&&(c[y]=Hs(E,n)):S<=n&&(t.expiredLanes|=E),h&=~E}if(n=Zt,r=xt,r=Dn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Jt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&js(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||lr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&js(l),Qu(r)){case 2:case 8:r=Ce;break;case 32:r=Oi;break;case 268435456:r=nl;break;default:r=Oi}return l=Sy.bind(null,t),r=$r(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&js(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,n){var r=t.callbackNode;if(Sa()&&t.callbackNode!==r)return null;var l=xt;return l=Dn(t,t===Zt?l:0),l===0?null:(fy(t,l,n),by(t,un()),t.callbackNode!=null&&t.callbackNode===r?Sy.bind(null,t):null)}function wy(t,n){if(Sa())return null;fy(t,n,!0)}function bT(t){IT(function(){ie&6?$r(ve,t):t()})}function zh(){return ws===0&&(ws=sl()),ws}function Ry(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ai(""+t)}function Cy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ST(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Ry((c[Ee]||null).action),y=l.submitter;y&&(n=(n=y[Ee]||null)?Ry(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new Ks("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ws!==0){var S=y?Cy(c,y):new FormData(c);$f(r,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(E.preventDefault(),S=y?Cy(c,y):new FormData(c),$f(r,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var kh=0;kh<vg.length;kh++){var qh=vg[kh],wT=qh.toLowerCase(),RT=qh[0].toUpperCase()+qh.slice(1);Qn(wT,"on"+RT)}Qn(mg,"onAnimationEnd"),Qn(gg,"onAnimationIteration"),Qn(pg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(H0,"onTransitionRun"),Qn(F0,"onTransitionStart"),Qn(G0,"onTransitionCancel"),Qn(yg,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Dy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,I=E.currentTarget;if(E=E.listener,S!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=I;try{h(c)}catch(F){xo(F)}c.currentTarget=null,h=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,I=E.currentTarget,E=E.listener,S!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=I;try{h(c)}catch(F){xo(F)}c.currentTarget=null,h=S}}}}function Ot(t,n){var r=n[Kr];r===void 0&&(r=n[Kr]=new Set);var l=t+"__bubble";r.has(l)||(Oy(n,t,2,!1),r.add(l))}function jh(t,n,r){var l=0;n&&(l|=4),Oy(r,t,l,n)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Hh(t){if(!t[Xo]){t[Xo]=!0,ll.forEach(function(r){r!=="selectionchange"&&(CT.has(r)||jh(r,!1,t),jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Xo]||(n[Xo]=!0,jh("selectionchange",!1,n))}}function Oy(t,n,r,l){switch(Jy(n)){case 2:var c=WT;break;case 8:c=tA;break;default:c=nd}r=c.bind(null,n,r,t),c=void 0,!xn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Fh(t,n,r,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Gn(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=h=y;continue t}E=E.parentNode}}l=l.return}Zu(function(){var I=h,F=Ys(r),Y=[];t:{var z=_g.get(t);if(z!==void 0){var j=Ks,ft=t;switch(t){case"keypress":if(ui(r)===0)break t;case"keydown":case"keyup":j=na;break;case"focusin":ft="focus",j=Ws;break;case"focusout":ft="blur",j=Ws;break;case"beforeblur":case"afterblur":j=Ws;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=so;break;case mg:case gg:case pg:j=ta;break;case yg:j=lo;break;case"scroll":case"scrollend":j=Ju;break;case"wheel":j=ia;break;case"copy":case"cut":case"paste":j=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=vl;break;case"toggle":case"beforetoggle":j=oo}var _t=(n&4)!==0,oe=!_t&&(t==="scroll"||t==="scrollend"),B=_t?z!==null?z+"Capture":null:z;_t=[];for(var x=I,P;x!==null;){var Q=x;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||B===null||(Q=es(x,B),Q!=null&&_t.push(Kl(x,Q,P))),oe)break;x=x.return}0<_t.length&&(z=new j(z,ft,null,r,F),Y.push({event:z,listeners:_t}))}}if(!(n&7)){t:{if(z=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",z&&r!==Nn&&(ft=r.relatedTarget||r.fromElement)&&(Gn(ft)||ft[Mi]))break t;if((j||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,j?(ft=r.relatedTarget||r.toElement,j=I,ft=ft?Gn(ft):null,ft!==null&&(oe=ct(ft),_t=ft.tag,ft!==oe||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(j=null,ft=I),j!==ft)){if(_t=In,Q="onMouseLeave",B="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_t=vl,Q="onPointerLeave",B="onPointerEnter",x="pointer"),oe=j==null?z:dr(j),P=ft==null?z:dr(ft),z=new _t(Q,x+"leave",j,r,F),z.target=oe,z.relatedTarget=P,Q=null,Gn(F)===I&&(_t=new _t(B,x+"enter",ft,r,F),_t.target=P,_t.relatedTarget=oe,Q=_t),oe=Q,j&&ft)e:{for(_t=j,B=ft,x=0,P=_t;P;P=Ra(P))x++;for(P=0,Q=B;Q;Q=Ra(Q))P++;for(;0<x-P;)_t=Ra(_t),x--;for(;0<P-x;)B=Ra(B),P--;for(;x--;){if(_t===B||B!==null&&_t===B.alternate)break e;_t=Ra(_t),B=Ra(B)}_t=null}else _t=null;j!==null&&My(Y,z,j,_t,!1),ft!==null&&oe!==null&&My(Y,oe,ft,_t,!0)}}t:{if(z=I?dr(I):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var st=ig;else if(Ae(z))if(rg)st=z0;else{st=L0;var wt=B0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?I&&hl(I.elementType)&&(st=ig):st=P0;if(st&&(st=st(t,I))){Pi(Y,st,r,F);break t}wt&&wt(t,z,I),t==="focusout"&&I&&z.type==="number"&&I.memoizedProps.value!=null&&$s(z,"number",z.value)}switch(wt=I?dr(I):window,t){case"focusin":(Ae(wt)||wt.contentEditable==="true")&&(ra=wt,Tf=I,Al=null);break;case"focusout":Al=Tf=ra=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,hg(Y,r,F);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":hg(Y,r,F)}var ht;if(fi)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?q(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(p&&r.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ht=ml()):(li=F,vr="value"in li?li.value:li.textContent,Mt=!0)),wt=$o(I,pt),0<wt.length&&(pt=new yl(pt,t,null,r,F),Y.push({event:pt,listeners:wt}),ht?pt.data=ht:(ht=W(r),ht!==null&&(pt.data=ht)))),(ht=m?Te(t,r):Nt(t,r))&&(pt=$o(I,"onBeforeInput"),0<pt.length&&(wt=new yl("onBeforeInput","beforeinput",null,r,F),Y.push({event:wt,listeners:pt}),wt.data=ht)),ST(Y,t,I,r,F)}Dy(Y,n)})}function Kl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function $o(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=es(t,r),c!=null&&l.unshift(Kl(t,c,h)),c=es(t,n),c!=null&&l.push(Kl(t,c,h))),t=t.return}return l}function Ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function My(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,S=E.alternate,I=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||I===null||(S=I,c?(I=es(r,h),I!=null&&y.unshift(Kl(r,I,S))):c||(I=es(r,h),I!=null&&y.push(Kl(r,I,S)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var DT=/\r\n?/g,OT=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(DT,`
`).replace(OT,"")}function xy(t,n){return n=Ny(n),Ny(t)===n}function Yo(){}function Xt(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Mn(t,""+l);break;case"className":pr(t,"class",l);break;case"tabIndex":pr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(t,r,l);break;case"style":Ku(t,l,h);break;case"data":if(n!=="object"){pr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ai(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ai(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Yo);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ai(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),gr(t,"popover",l);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mf.get(r)||r,gr(t,r,l))}}function Gh(t,n,r,l,c,h){switch(r){case"style":Ku(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[Ee]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):gr(t,r,l)}}}function qe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,h,y,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":Ot("invalid",t);var E=h=y=c=null,S=null,I=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":S=F;break;case"defaultChecked":I=F;break;case"value":h=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Xt(t,n,l,F,r,null)}}Wr(t,h,E,S,I,y,c,!1),Jr(t);return;case"select":Ot("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):r!=null&&Lt(t,!!l,r,!0);return;case"textarea":Ot("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,y,E,r,null)}_r(t,l,c,h),Jr(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,S,l,r,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Ot(Yl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,I,l,r,null)}return;default:if(hl(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&Gh(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function MT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,S=null,I=null,F=null;for(j in r){var Y=r[j];if(r.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=Y;default:l.hasOwnProperty(j)||Xt(t,n,j,null,l,Y)}}for(var z in l){var j=l[z];if(Y=r[z],l.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":h=j;break;case"name":c=j;break;case"checked":I=j;break;case"defaultChecked":F=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==Y&&Xt(t,n,z,j,l,Y)}}yr(t,y,E,S,I,F,h,c);return;case"select":j=y=E=z=null;for(h in r)if(S=r[h],r.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":j=S;default:l.hasOwnProperty(h)||Xt(t,n,h,null,l,S)}for(c in l)if(h=l[c],S=r[c],l.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":z=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==S&&Xt(t,n,c,h,l,S)}n=E,r=y,l=j,z!=null?Lt(t,!!r,z,!1):!!l!=!!r&&(n!=null?Lt(t,!!r,n,!0):Lt(t,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Xt(t,n,y,c,l,h)}ts(t,z,j);return;case"option":for(var ft in r)if(z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Xt(t,n,ft,null,l,z)}for(S in l)if(z=l[S],j=r[S],l.hasOwnProperty(S)&&z!==j&&(z!=null||j!=null))switch(S){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(t,n,S,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in r)z=r[_t],r.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t)&&Xt(t,n,_t,null,l,z);for(I in l)if(z=l[I],j=r[I],l.hasOwnProperty(I)&&z!==j&&(z!=null||j!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Xt(t,n,I,z,l,j)}return;default:if(hl(n)){for(var oe in r)z=r[oe],r.hasOwnProperty(oe)&&z!==void 0&&!l.hasOwnProperty(oe)&&Gh(t,n,oe,void 0,l,z);for(F in l)z=l[F],j=r[F],!l.hasOwnProperty(F)||z===j||z===void 0&&j===void 0||Gh(t,n,F,z,l,j);return}}for(var B in r)z=r[B],r.hasOwnProperty(B)&&z!=null&&!l.hasOwnProperty(B)&&Xt(t,n,B,null,l,z);for(Y in l)z=l[Y],j=r[Y],!l.hasOwnProperty(Y)||z===j||z==null&&j==null||Xt(t,n,Y,z,l,j)}var Qh=null,Xh=null;function Ko(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function NT(){var t=window.event;return t&&t.type==="popstate"?t===Yh?!1:(Yh=t,!0):(Yh=null,!1)}var Uy=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(VT)}:Uy;function VT(t){setTimeout(function(){throw t})}function Kh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),ru(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);ru(n)}function Zh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Zh(r),Zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function UT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function BT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Py(t,n,r){switch(n=Ko(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Hn=new Map,zy=new Set;function Zo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Wi=rt.d;rt.d={f:LT,r:PT,D:zT,C:kT,L:qT,m:jT,X:FT,S:HT,M:GT};function LT(){var t=Wi.f(),n=Ho();return t||n}function PT(t){var n=Ni(t);n!==null&&n.tag===5&&n.type==="form"?hp(n):Wi.r(t)}var Ca=typeof document>"u"?null:document;function ky(t,n,r){var l=Ca;if(l&&typeof n=="string"&&n){var c=ae(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),zy.has(c)||(zy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ee(n),l.head.appendChild(n)))}}function zT(t){Wi.D(t),ky("dns-prefetch",t,null)}function kT(t,n){Wi.C(t,n),ky("preconnect",t,n)}function qT(t,n,r){Wi.L(t,n,r);var l=Ca;if(l&&t&&n){var c='link[rel="preload"][as="'+ae(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ae(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ae(r.imageSizes)+'"]')):c+='[href="'+ae(t)+'"]';var h=c;switch(n){case"style":h=Da(t);break;case"script":h=Oa(t)}Hn.has(h)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Hn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Zl(h))||n==="script"&&l.querySelector(Jl(h))||(n=l.createElement("link"),qe(n,"link",t),ee(n),l.head.appendChild(n)))}}function jT(t,n){Wi.m(t,n);var r=Ca;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ae(l)+'"][href="'+ae(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Oa(t)}if(!Hn.has(h)&&(t=w({rel:"modulepreload",href:t},n),Hn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jl(h)))return}l=r.createElement("link"),qe(l,"link",t),ee(l),r.head.appendChild(l)}}}function HT(t,n,r){Wi.S(t,n,r);var l=Ca;if(l&&t){var c=mr(l).hoistableStyles,h=Da(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Zl(h)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Hn.get(h))&&Jh(t,r);var S=y=l.createElement("link");ee(S),qe(S,"link",t),S._p=new Promise(function(I,F){S.onload=I,S.onerror=F}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Jo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function FT(t,n){Wi.X(t,n);var r=Ca;if(r&&t){var l=mr(r).hoistableScripts,c=Oa(t),h=l.get(c);h||(h=r.querySelector(Jl(c)),h||(t=w({src:t,async:!0},n),(n=Hn.get(c))&&Wh(t,n),h=r.createElement("script"),ee(h),qe(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function GT(t,n){Wi.M(t,n);var r=Ca;if(r&&t){var l=mr(r).hoistableScripts,c=Oa(t),h=l.get(c);h||(h=r.querySelector(Jl(c)),h||(t=w({src:t,async:!0,type:"module"},n),(n=Hn.get(c))&&Wh(t,n),h=r.createElement("script"),ee(h),qe(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function qy(t,n,r,l){var c=(c=Cn.current)?Zo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Da(r.href),r=mr(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Da(r.href);var h=mr(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Zl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),h||QT(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=mr(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Da(t){return'href="'+ae(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function QT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",r),ee(n),t.head.appendChild(n))}function Oa(t){return'[src="'+ae(t)+'"]'}function Jl(t){return"script[async]"+t}function Hy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ae(r.href)+'"]');if(l)return n.instance=l,ee(l),l;var c=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ee(l),qe(l,"style",c),Jo(l,r.precedence,t),n.instance=l;case"stylesheet":c=Da(r.href);var h=t.querySelector(Zl(c));if(h)return n.state.loading|=4,n.instance=h,ee(h),h;l=jy(r),(c=Hn.get(c))&&Jh(l,c),h=(t.ownerDocument||t).createElement("link"),ee(h);var y=h;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),qe(h,"link",l),n.state.loading|=4,Jo(h,r.precedence,t),n.instance=h;case"script":return h=Oa(r.src),(c=t.querySelector(Jl(h)))?(n.instance=c,ee(c),c):(l=r,(c=Hn.get(h))&&(l=w({},r),Wh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ee(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Jo(l,r.precedence,t));return n.instance}function Jo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Wo=null;function Fy(t,n,r){if(Wo===null){var l=new Map,c=Wo=new Map;c.set(r,l)}else c=Wo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[hr]||h[De]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Gy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function XT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qy(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Wl=null;function $T(){}function YT(t,n,r){if(Wl===null)throw Error(s(475));var l=Wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=Da(r.href),h=t.querySelector(Zl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=tc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,ee(h);return}h=t.ownerDocument||t,r=jy(r),(c=Hn.get(c))&&Jh(r,c),h=h.createElement("link"),ee(h);var y=h;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),qe(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=tc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function KT(){if(Wl===null)throw Error(s(475));var t=Wl;return t.stylesheets&&t.count===0&&td(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&td(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ec=null;function td(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ec=new Map,n.forEach(ZT,t),ec=null,tc.call(t))}function ZT(t,n){if(!(n.state.loading&4)){var r=ec.get(t);if(r)var l=r.get(null);else{r=new Map,ec.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=tc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var tu={$$typeof:k,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function JT(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xy(t,n,r,l,c,h,y,E,S,I,F,Y){return t=new JT(t,n,r,y,E,S,I,Y),n=1,h===!0&&(n|=24),h=qn(3,null,null,n),t.current=h,h.stateNode=t,n=xf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},hh(h),t}function $y(t){return t?(t=la,t):la}function Yy(t,n,r,l,c,h){c=$y(c),l.context===null?l.context=c:l.pendingContext=c,l=Cr(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Dr(t,l,n),r!==null&&(ln(r,t,n),Ll(r,t,n))}function Ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ed(t,n){Ky(t,n),(t=t.alternate)&&Ky(t,n)}function Zy(t){if(t.tag===13){var n=Er(t,67108864);n!==null&&ln(n,t,67108864),ed(t,67108864)}}var nc=!0;function WT(t,n,r,l){var c=A.T;A.T=null;var h=rt.p;try{rt.p=2,nd(t,n,r,l)}finally{rt.p=h,A.T=c}}function tA(t,n,r,l){var c=A.T;A.T=null;var h=rt.p;try{rt.p=8,nd(t,n,r,l)}finally{rt.p=h,A.T=c}}function nd(t,n,r,l){if(nc){var c=id(l);if(c===null)Fh(t,n,l,ic,r),Wy(t,l);else if(nA(c,t,n,r,l))l.stopPropagation();else if(Wy(t,l),n&4&&-1<eA.indexOf(t)){for(;c!==null;){var h=Ni(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Fn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-nn(y);E.entanglements[1]|=S,y&=~S}yi(h),!(ie&6)&&(ko=un()+500,$l(0))}}break;case 13:E=Er(h,2),E!==null&&ln(E,h,2),Ho(),ed(h,2)}if(h=id(l),h===null&&Fh(t,n,l,ic,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else Fh(t,n,l,null,r)}}function id(t){return t=Ys(t),rd(t)}var ic=null;function rd(t){if(ic=null,t=Gn(t),t!==null){var n=ct(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=vt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ic=t,null}function Jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qu()){case ve:return 2;case Ce:return 8;case Oi:case ju:return 32;case nl:return 268435456;default:return 32}default:return 32}}var sd=!1,Ur=null,Br=null,Lr=null,eu=new Map,nu=new Map,Pr=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(t,n){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":eu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(n.pointerId)}}function iu(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ni(n),n!==null&&Zy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function nA(t,n,r,l,c){switch(n){case"focusin":return Ur=iu(Ur,t,n,r,l,c),!0;case"dragenter":return Br=iu(Br,t,n,r,l,c),!0;case"mouseover":return Lr=iu(Lr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return eu.set(h,iu(eu.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,nu.set(h,iu(nu.get(h)||null,t,n,r,l,c)),!0}return!1}function t_(t){var n=Gn(t.target);if(n!==null){var r=ct(n);if(r!==null){if(n=r.tag,n===13){if(n=vt(r),n!==null){t.blockedOn=n,fr(t.priority,function(){if(r.tag===13){var l=Tn(),c=Er(r,l);c!==null&&ln(c,r,l),ed(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=id(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Nn=l,r.target.dispatchEvent(l),Nn=null}else return n=Ni(r),n!==null&&Zy(n),t.blockedOn=r,!1;n.shift()}return!0}function e_(t,n,r){rc(t)&&r.delete(n)}function iA(){sd=!1,Ur!==null&&rc(Ur)&&(Ur=null),Br!==null&&rc(Br)&&(Br=null),Lr!==null&&rc(Lr)&&(Lr=null),eu.forEach(e_),nu.forEach(e_)}function sc(t,n){t.blockedOn===n&&(t.blockedOn=null,sd||(sd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,iA)))}var ac=null;function n_(t){ac!==t&&(ac=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ac===t&&(ac=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(rd(l||r)===null)continue;break}var h=Ni(r);h!==null&&(t.splice(n,3),n-=3,$f(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function ru(t){function n(S){return sc(S,t)}Ur!==null&&sc(Ur,t),Br!==null&&sc(Br,t),Lr!==null&&sc(Lr,t),eu.forEach(n),nu.forEach(n);for(var r=0;r<Pr.length;r++){var l=Pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(r=Pr[0],r.blockedOn===null);)t_(r),r.blockedOn===null&&Pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[Ee]||null;if(typeof h=="function")y||n_(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[Ee]||null)E=y.formAction;else if(rd(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),n_(r)}}}function ad(t){this._internalRoot=t}lc.prototype.render=ad.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Tn();Yy(r,l,t,n,null,null)},lc.prototype.unmount=ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Sa(),Yy(t.current,2,null,t,null,null),Ho(),n[Mi]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Xu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Pr.length&&n!==0&&n<Pr[r].priority;r++);Pr.splice(r,0,t),r===0&&t_(t)}};var i_=e.version;if(i_!=="19.0.0")throw Error(s(527,i_,"19.0.0"));rt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Z(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var rA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{sr=uc.inject(rA),$e=uc}catch{}}return au.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=Ep,h=Tp,y=Ap,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Xy(t,1,!1,null,null,r,l,c,h,y,E,null),t[Mi]=n.current,Hh(t.nodeType===8?t.parentNode:t),new ad(n)},au.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",h=Ep,y=Tp,E=Ap,S=null,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(I=r.formState)),n=Xy(t,1,!0,n,r??null,l,c,h,y,E,S,I),n.context=$y(null),r=n.current,l=Tn(),c=Cr(l),c.callback=null,Dr(r,c,l),n.current.lanes=l,fe(n,l),yi(n),t[Mi]=n.current,Hh(t),new lc(n)},au.version="19.0.0",au}var d_;function mA(){if(d_)return od.exports;d_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),od.exports=dA(),od.exports}var gA=mA();const pA=Av(gA);var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},yA=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[i++];e[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[i++],d=a[i++],g=a[i++],_=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const f=a[u],d=u+1<a.length,g=d?a[u+1]:0,_=u+2<a.length,v=_?a[u+2]:0,R=f>>2,C=(f&3)<<4|g>>4;let V=(g&15)<<2|v>>6,k=v&63;_||(k=64,d||(V=64)),s.push(i[R],i[C],i[V],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Sv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):yA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const f=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const v=u<a.length?i[a.charAt(u)]:64;++u;const C=u<a.length?i[a.charAt(u)]:64;if(++u,f==null||g==null||v==null||C==null)throw new _A;const V=f<<2|g>>4;if(s.push(V),v!==64){const k=g<<4&240|v>>2;if(s.push(k),C!==64){const H=v<<6&192|C;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vA=function(a){const e=Sv(a);return wv.encodeByteArray(e,!0)},Mc=function(a){return vA(a).replace(/\./g,"")},EA=function(a){try{return wv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=()=>TA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof m_>"u")return;const a=m_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&EA(a[1]);return e&&JSON.parse(e)},am=()=>{try{return AA()||bA()||SA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},wA=a=>{var e,i;return(i=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},RA=a=>{const e=wA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Rv=()=>{var a;return(a=am())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MA(){var a;const e=(a=am())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NA(){return!MA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var f;e(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="FirebaseError";class Ya extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=VA,Object.setPrototypeOf(this,Ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cv.prototype.create)}}class Cv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?UA(f,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ya(u,g,s)}}function UA(a,e){return a.replace(BA,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const BA=/\{\$([^}]+)}/g;function Md(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const f=a[u],d=e[u];if(g_(f)&&g_(d)){if(!Md(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function g_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(a){return a&&a._delegate?a._delegate:a}class Tu{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new CA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(u,f);const d=this.instances.get(u);return d&&e(d,u),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PA(a){return a===Rs?void 0:a}function zA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Vt||(Vt={}));const qA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},jA=Vt.INFO,HA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},FA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=HA[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=jA,this._logHandler=FA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const GA=(a,e)=>e.some(i=>a instanceof i);let p_,y_;function QA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XA(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Nd=new WeakMap,Mv=new WeakMap,dd=new WeakMap,lm=new WeakMap;function $A(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(qr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Ov.set(i,a)}).catch(()=>{}),lm.set(e,a),e}function YA(a){if(Nd.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});Nd.set(a,e)}let xd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Nd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Mv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function KA(a){xd=a(xd)}function ZA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(md(this),e,...i);return Mv.set(s,e.sort?e.sort():[e]),qr(s)}:XA().includes(a)?function(...e){return a.apply(md(this),e),qr(Ov.get(this))}:function(...e){return qr(a.apply(md(this),e))}}function JA(a){return typeof a=="function"?ZA(a):(a instanceof IDBTransaction&&YA(a),GA(a,QA())?new Proxy(a,xd):a)}function qr(a){if(a instanceof IDBRequest)return $A(a);if(dd.has(a))return dd.get(a);const e=JA(a);return e!==a&&(dd.set(a,e),lm.set(e,a)),e}const md=a=>lm.get(a);function WA(a,e,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(a,e),g=qr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(qr(d.result),_.oldVersion,_.newVersion,qr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const tb=["get","getKey","getAll","getAllKeys","count"],eb=["put","add","delete","clear"],gd=new Map;function __(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=eb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||tb.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return gd.set(e,f),f}KA(a=>({...a,get:(e,i,s)=>__(e,i)||a.get(e,i,s),has:(e,i)=>!!__(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ib(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ib(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Id="@firebase/app",v_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Dv("@firebase/app"),rb="@firebase/app-compat",sb="@firebase/analytics-compat",ab="@firebase/analytics",lb="@firebase/app-check-compat",ub="@firebase/app-check",ob="@firebase/auth",cb="@firebase/auth-compat",fb="@firebase/database",hb="@firebase/data-connect",db="@firebase/database-compat",mb="@firebase/functions",gb="@firebase/functions-compat",pb="@firebase/installations",yb="@firebase/installations-compat",_b="@firebase/messaging",vb="@firebase/messaging-compat",Eb="@firebase/performance",Tb="@firebase/performance-compat",Ab="@firebase/remote-config",bb="@firebase/remote-config-compat",Sb="@firebase/storage",wb="@firebase/storage-compat",Rb="@firebase/firestore",Cb="@firebase/vertexai",Db="@firebase/firestore-compat",Ob="firebase",Mb="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",Nb={[Id]:"fire-core",[rb]:"fire-core-compat",[ab]:"fire-analytics",[sb]:"fire-analytics-compat",[ub]:"fire-app-check",[lb]:"fire-app-check-compat",[ob]:"fire-auth",[cb]:"fire-auth-compat",[fb]:"fire-rtdb",[hb]:"fire-data-connect",[db]:"fire-rtdb-compat",[mb]:"fire-fn",[gb]:"fire-fn-compat",[pb]:"fire-iid",[yb]:"fire-iid-compat",[_b]:"fire-fcm",[vb]:"fire-fcm-compat",[Eb]:"fire-perf",[Tb]:"fire-perf-compat",[Ab]:"fire-rc",[bb]:"fire-rc-compat",[Sb]:"fire-gcs",[wb]:"fire-gcs-compat",[Rb]:"fire-fst",[Db]:"fire-fst-compat",[Cb]:"fire-vertex","fire-js":"fire-js",[Ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,xb=new Map,Ud=new Map;function E_(a,e){try{a.container.addComponent(e)}catch(i){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function xc(a){const e=a.name;if(Ud.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,a);for(const i of Nc.values())E_(i,a);for(const i of xb.values())E_(i,a);return!0}function Ib(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Cv("app","Firebase",Vb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=Mb;function Nv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vd,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw jr.create("bad-app-name",{appName:String(u)});if(i||(i=Rv()),!i)throw jr.create("no-options");const f=Nc.get(u);if(f){if(Md(i,f.options)&&Md(s,f.config))return f;throw jr.create("duplicate-app",{appName:u})}const d=new kA(u);for(const _ of Ud.values())d.addComponent(_);const g=new Ub(i,s,d);return Nc.set(u,g),g}function Lb(a=Vd){const e=Nc.get(a);if(!e&&a===Vd&&Rv())return Nv();if(!e)throw jr.create("no-app",{appName:a});return e}function La(a,e,i){var s;let u=(s=Nb[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const f=u.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${u}" with version "${e}":`];f&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(g.join(" "));return}xc(new Tu(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebase-heartbeat-database",zb=1,Au="firebase-heartbeat-store";let pd=null;function xv(){return pd||(pd=WA(Pb,zb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Au)}catch(i){console.warn(i)}}}}).catch(a=>{throw jr.create("idb-open",{originalErrorMessage:a.message})})),pd}async function kb(a){try{const i=(await xv()).transaction(Au),s=await i.objectStore(Au).get(Iv(a));return await i.done,s}catch(e){if(e instanceof Ya)nr.warn(e.message);else{const i=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(i.message)}}}async function T_(a,e){try{const s=(await xv()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,Iv(a)),await s.done}catch(i){if(i instanceof Ya)nr.warn(i.message);else{const s=jr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});nr.warn(s.message)}}}function Iv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=1024,jb=30*24*60*60*1e3;class Hb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Gb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=A_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=jb}),this._storage.overwrite(this._heartbeatsCache))}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=A_(),{heartbeatsToSend:s,unsentEntries:u}=Fb(this._heartbeatsCache.heartbeats),f=Mc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return nr.warn(i),""}}}function A_(){return new Date().toISOString().substring(0,10)}function Fb(a,e=qb){const i=[];let s=a.slice();for(const u of a){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),b_(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Gb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return T_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return T_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function b_(a){return Mc(JSON.stringify({version:2,heartbeats:a})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(a){xc(new Tu("platform-logger",e=>new nb(e),"PRIVATE")),xc(new Tu("heartbeat",e=>new Hb(e),"PRIVATE")),La(Id,v_,a),La(Id,v_,"esm2017"),La("fire-js","")}Qb("");var Xb="firebase",$b="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */La(Xb,$b,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var um;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function A(){}A.prototype=b.prototype,M.D=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(w,O,U){for(var D=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)D[Kt-2]=arguments[Kt];return b.prototype[O].apply(w,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,b,A){A||(A=0);var w=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)w[O]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(O=0;16>O;++O)w[O]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],O=M.g[2];var U=M.g[3],D=b+(U^A&(O^U))+w[0]+3614090360&4294967295;b=A+(D<<7&4294967295|D>>>25),D=U+(O^b&(A^O))+w[1]+3905402710&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(A^U&(b^A))+w[2]+606105819&4294967295,O=U+(D<<17&4294967295|D>>>15),D=A+(b^O&(U^b))+w[3]+3250441966&4294967295,A=O+(D<<22&4294967295|D>>>10),D=b+(U^A&(O^U))+w[4]+4118548399&4294967295,b=A+(D<<7&4294967295|D>>>25),D=U+(O^b&(A^O))+w[5]+1200080426&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(A^U&(b^A))+w[6]+2821735955&4294967295,O=U+(D<<17&4294967295|D>>>15),D=A+(b^O&(U^b))+w[7]+4249261313&4294967295,A=O+(D<<22&4294967295|D>>>10),D=b+(U^A&(O^U))+w[8]+1770035416&4294967295,b=A+(D<<7&4294967295|D>>>25),D=U+(O^b&(A^O))+w[9]+2336552879&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(A^U&(b^A))+w[10]+4294925233&4294967295,O=U+(D<<17&4294967295|D>>>15),D=A+(b^O&(U^b))+w[11]+2304563134&4294967295,A=O+(D<<22&4294967295|D>>>10),D=b+(U^A&(O^U))+w[12]+1804603682&4294967295,b=A+(D<<7&4294967295|D>>>25),D=U+(O^b&(A^O))+w[13]+4254626195&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(A^U&(b^A))+w[14]+2792965006&4294967295,O=U+(D<<17&4294967295|D>>>15),D=A+(b^O&(U^b))+w[15]+1236535329&4294967295,A=O+(D<<22&4294967295|D>>>10),D=b+(O^U&(A^O))+w[1]+4129170786&4294967295,b=A+(D<<5&4294967295|D>>>27),D=U+(A^O&(b^A))+w[6]+3225465664&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^A&(U^b))+w[11]+643717713&4294967295,O=U+(D<<14&4294967295|D>>>18),D=A+(U^b&(O^U))+w[0]+3921069994&4294967295,A=O+(D<<20&4294967295|D>>>12),D=b+(O^U&(A^O))+w[5]+3593408605&4294967295,b=A+(D<<5&4294967295|D>>>27),D=U+(A^O&(b^A))+w[10]+38016083&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^A&(U^b))+w[15]+3634488961&4294967295,O=U+(D<<14&4294967295|D>>>18),D=A+(U^b&(O^U))+w[4]+3889429448&4294967295,A=O+(D<<20&4294967295|D>>>12),D=b+(O^U&(A^O))+w[9]+568446438&4294967295,b=A+(D<<5&4294967295|D>>>27),D=U+(A^O&(b^A))+w[14]+3275163606&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^A&(U^b))+w[3]+4107603335&4294967295,O=U+(D<<14&4294967295|D>>>18),D=A+(U^b&(O^U))+w[8]+1163531501&4294967295,A=O+(D<<20&4294967295|D>>>12),D=b+(O^U&(A^O))+w[13]+2850285829&4294967295,b=A+(D<<5&4294967295|D>>>27),D=U+(A^O&(b^A))+w[2]+4243563512&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^A&(U^b))+w[7]+1735328473&4294967295,O=U+(D<<14&4294967295|D>>>18),D=A+(U^b&(O^U))+w[12]+2368359562&4294967295,A=O+(D<<20&4294967295|D>>>12),D=b+(A^O^U)+w[5]+4294588738&4294967295,b=A+(D<<4&4294967295|D>>>28),D=U+(b^A^O)+w[8]+2272392833&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^A)+w[11]+1839030562&4294967295,O=U+(D<<16&4294967295|D>>>16),D=A+(O^U^b)+w[14]+4259657740&4294967295,A=O+(D<<23&4294967295|D>>>9),D=b+(A^O^U)+w[1]+2763975236&4294967295,b=A+(D<<4&4294967295|D>>>28),D=U+(b^A^O)+w[4]+1272893353&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^A)+w[7]+4139469664&4294967295,O=U+(D<<16&4294967295|D>>>16),D=A+(O^U^b)+w[10]+3200236656&4294967295,A=O+(D<<23&4294967295|D>>>9),D=b+(A^O^U)+w[13]+681279174&4294967295,b=A+(D<<4&4294967295|D>>>28),D=U+(b^A^O)+w[0]+3936430074&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^A)+w[3]+3572445317&4294967295,O=U+(D<<16&4294967295|D>>>16),D=A+(O^U^b)+w[6]+76029189&4294967295,A=O+(D<<23&4294967295|D>>>9),D=b+(A^O^U)+w[9]+3654602809&4294967295,b=A+(D<<4&4294967295|D>>>28),D=U+(b^A^O)+w[12]+3873151461&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^A)+w[15]+530742520&4294967295,O=U+(D<<16&4294967295|D>>>16),D=A+(O^U^b)+w[2]+3299628645&4294967295,A=O+(D<<23&4294967295|D>>>9),D=b+(O^(A|~U))+w[0]+4096336452&4294967295,b=A+(D<<6&4294967295|D>>>26),D=U+(A^(b|~O))+w[7]+1126891415&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~A))+w[14]+2878612391&4294967295,O=U+(D<<15&4294967295|D>>>17),D=A+(U^(O|~b))+w[5]+4237533241&4294967295,A=O+(D<<21&4294967295|D>>>11),D=b+(O^(A|~U))+w[12]+1700485571&4294967295,b=A+(D<<6&4294967295|D>>>26),D=U+(A^(b|~O))+w[3]+2399980690&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~A))+w[10]+4293915773&4294967295,O=U+(D<<15&4294967295|D>>>17),D=A+(U^(O|~b))+w[1]+2240044497&4294967295,A=O+(D<<21&4294967295|D>>>11),D=b+(O^(A|~U))+w[8]+1873313359&4294967295,b=A+(D<<6&4294967295|D>>>26),D=U+(A^(b|~O))+w[15]+4264355552&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~A))+w[6]+2734768916&4294967295,O=U+(D<<15&4294967295|D>>>17),D=A+(U^(O|~b))+w[13]+1309151649&4294967295,A=O+(D<<21&4294967295|D>>>11),D=b+(O^(A|~U))+w[4]+4149444226&4294967295,b=A+(D<<6&4294967295|D>>>26),D=U+(A^(b|~O))+w[11]+3174756917&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~A))+w[2]+718787259&4294967295,O=U+(D<<15&4294967295|D>>>17),D=A+(U^(O|~b))+w[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var A=b-this.blockSize,w=this.B,O=this.h,U=0;U<b;){if(O==0)for(;U<=A;)u(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<b;)if(w[O++]=M.charCodeAt(U++),O==this.blockSize){u(this,w),O=0;break}}else for(;U<b;)if(w[O++]=M[U++],O==this.blockSize){u(this,w),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var A=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=A&255,A/=256;for(this.u(M),M=Array(16),b=A=0;4>b;++b)for(var w=0;32>w;w+=8)M[A++]=this.g[b]>>>w&255;return M};function f(M,b){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function d(M,b){this.h=b;for(var A=[],w=!0,O=M.length-1;0<=O;O--){var U=M[O]|0;w&&U==b||(A[O]=U,w=!1)}this.g=A}var g={};function _(M){return-128<=M&&128>M?f(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return G(v(-M));for(var b=[],A=1,w=0;M>=A;w++)b[w]=M/A|0,A*=4294967296;return new d(b,0)}function R(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return G(R(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),w=C,O=0;O<M.length;O+=8){var U=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+U),b);8>U?(U=v(Math.pow(b,U)),w=w.j(U).add(v(D))):(w=w.j(A),w=w.add(v(D)))}return w}var C=_(0),V=_(1),k=_(16777216);a=d.prototype,a.m=function(){if(X(this))return-G(this).m();for(var M=0,b=1,A=0;A<this.g.length;A++){var w=this.i(A);M+=(0<=w?w:4294967296+w)*b,b*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(H(this))return"0";if(X(this))return"-"+G(this).toString(M);for(var b=v(Math.pow(M,6)),A=this,w="";;){var O=nt(A,b).g;A=mt(A,O.j(b));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=O,H(A))return U+w;for(;6>U.length;)U="0"+U;w=U+w}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function H(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function X(M){return M.h==-1}a.l=function(M){return M=mt(this,M),X(M)?-1:H(M)?0:1};function G(M){for(var b=M.g.length,A=[],w=0;w<b;w++)A[w]=~M.g[w];return new d(A,~M.h).add(V)}a.abs=function(){return X(this)?G(this):this},a.add=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],w=0,O=0;O<=b;O++){var U=w+(this.i(O)&65535)+(M.i(O)&65535),D=(U>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);w=D>>>16,U&=65535,D&=65535,A[O]=D<<16|U}return new d(A,A[A.length-1]&-2147483648?-1:0)};function mt(M,b){return M.add(G(b))}a.j=function(M){if(H(this)||H(M))return C;if(X(this))return X(M)?G(this).j(G(M)):G(G(this).j(M));if(X(M))return G(this.j(G(M)));if(0>this.l(k)&&0>M.l(k))return v(this.m()*M.m());for(var b=this.g.length+M.g.length,A=[],w=0;w<2*b;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<M.g.length;O++){var U=this.i(w)>>>16,D=this.i(w)&65535,Kt=M.i(O)>>>16,Gt=M.i(O)&65535;A[2*w+2*O]+=D*Gt,K(A,2*w+2*O),A[2*w+2*O+1]+=U*Gt,K(A,2*w+2*O+1),A[2*w+2*O+1]+=D*Kt,K(A,2*w+2*O+1),A[2*w+2*O+2]+=U*Kt,K(A,2*w+2*O+2)}for(w=0;w<b;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=b;w<2*b;w++)A[w]=0;return new d(A,0)};function K(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function it(M,b){this.g=M,this.h=b}function nt(M,b){if(H(b))throw Error("division by zero");if(H(M))return new it(C,C);if(X(M))return b=nt(G(M),b),new it(G(b.g),G(b.h));if(X(b))return b=nt(M,G(b)),new it(G(b.g),b.h);if(30<M.g.length){if(X(M)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var A=V,w=b;0>=w.l(M);)A=lt(A),w=lt(w);var O=at(A,1),U=at(w,1);for(w=at(w,2),A=at(A,2);!H(w);){var D=U.add(w);0>=D.l(M)&&(O=O.add(A),U=D),w=at(w,1),A=at(A,1)}return b=mt(M,O.j(b)),new it(O,b)}for(O=C;0<=M.l(b);){for(A=Math.max(1,Math.floor(M.m()/b.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),U=v(A),D=U.j(b);X(D)||0<D.l(M);)A-=w,U=v(A),D=U.j(b);H(U)&&(U=V),O=O.add(U),M=mt(M,D)}return new it(O,M)}a.A=function(M){return nt(this,M).h},a.and=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],w=0;w<b;w++)A[w]=this.i(w)&M.i(w);return new d(A,this.h&M.h)},a.or=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],w=0;w<b;w++)A[w]=this.i(w)|M.i(w);return new d(A,this.h|M.h)},a.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],w=0;w<b;w++)A[w]=this.i(w)^M.i(w);return new d(A,this.h^M.h)};function lt(M){for(var b=M.g.length+1,A=[],w=0;w<b;w++)A[w]=M.i(w)<<1|M.i(w-1)>>>31;return new d(A,M.h)}function at(M,b){var A=b>>5;b%=32;for(var w=M.g.length-A,O=[],U=0;U<w;U++)O[U]=0<b?M.i(U+A)>>>b|M.i(U+A+1)<<32-b:M.i(U+A);return new d(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,um=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vv,uu,Uv,Ec,Bd,Bv,Lv,Pv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function C(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function V(o,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:C,V.apply(null,arguments)}function k(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function H(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[L].apply(T,W)}}function X(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function G(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let W=0;W<q;W++)o[L+W]=T[W]}else o.push(T)}}class mt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(o){return/^[\s\xa0]*$/.test(o)}function it(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function nt(o){return nt[" "](o),o}nt[" "]=function(){};var lt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function at(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<A.length;q++)p=A[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function D(){var o=vt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Kt{constructor(){this.h=this.g=null}add(m,p){const T=Gt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Gt=new mt(()=>new tt,o=>o.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,ct=!1,vt=new Kt,N=()=>{const o=g.Promise.resolve(void 0);gt=()=>{o.then(Z)}};var Z=()=>{for(var o;o=D();){try{o.h.call(o.g)}catch(p){U(p)}var m=Gt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ct=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function At(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(lt){t:{try{nt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Et[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}H(At,et);var Et={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function se(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Bt,this.da=this.fa=!1}function jt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function en(o){this.src=o,this.g={},this.h=0}en.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=Cn(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new se(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function Ci(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(jt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Cn(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var ir="closure_lm_"+(1e6*Math.random()|0),rr={};function Di(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Di(o,m[q],p,T,L);return null}return p=qu(p),o&&o[de]?o.K(m,p,v(T)?!!T.capture:!1,L):tl(o,m,p,!1,T,L)}function tl(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Mt=el(o);if(Mt||(o[ir]=Mt=new en(o)),p=Mt.add(m,p,T,W,q),p.proxy)return p;if(T=ks(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)rt||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(js(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ks(){function o(p){return m.call(o.src,o.listener,p)}const m=of;return o}function qs(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)qs(o,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=qu(p),o&&o[de]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Cn(q,p,T,L),-1<p&&(jt(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=el(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Cn(m,p,T,L)),(p=-1<o?m[o]:null)&&$r(p))}function $r(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[de])Ci(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(js(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=el(m))?(Ci(p,o),p.h==0&&(p.src=null,m[ir]=null)):jt(o)}}}function js(o){return o in rr?rr[o]:rr[o]="on"+o}function of(o,m){if(o.da)o=!0;else{m=new At(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&$r(o),o=p.call(T,m)}return o}function el(o){return o=o[ir],o instanceof en?o:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(o){return typeof o=="function"?o:(o[un]||(o[un]=function(m){return o.handleEvent(m)}),o[un])}function ve(){ut.call(this),this.i=new en(this),this.M=this,this.F=null}H(ve,ut),ve.prototype[de]=!0,ve.prototype.removeEventListener=function(o,m,p,T){qs(this,o,m,p,T)};function Ce(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var L=m;m=new et(T,o),w(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];L=Oi(W,T,!0,m)&&L}if(W=m.g=o,L=Oi(W,T,!0,m)&&L,L=Oi(W,T,!1,m)&&L,p)for(q=0;q<p.length;q++)W=m.g=p[q],L=Oi(W,T,!1,m)&&L}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)jt(p[T]);delete o.g[m],o.h--}}this.F=null},ve.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ve.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Oi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Mt=W.listener,Te=W.ha||W.src;W.fa&&Ci(o.i,W),L=Mt.call(Te,T)!==!1&&L}}return L&&!T.defaultPrevented}function ju(o,m,p){if(typeof o=="function")p&&(o=V(o,p));else if(o&&typeof o.handleEvent=="function")o=V(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function nl(o){o.g=ju(()=>{o.g=null,o.i&&(o.i=!1,nl(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class cf extends ut{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(o){ut.call(this),this.h=o,this.g={}}H(Yr,ut);var sr=[];function $e(o){at(o.g,function(m,p){this.g.hasOwnProperty(p)&&$r(m)},o),o.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),$e(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var il=g.JSON.stringify,ni=g.JSON.parse,nn=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function rl(){}rl.prototype.h=null;function Hu(o){return o.h||(o.h=o.i())}function Fu(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){et.call(this,"d")}H(ar,et);function Fn(){et.call(this,"c")}H(Fn,et);var Dn={},lr=null;function Hs(){return lr=lr||new ve}Dn.La="serverreachability";function sl(o){et.call(this,Dn.La,o)}H(sl,et);function ur(o){const m=Hs();Ce(m,new sl(m))}Dn.STAT_EVENT="statevent";function Fs(o,m){et.call(this,Dn.STAT_EVENT,o),this.stat=m}H(Fs,et);function fe(o){const m=Hs();Ce(m,new Fs(m,o))}Dn.Ma="timingevent";function Gu(o,m){et.call(this,Dn.Ma,o),this.size=m}H(Gu,et);function or(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function Qu(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var W="",Mt=q.split("&"),Te=0;Te<Mt.length;Te++){var Nt=Mt[Te].split("=");if(1<Nt.length){var Me=Nt[0];Nt=Nt[1];var Ae=Me.split("_");W=2<=Ae.length&&Ae[1]=="type"?W+(Me+"="+Nt+"&"):W+(Me+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Xu(o,m,p,T,L,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function fr(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(o,p)+(T?" "+T:"")})}function ri(o,m){o.info(function(){return"TIMEOUT: "+m})}cr.prototype.info=function(){};function De(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return il(p)}catch{return m}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function Gs(){}H(Gs,rl),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},Kr=new Gs;function si(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}var hr={},Zr={};function Gn(o,m,p){o.L=1,o.v=ts(ae(m)),o.m=p,o.P=!0,Ni(o,null)}function Ni(o,m){o.F=Date.now(),ee(o),o.A=ae(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Vi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new al,o.g=lo(o.j,p?m:null,!o.m),0<o.O&&(o.M=new cf(V(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(sr[0]=L.toString()),L=sr);for(var q=0;q<L.length;q++){var W=Di(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ur(),Qu(o.i,o.u,o.A,o.l,o.R,o.m)}si.prototype.ca=function(o){o=o.target;const m=this.M;m&&In(o)==3?m.j():this.Y(o)},si.prototype.Y=function(o){try{if(o==this.g)t:{const Ae=In(this.g);var m=this.g.Ba();const Pi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Pi?ur(3):ur(2)),Qs(this);var p=this.g.Z();this.X=p;e:if(dr(this)){var T=Wu(this.g);o="";var L=T.length,q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),gn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Xu(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Mt)){var Nt=Mt;break e}}Nt=null}if(p=Nt)fr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,p);else{this.o=!1,this.s=3,fe(12),on(this),gn(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=mr(this,W),Pe==Zr){Ae==4&&(this.s=4,fe(14),p=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==hr){this.s=4,fe(15),fr(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else fr(this.i,this.l,Pe,null),pn(this,Pe);if(dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||W.length!=0||this.h.h||(this.s=1,fe(16),p=!1),this.o=this.o&&p,!p)fr(this.i,this.l,W,"[Invalid Chunked Response]"),on(this),gn(this);else if(0<W.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ls(Me),Me.M=!0,fe(11))}}else fr(this.i,this.l,W,null),pn(this,W);Ae==4&&on(this),this.o&&!this.J&&(Ae==4?ro(this.j,this):(this.o=!1,ee(this)))}else pf(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),on(this),gn(this)}}}catch{}finally{}};function dr(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function mr(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Zr:(p=Number(m.substring(p,T)),isNaN(p)?hr:(T+=1,T+p>m.length?Zr:(m=m.slice(T,T+p),o.C=T+p,m)))}si.prototype.cancel=function(){this.J=!0,on(this)};function ee(o){o.S=Date.now()+o.I,ll(o,o.I)}function ll(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=or(V(o.ba,o),m)}function Qs(o){o.B&&(g.clearTimeout(o.B),o.B=null)}si.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ri(this.i,this.A),this.L!=2&&(ur(),fe(17)),on(this),this.s=2,gn(this)):ll(this,this.S-o)};function gn(o){o.j.G==0||o.J||ro(o.j,o)}function on(o){Qs(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,$e(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function pn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||gr(p.h,o))){if(!o.K&&gr(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)na(p),ta(p);else break t;_l(p),fe(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=or(V(p.Za,p),6e3));if(1>=$u(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Li(p,11)}else if((o.K||p.g==o)&&na(p),!K(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Me=Nt[3];Me!=null&&(p.la=Me,p.j.info("VER="+p.la));const Ae=Nt[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const Pi=Nt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(T=1.5*Pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pe=o.g;if(Pe){const hi=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var q=T.h;q.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(pr(q,q.h),q.h=null))}if(T.D){const El=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(T.ya=El,Lt(T.I,T.D,El))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=ao(T,T.J?T.ia:null,T.W),W.K){On(T.h,W);var Mt=W,Te=T.L;Te&&(Mt.I=Te),Mt.B&&(Qs(Mt),ee(Mt)),T.g=W}else no(T);0<p.i.length&&ea(p)}else Nt[0]!="stop"&&Nt[0]!="close"||Li(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Li(p,7):pl(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}ur(4)}catch{}}var ff=class{constructor(o,m){this.g=o,this.map=m}};function ul(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ol(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function $u(o){return o.h?1:o.g?o.g.size:0}function gr(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function pr(o,m){o.g?o.g.add(m):o.h=m}function On(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ul.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function rn(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return X(o.i)}function Yu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function hf(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Jr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=hf(o),T=Yu(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function xi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof xi){this.h=o.h,yr(this,o.j),this.o=o.o,this.g=o.g,Wr(this,o.s),this.l=o.l;var m=o.i,p=new ai;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),$s(this,p),this.m=o.m}else o&&(m=String(o).match(cl))?(this.h=!1,yr(this,m[1]||"",!0),this.o=_r(m[2]||""),this.g=_r(m[3]||"",!0),Wr(this,m[4]),this.l=_r(m[5]||"",!0),$s(this,m[6]||"",!0),this.m=_r(m[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}xi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Mn(m,fl,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Mn(m,fl,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Mn(p,p.charAt(0)=="/"?hl:Ku,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Mn(p,gf)),o.join("")};function ae(o){return new xi(o)}function yr(o,m,p){o.j=p?_r(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Wr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function $s(o,m,p){m instanceof ai?(o.i=m,dl(o.i,o.h)):(p||(m=Mn(m,mf)),o.i=new ai(m,o.h))}function Lt(o,m,p){o.i.set(m,p)}function ts(o){return Lt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function _r(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Mn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,df),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function df(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var fl=/[#\/\?@]/g,Ku=/[#\?:]/g,hl=/[#\?]/g,mf=/[#\?@]/g,gf=/#/g;function ai(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function Nn(o){o.g||(o.g=new Map,o.h=0,o.i&&Xs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=ai.prototype,a.add=function(o,m){Nn(this),this.i=null,o=Ui(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Ys(o,m){Nn(o),m=Ui(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Ii(o,m){return Nn(o),m=Ui(o,m),o.g.has(m)}a.forEach=function(o,m){Nn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},a.na=function(){Nn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},a.V=function(o){Nn(this);let m=[];if(typeof o=="string")Ii(this,o)&&(m=m.concat(this.g.get(Ui(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},a.set=function(o,m){return Nn(this),this.i=null,o=Ui(this,o),Ii(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Vi(o,m,p){Ys(o,m),0<p.length&&(o.i=null,o.g.set(Ui(o,m),X(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function Ui(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function dl(o,m){m&&!o.j&&(Nn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(Ys(this,T),Vi(this,L,p))},o)),o.j=m}function Zu(o,m){const p=new cr;if(g.Image){const T=new Image;T.onload=k(xn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(xn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(xn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(xn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function es(o,m){const p=new cr,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?xn(p,"TestPingServer: ok",!0,m):xn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(p,"TestPingServer: error",!1,m)})}function xn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function ns(){this.g=new nn}function li(o,m,p){const T=p||"";try{Jr(o,function(L,q){let W=L;v(L)&&(W=il(L)),m.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function vr(o){this.l=o.Ub||null,this.j=o.eb||!1}H(vr,rl),vr.prototype.g=function(){return new Bi(this.l,this.j)},vr.prototype.i=function(o){return function(){return o}}({});function Bi(o,m){ve.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Bi,ve),a=Bi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,oi(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ui(this):oi(this),this.readyState==3&&ml(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,ui(this))},a.Qa=function(o){this.g&&(this.response=o,ui(this))},a.ga=function(){this.g&&ui(this)};function ui(o){o.readyState=4,o.l=null,o.j=null,o.v=null,oi(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function oi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function gl(o){let m="";return at(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Oe(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=gl(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Lt(o,m,p))}function qt(o){ve.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(qt,ve);var Ks=/^https?$/i,is=["POST","PUT"];a=qt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?Hu(this.o):Hu(Kr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Ju(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(is,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){Ju(this,q)}};function Ju(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Zs(o),ci(o)}function Zs(o){o.A||(o.A=!0,Ce(o,"complete"),Ce(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ce(this,"complete"),Ce(this,"abort"),ci(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},a.bb=function(){Js(this)};function Js(o){if(o.h&&typeof d<"u"&&(!o.v[1]||In(o)!=4||o.Z()!=2)){if(o.u&&In(o)==4)ju(o.Ea,0,o);else if(Ce(o,"readystatechange"),In(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(cl)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ks.test(L?L.toLowerCase():"")}p=T}if(p)Ce(o,"complete"),Ce(o,"success");else{o.m=6;try{var q=2<In(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Zs(o)}}finally{ci(o)}}}}function ci(o,m){if(o.g){rs(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ce(o,"ready");try{p.onreadystatechange=T}catch{}}}function rs(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function In(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ni(m)}};function Wu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(o){const m={};o=(o.g&&2<=In(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(K(o[T]))continue;var p=O(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ws(o){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,o),this.cb=ss("retryDelaySeedMs",1e4,o),this.Wa=ss("forwardChannelMaxRetries",2,o),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ul(o&&o.concurrentRequestLimit),this.Da=new ns,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ws.prototype,a.la=8,a.G=1,a.connect=function(o,m,p,T){fe(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=ao(this,null,this.W),ea(this)};function pl(o){if(to(o),o.G==3){var m=o.U++,p=ae(o.I);if(Lt(p,"SID",o.K),Lt(p,"RID",m),Lt(p,"TYPE","terminate"),as(o,p),m=new si(o,o.j,m),m.L=2,m.v=ts(ae(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}so(o)}function ta(o){o.g&&(ls(o),o.g.cancel(),o.g=null)}function to(o){ta(o),o.u&&(g.clearTimeout(o.u),o.u=null),na(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function ea(o){if(!ol(o.h)&&!o.s){o.s=!0;var m=o.Ga;gt||N(),ct||(gt(),ct=!0),vt.add(m,o),o.B=0}}function yf(o,m){return $u(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=or(V(o.Ga,o,m),vl(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new si(this,this.j,o);let q=this.o;if(this.S&&(q?(q=b(q),w(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=eo(this,L,m),p=ae(this.I),Lt(p,"RID",o),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),as(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(gl(q)))+"&"+m:this.m&&Oe(p,this.m,q)),pr(this.h,L),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",m),Lt(p,"SID","null"),L.T=!0,Gn(L,p,null)):Gn(L,p,m),this.G=2}}else this.G==3&&(o?yl(this,o):this.i.length==0||ol(this.h)||yl(this))};function yl(o,m){var p;m?p=m.l:p=o.U++;const T=ae(o.I);Lt(T,"SID",o.K),Lt(T,"RID",p),Lt(T,"AID",o.T),as(o,T),o.m&&o.o&&Oe(T,o.m,o.o),p=new si(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=eo(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),pr(o.h,p),Gn(p,T,m)}function as(o,m){o.H&&at(o.H,function(p,T){Lt(m,T,p)}),o.l&&Jr({},function(p,T){Lt(m,T,p)})}function eo(o,m,p){p=Math.min(o.i.length,p);var T=o.l?V(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Mt=!0;for(let Te=0;Te<p;Te++){let Nt=L[Te].g;const Me=L[Te].map;if(Nt-=q,0>Nt)q=Math.max(0,L[Te].g-100),Mt=!1;else try{li(Me,W,"req"+Nt+"_")}catch{T&&T(Me)}}if(Mt){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function no(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;gt||N(),ct||(gt(),ct=!0),vt.add(m,o),o.v=0}}function _l(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=or(V(o.Fa,o),vl(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=or(V(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),ta(this),io(this))};function ls(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function io(o){o.g=new si(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ae(o.qa);Lt(m,"RID","rpc"),Lt(m,"SID",o.K),Lt(m,"AID",o.T),Lt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Lt(m,"TO",o.ja),Lt(m,"TYPE","xmlhttp"),as(o,m),o.m&&o.o&&Oe(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=ts(ae(m)),p.m=null,p.P=!0,Ni(p,o)}a.Za=function(){this.C!=null&&(this.C=null,ta(this),_l(this),fe(19))};function na(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function ro(o,m){var p=null;if(o.g==m){na(o),ls(o),o.g=null;var T=2}else if(gr(o.h,m))p=m.D,On(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Hs(),Ce(T,new Gu(T,p)),ea(o)}else no(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&yf(o,m)||T==2&&_l(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:Li(o,5);break;case 4:Li(o,10);break;case 3:Li(o,6);break;default:Li(o,2)}}}function vl(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function Li(o,m){if(o.j.info("Error code "+m),m==2){var p=V(o.fb,o),T=o.Xa;const L=!T;T=new xi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||yr(T,"https"),ts(T),L?Zu(T.toString(),p):es(T.toString(),p)}else fe(2);o.G=0,o.l&&o.l.sa(m),so(o),to(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function so(o){if(o.G=0,o.ka=[],o.l){const m=rn(o.h);(m.length!=0||o.i.length!=0)&&(G(o.ka,m),G(o.ka,o.i),o.h.i.length=0,X(o.i),o.i.length=0),o.l.ra()}}function ao(o,m,p){var T=p instanceof xi?ae(p):new xi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Wr(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new xi(null);T&&yr(q,T),m&&(q.g=m),L&&Wr(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Lt(T,p,m),Lt(T,"VER",o.la),as(o,T),T}function lo(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new vr({eb:p})):new qt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function uo(){}a=uo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ia(){}ia.prototype.g=function(o,m){return new sn(o,m)};function sn(o,m){ve.call(this),this.g=new Ws(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!K(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new fi(this)}H(sn,ve),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){pl(this.g)},sn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=il(o),o=p);m.i.push(new ff(m.Ya++,o)),m.G==3&&ea(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,sn.aa.N.call(this)};function oo(o){ar.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}H(oo,ar);function co(){Fn.call(this),this.status=1}H(co,Fn);function fi(o){this.g=o}H(fi,uo),fi.prototype.ua=function(){Ce(this.g,"a")},fi.prototype.ta=function(o){Ce(this.g,new oo(o))},fi.prototype.sa=function(o){Ce(this.g,new co)},fi.prototype.ra=function(){Ce(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Pv=function(){return new ia},Lv=function(){return Hs()},Bv=Dn,Bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Ec=Ee,Mi.COMPLETE="complete",Uv=Mi,Fu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ve.prototype.listen=ve.prototype.K,uu=Fu,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Vv=qt}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Dv("@firebase/firestore");function xa(){return Is.logLevel}function ot(a,...e){if(Is.logLevel<=Vt.DEBUG){const i=e.map(om);Is.debug(`Firestore (${Ka}): ${a}`,...i)}}function Vs(a,...e){if(Is.logLevel<=Vt.ERROR){const i=e.map(om);Is.error(`Firestore (${Ka}): ${a}`,...i)}}function Ic(a,...e){if(Is.logLevel<=Vt.WARN){const i=e.map(om);Is.warn(`Firestore (${Ka}): ${a}`,...i)}}function om(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(a="Unexpected state"){const e=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: `+a;throw Vs(e),new Error(e)}function ce(a,e){a||Dt()}function Wt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ya{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(We.UNAUTHENTICATED))}shutdown(){}}class Kb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Zb{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ce(this.o===void 0);let s=this.i;const u=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ms,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=f;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ms)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ce(typeof s.accessToken=="string"),new zv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new We(e)}}class Jb{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Wb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Jb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){ce(this.o===void 0);const s=f=>{f.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ce(typeof i.token=="string"),this.R=i.token,new tS(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=nS(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=e.charAt(u[f]%e.length))}return s}}function Ft(a,e){return a<e?-1:a>e?1:0}function Ha(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new Le(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new yt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Le(0,0))}static max(){return new te(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Dt(),s===void 0?s=e.length-i:s>e.length-i&&Dt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const f=vi.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=vi.isNumericId(e),u=vi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?vi.extractNumericId(e).compare(vi.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return um.fromString(e.substring(4,e.length-2))}}class _e extends vi{construct(e,i,s){return new _e(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new yt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new _e(i)}static emptyPath(){return new _e([])}}const iS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return iS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new yt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new yt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new yt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(f(),u++)}if(f(),d)throw new yt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(_e.fromString(e))}static fromName(e){return new St(_e.fromString(e).popFirst(5))}static empty(){return new St(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _e.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new _e(e.slice()))}}function rS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=te.fromTimestamp(s===1e9?new Le(i+1,0):new Le(i,s));return new Hr(u,St.empty(),e)}function sS(a){return new Hr(a.readTime,a.key,-1)}class Hr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Hr(te.min(),St.empty(),-1)}static max(){return new Hr(te.max(),St.empty(),-1)}}function aS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=St.comparator(a.documentKey,e.documentKey),i!==0?i:Ft(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==lS)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let u=0,f=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++f,d&&f===u&&i()},_=>s(_))}),d=!0,f===u&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(u=>u?$.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(e,i){return new $((s,u)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++g,g===f&&s(d)},R=>u(R))}})}static doWhile(e,i){return new $((s,u)=>{const f=()=>{e()===!0?i().next(()=>{f()},u):s()};f()})}}function oS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xu(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ie(s),this.se=s=>i.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fm.oe=-1;function hm(a){return a==null}function Vc(a){return a===0&&1/a==-1/0}function cS(a){return typeof a=="number"&&Number.isInteger(a)&&!Vc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=R_(e)),e=hS(a.get(i),e);return R_(e)}function hS(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const f=a.charAt(u);switch(f){case"\0":i+="";break;case"":i+="";break;default:i+=f}}return i}function R_(a){return a+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ps(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function qv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new dn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,f){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=f??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,f){return new He(e??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,i,s,u,f){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Qe(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Rn([])}unionWith(e){let i=new Qe(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Rn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new dS("Invalid base64 string: "+f):f}}(e);return new wi(i)}static fromUint8Array(e){const i=function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f}(e);return new wi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const mS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(a){if(ce(!!a),typeof a=="string"){let e=0;const i=mS.exec(a);if(ce(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Fe(a.seconds),nanos:Fe(a.nanos)}}function Fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Fa(a){return typeof a=="string"?wi.fromBase64String(a):wi.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function mm(a){const e=a.mapValue.fields.__previous_value__;return dm(e)?mm(e):e}function Uc(a){const e=Us(a.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,s,u,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class Bc{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{}};function Bs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?dm(a)?4:yS(a)?9007199254740991:pS(a)?10:11:Dt()}function Ri(a,e){if(a===e)return!0;const i=Bs(a);if(i!==Bs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Uc(a).isEqual(Uc(e));case 3:return function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Us(u.timestampValue),g=Us(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,f){return Fa(u.bytesValue).isEqual(Fa(f.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return Fe(u.geoPointValue.latitude)===Fe(f.geoPointValue.latitude)&&Fe(u.geoPointValue.longitude)===Fe(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Fe(u.integerValue)===Fe(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=Fe(u.doubleValue),g=Fe(f.doubleValue);return d===g?Vc(d)===Vc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ha(a.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if(C_(d)!==C_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ri(d[_],g[_])))return!1;return!0}(a,e);default:return Dt()}}function bu(a,e){return(a.values||[]).find(i=>Ri(i,e))!==void 0}function Ga(a,e){if(a===e)return 0;const i=Bs(a),s=Bs(e);if(i!==s)return Ft(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(a.booleanValue,e.booleanValue);case 2:return function(f,d){const g=Fe(f.integerValue||f.doubleValue),_=Fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return O_(a.timestampValue,e.timestampValue);case 4:return O_(Uc(a),Uc(e));case 5:return Ft(a.stringValue,e.stringValue);case 6:return function(f,d){const g=Fa(f),_=Fa(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const R=Ft(g[v],_[v]);if(R!==0)return R}return Ft(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,d){const g=Ft(Fe(f.latitude),Fe(d.latitude));return g!==0?g:Ft(Fe(f.longitude),Fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return M_(a.arrayValue,e.arrayValue);case 10:return function(f,d){var g,_,v,R;const C=f.fields||{},V=d.fields||{},k=(g=C.value)===null||g===void 0?void 0:g.arrayValue,H=(_=V.value)===null||_===void 0?void 0:_.arrayValue,X=Ft(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((R=H==null?void 0:H.values)===null||R===void 0?void 0:R.length)||0);return X!==0?X:M_(k,H)}(a.mapValue,e.mapValue);case 11:return function(f,d){if(f===fc.mapValue&&d===fc.mapValue)return 0;if(f===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let C=0;C<_.length&&C<R.length;++C){const V=Ft(_[C],R[C]);if(V!==0)return V;const k=Ga(g[_[C]],v[R[C]]);if(k!==0)return k}return Ft(_.length,R.length)}(a.mapValue,e.mapValue);default:throw Dt()}}function O_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ft(a,e);const i=Us(a),s=Us(e),u=Ft(i.seconds,s.seconds);return u!==0?u:Ft(i.nanos,s.nanos)}function M_(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Ga(i[u],s[u]);if(f)return f}return Ft(i.length,s.length)}function Qa(a){return Ld(a)}function Ld(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Us(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Fa(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return St.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Ld(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${Ld(i.fields[d])}`;return u+"}"}(a.mapValue):Dt()}function Tc(a){switch(Bs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(a);return e?16+Tc(e):16;case 5:return 2*a.stringValue.length;case 6:return Fa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,f)=>u+Tc(f),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return Ps(s.fields,(f,d)=>{u+=f.length+Tc(d)}),u}(a.mapValue);default:throw Dt()}}function Pd(a){return!!a&&"integerValue"in a}function gm(a){return!!a&&"arrayValue"in a}function Ac(a){return!!a&&"mapValue"in a}function pS(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function gu(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ps(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=gu(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=gu(a.arrayValue.values[i]);return e}return Object.assign({},a)}function yS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ac(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(i)}setAll(e){let i=Ge.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=gu(d):u.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(e){const i=this.field(e.popLast());Ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Ac(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ps(i,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new wn(gu(this.value))}}function jv(a){const e=[];return Ps(a.fields,(i,s)=>{const u=new Ge([i]);if(Ac(s)){const f=jv(s.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,i,s,u,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Jn(e,0,te.min(),te.min(),te.min(),wn.empty(),0)}static newFoundDocument(e,i,s,u){return new Jn(e,1,i,te.min(),s,u,0)}static newNoDocument(e,i){return new Jn(e,2,i,te.min(),te.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Jn(e,3,i,te.min(),te.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i){this.position=e,this.inclusive=i}}function N_(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const f=e[u],d=a.position[u];if(f.field.isKeyField()?s=St.comparator(St.fromName(d.referenceValue),i.key):s=Ga(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function x_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i="asc"){this.field=e,this.dir=i}}function _S(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{}class Be extends Hv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new ES(e,i,s):i==="array-contains"?new bS(e,s):i==="in"?new SS(e,s):i==="not-in"?new wS(e,s):i==="array-contains-any"?new RS(e,s):new Be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new TS(e,s):new AS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ga(i,this.value)):i!==null&&Bs(this.value)===Bs(i)&&this.matchesComparison(Ga(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends Hv{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Fr(e,i)}matches(e){return Fv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fv(a){return a.op==="and"}function Gv(a){return vS(a)&&Fv(a)}function vS(a){for(const e of a.filters)if(e instanceof Fr)return!1;return!0}function zd(a){if(a instanceof Be)return a.field.canonicalString()+a.op.toString()+Qa(a.value);if(Gv(a))return a.filters.map(e=>zd(e)).join(",");{const e=a.filters.map(i=>zd(i)).join(",");return`${a.op}(${e})`}}function Qv(a,e){return a instanceof Be?function(s,u){return u instanceof Be&&s.op===u.op&&s.field.isEqual(u.field)&&Ri(s.value,u.value)}(a,e):a instanceof Fr?function(s,u){return u instanceof Fr&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((f,d,g)=>f&&Qv(d,u.filters[g]),!0):!1}(a,e):void Dt()}function Xv(a){return a instanceof Be?function(i){return`${i.field.canonicalString()} ${i.op} ${Qa(i.value)}`}(a):a instanceof Fr?function(i){return i.op.toString()+" {"+i.getFilters().map(Xv).join(" ,")+"}"}(a):"Filter"}class ES extends Be{constructor(e,i,s){super(e,i,s),this.key=St.fromName(s.referenceValue)}matches(e){const i=St.comparator(e.key,this.key);return this.matchesComparison(i)}}class TS extends Be{constructor(e,i){super(e,"in",i),this.keys=$v("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class AS extends Be{constructor(e,i){super(e,"not-in",i),this.keys=$v("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function $v(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>St.fromName(s.referenceValue))}class bS extends Be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return gm(i)&&bu(i.arrayValue,this.value)}}class SS extends Be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&bu(this.value.arrayValue,i)}}class wS extends Be{constructor(e,i){super(e,"not-in",i)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!bu(this.value.arrayValue,i)}}class RS extends Be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>bu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i=null,s=[],u=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function I_(a,e=null,i=[],s=[],u=null,f=null,d=null){return new CS(a,e,i,s,u,f,d)}function pm(a){const e=Wt(a);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>zd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),hm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Qa(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Qa(s)).join(",")),e.ue=i}return e.ue}function ym(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!_S(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Qv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!x_(a.startAt,e.startAt)&&x_(a.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,i=null,s=[],u=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function DS(a,e,i,s,u,f,d,g){return new $c(a,e,i,s,u,f,d,g)}function OS(a){return new $c(a)}function V_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function MS(a){return a.collectionGroup!==null}function pu(a){const e=Wt(a);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Qe(Ge.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Pc(f,s))}),i.has(Ge.keyField().canonicalString())||e.ce.push(new Pc(Ge.keyField(),s))}return e.ce}function Ns(a){const e=Wt(a);return e.le||(e.le=NS(e,pu(a))),e.le}function NS(a,e){if(a.limitType==="F")return I_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const f=u.dir==="desc"?"asc":"desc";return new Pc(u.field,f)});const i=a.endAt?new Lc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Lc(a.startAt.position,a.startAt.inclusive):null;return I_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function kd(a,e,i){return new $c(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Yv(a,e){return ym(Ns(a),Ns(e))&&a.limitType===e.limitType}function Kv(a){return`${pm(Ns(a))}|lt:${a.limitType}`}function lu(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Xv(u)).join(", ")}]`),hm(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Qa(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Qa(u)).join(",")),`Target(${s})`}(Ns(a))}; limitType=${a.limitType})`}function _m(a,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):St.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,u){for(const f of pu(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,_){const v=N_(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,pu(s),u)||s.endAt&&!function(d,g,_){const v=N_(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,pu(s),u))}(a,e)}function xS(a){return(e,i)=>{let s=!1;for(const u of pu(a)){const f=IS(u,e,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function IS(a,e,i){const s=a.field.isKeyField()?St.comparator(e.key,i.key):function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?Ga(_,v):Dt()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(i,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new dn(St.comparator);function zc(){return VS}const Zv=new dn(St.comparator);function hc(...a){let e=Zv;for(const i of a)e=e.insert(i.key,i);return e}function Jv(a){let e=Zv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ds(){return yu()}function Wv(){return yu()}function yu(){return new zs(a=>a.toString(),(a,e)=>a.isEqual(e))}const US=new dn(St.comparator),BS=new Qe(St.comparator);function tn(...a){let e=BS;for(const i of a)e=e.add(i);return e}const LS=new Qe(Ft);function PS(){return LS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function tE(a){return{integerValue:""+a}}function zS(a,e){return cS(e)?tE(e):vm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function kS(a,e,i){return a instanceof Su?function(u,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&dm(f)&&(f=mm(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}}(i,e):a instanceof wu?nE(a,e):a instanceof Ru?iE(a,e):function(u,f){const d=eE(u,f),g=U_(d)+U_(u.Pe);return Pd(d)&&Pd(u.Pe)?tE(g):vm(u.serializer,g)}(a,e)}function qS(a,e,i){return a instanceof wu?nE(a,e):a instanceof Ru?iE(a,e):i}function eE(a,e){return a instanceof kc?function(s){return Pd(s)||function(f){return!!f&&"doubleValue"in f}(s)}(e)?e:{integerValue:0}:null}class Su extends Yc{}class wu extends Yc{constructor(e){super(),this.elements=e}}function nE(a,e){const i=rE(e);for(const s of a.elements)i.some(u=>Ri(u,s))||i.push(s);return{arrayValue:{values:i}}}class Ru extends Yc{constructor(e){super(),this.elements=e}}function iE(a,e){let i=rE(e);for(const s of a.elements)i=i.filter(u=>!Ri(u,s));return{arrayValue:{values:i}}}class kc extends Yc{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function U_(a){return Fe(a.integerValue||a.doubleValue)}function rE(a){return gm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.field=e,this.transform=i}}function HS(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof wu&&u instanceof wu||s instanceof Ru&&u instanceof Ru?Ha(s.elements,u.elements,Ri):s instanceof kc&&u instanceof kc?Ri(s.Pe,u.Pe):s instanceof Su&&u instanceof Su}(a.transform,e.transform)}class FS{constructor(e,i){this.version=e,this.transformResults=i}}class bi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Kc{}function sE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new lE(a.key,bi.none()):new Iu(a.key,a.data,bi.none());{const i=a.data,s=wn.empty();let u=new Qe(Ge.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new Qr(a.key,s,new Rn(u.toArray()),bi.none())}}function GS(a,e,i){a instanceof Iu?function(u,f,d){const g=u.value.clone(),_=L_(u.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Qr?function(u,f,d){if(!bc(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=L_(u.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(aE(u)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function _u(a,e,i,s){return a instanceof Iu?function(f,d,g,_){if(!bc(f.precondition,d))return g;const v=f.value.clone(),R=P_(f.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof Qr?function(f,d,g,_){if(!bc(f.precondition,d))return g;const v=P_(f.fieldTransforms,_,d),R=d.data;return R.setAll(aE(f)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(C=>C.field))}(a,e,i,s):function(f,d,g){return bc(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function QS(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),f=eE(s.transform,u||null);f!=null&&(i===null&&(i=wn.empty()),i.set(s.field,f))}return i||null}function B_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Ha(s,u,(f,d)=>HS(f,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Iu extends Kc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Qr extends Kc{constructor(e,i,s,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function aE(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function L_(a,e,i){const s=new Map;ce(a.length===i.length);for(let u=0;u<i.length;u++){const f=a[u],d=f.transform,g=e.data.field(f.field);s.set(f.field,qS(d,g,i[u]))}return s}function P_(a,e,i){const s=new Map;for(const u of a){const f=u.transform,d=i.data.field(u.field);s.set(u.field,kS(f,d,e))}return s}class lE extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XS extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&GS(f,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=_u(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=_u(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Wv();return this.mutations.forEach(u=>{const f=e.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(u.key)?null:g;const _=sE(d,g);_!==null&&s.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(te.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),tn())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(i,s)=>B_(i,s))&&Ha(this.baseMutations,e.baseMutations,(i,s)=>B_(i,s))}}class Em{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){ce(e.mutations.length===s.length);let u=function(){return US}();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new Em(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,It;function KS(a){switch(a){default:return Dt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function ZS(a){if(a===void 0)return Vs("GRPC error has no .code"),J.UNKNOWN;switch(a){case ye.OK:return J.OK;case ye.CANCELLED:return J.CANCELLED;case ye.UNKNOWN:return J.UNKNOWN;case ye.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ye.INTERNAL:return J.INTERNAL;case ye.UNAVAILABLE:return J.UNAVAILABLE;case ye.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ye.NOT_FOUND:return J.NOT_FOUND;case ye.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ye.ABORTED:return J.ABORTED;case ye.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ye.DATA_LOSS:return J.DATA_LOSS;default:return Dt()}}(It=ye||(ye={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new um([4294967295,4294967295],0);class JS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qd(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WS(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function tw(a,e){return qd(a,e.toTimestamp())}function Pa(a){return ce(!!a),te.fromTimestamp(function(i){const s=Us(i);return new Le(s.seconds,s.nanos)}(a))}function uE(a,e){return jd(a,e).canonicalString()}function jd(a,e){const i=function(u){return new _e(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function ew(a){const e=_e.fromString(a);return ce(ow(e)),e}function Hd(a,e){return uE(a.databaseId,e.path)}function nw(a){const e=ew(a);return e.length===4?_e.emptyPath():rw(e)}function iw(a){return new _e(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rw(a){return ce(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function z_(a,e,i){return{name:Hd(a,e),fields:i.value.mapValue.fields}}function sw(a,e){let i;if(e instanceof Iu)i={update:z_(a,e.key,e.value)};else if(e instanceof lE)i={delete:Hd(a,e.key)};else if(e instanceof Qr)i={update:z_(a,e.key,e.data),updateMask:uw(e.fieldMask)};else{if(!(e instanceof XS))return Dt();i={verify:Hd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(f,d){const g=d.transform;if(g instanceof Su)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof kc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw Dt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,f){return f.updateTime!==void 0?{updateTime:tw(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Dt()}(a,e.precondition)),i}function aw(a,e){return a&&a.length>0?(ce(e!==void 0),a.map(i=>function(u,f){let d=u.updateTime?Pa(u.updateTime):Pa(f);return d.isEqual(te.min())&&(d=Pa(f)),new FS(d,u.transformResults||[])}(i,e))):[]}function lw(a){let e=nw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){ce(s===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let f=[];i.where&&(f=function(C){const V=oE(C);return V instanceof Fr&&Gv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(V=>function(H){return new Pc(Ia(H.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(C){let V;return V=typeof C=="object"?C.value:C,hm(V)?null:V}(i.limit));let _=null;i.startAt&&(_=function(C){const V=!!C.before,k=C.values||[];return new Lc(k,V)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const V=!C.before,k=C.values||[];return new Lc(k,V)}(i.endAt)),DS(e,u,d,f,g,"F",_,v)}function oE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ia(i.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ia(i.unaryFilter.field);return Be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ia(i.unaryFilter.field);return Be.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ia(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(a):a.fieldFilter!==void 0?function(i){return Be.create(Ia(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Fr.create(i.compositeFilter.filters.map(s=>oE(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dt()}}(i.compositeFilter.op))}(a):Dt()}function Ia(a){return Ge.fromServerFormat(a.fieldPath)}function uw(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function ow(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.ht=e}}function fw(a){const e=lw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.ln=new dw}addToCollectionParentIndex(e,i){return this.ln.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.ln.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Hr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class dw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Qe(_e.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Qe(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Xa(0)}static Qn(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_([a,e],[i,s]){const u=Ft(a,i);return u===0?Ft(e,s):u}class mw{constructor(e){this.Gn=e,this.buffer=new Qe(q_),this.zn=0}jn(){return++this.zn}Hn(e){const i=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();q_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xu(i)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):await cm(i)}await this.Yn(3e5)})}}class pw{constructor(e,i){this.Zn=e,this.params=i}calculateTargetCount(e,i){return this.Zn.Xn(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(fm.oe);const s=new mw(i);return this.Zn.forEachTarget(e,u=>s.Hn(u.sequenceNumber)).next(()=>this.Zn.er(e,u=>s.Hn(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Zn.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Zn.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(k_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.tr(e,i))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,i){let s,u,f,d,g,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(f=C,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),xa()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:C})))}}function yw(a,e){return new pw(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.changes=new zs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&_u(s.mutation,u,Rn.empty(),Le.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,tn()).next(()=>s))}getLocalViewOfDocuments(e,i,s=tn()){const u=Ds();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(f=>{let d=hc();return f.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ds();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,tn()))}populateOverlays(e,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let f=zc();const d=yu(),g=function(){return yu()}();return i.forEach((_,v)=>{const R=s.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof Qr)?f=f.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),_u(R.mutation,v,R.mutation.getFieldMask(),Le.now())):d.set(v.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,f).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var C;return g.set(v,new vw(R,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(e,i){const s=yu();let u=new dn((d,g)=>d-g),f=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=s.get(_)||Rn.empty();R=g.applyToLocalView(v,R),s.set(_,R);const C=(u.get(g.batchId)||tn()).add(_);u=u.insert(g.batchId,C)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,R=_.value,C=Wv();R.forEach(V=>{if(!f.has(V)){const k=sE(i.get(V),s.get(V));k!==null&&C.set(V,k),f=f.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return St.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):MS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-f.size):$.resolve(Ds());let g=-1,_=f;return d.next(v=>$.forEach(v,(R,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),f.get(R)?$.resolve():this.remoteDocumentCache.getEntry(e,R).next(V=>{_=_.insert(R,V)}))).next(()=>this.populateOverlays(e,v,f)).next(()=>this.computeViews(e,_,v,tn())).next(R=>({batchId:g,changes:Jv(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new St(i)).next(s=>{let u=hc();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const f=i.collectionGroup;let d=hc();return this.indexManager.getCollectionParents(e,f).next(g=>$.forEach(g,_=>{const v=function(C,V){return new $c(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,u).next(R=>{R.forEach((C,V)=>{d=d.insert(C,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,u))).next(d=>{f.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Jn.newInvalidDocument(R)))});let g=hc();return d.forEach((_,v)=>{const R=f.get(_);R!==void 0&&_u(R.mutation,v,Rn.empty(),Le.now()),_m(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,i){return $.resolve(this.Tr.get(i))}saveBundleMetadata(e,i){return this.Tr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Pa(u.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Ir.get(i))}saveNamedQuery(e,i){return this.Ir.set(i.name,function(u){return{name:u.name,query:fw(u.bundledQuery),readTime:Pa(u.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.overlays=new dn(St.comparator),this.dr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ds();return $.forEach(i,u=>this.getOverlay(e,u).next(f=>{f!==null&&s.set(u,f)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,f)=>{this.Tt(e,i,f)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.dr.get(s);return u!==void 0&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.dr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const u=Ds(),f=i.length+1,d=new St(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&u.set(_.getKey(),_)}return $.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let f=new dn((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let R=f.get(v.largestBatchId);R===null&&(R=Ds(),f=f.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const g=Ds(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>g.set(v,R)),!(g.size()>=u)););return $.resolve(g)}Tt(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.dr.get(u.largestBatchId).delete(s.key);this.dr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new YS(i,s));let f=this.dr.get(i);f===void 0&&(f=tn(),this.dr.set(i,f)),this.dr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Er=new Qe(Ue.Ar),this.Rr=new Qe(Ue.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.gr(new Ue(e,i))}pr(e,i){e.forEach(s=>this.removeReference(s,i))}yr(e){const i=new St(new _e([])),s=new Ue(i,e),u=new Ue(i,e+1),f=[];return this.Rr.forEachInRange([s,u],d=>{this.gr(d),f.push(d.key)}),f}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const i=new St(new _e([])),s=new Ue(i,e),u=new Ue(i,e+1);let f=tn();return this.Rr.forEachInRange([s,u],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Ue(e,0),s=this.Er.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.br=i}static Ar(e,i){return St.comparator(e.key,i.key)||Ft(e.br,i.br)}static Vr(e,i){return Ft(e.br,i.br)||St.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Dr=1,this.vr=new Qe(Ue.Ar)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const f=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $S(f,i,s,u);this.mutationQueue.push(d);for(const g of u)this.vr=this.vr.add(new Ue(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Cr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Fr(s),f=u<0?0:u;return $.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),u=new Ue(i,Number.POSITIVE_INFINITY),f=[];return this.vr.forEachInRange([s,u],d=>{const g=this.Cr(d.br);f.push(g)}),$.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Qe(Ft);return i.forEach(u=>{const f=new Ue(u,0),d=new Ue(u,Number.POSITIVE_INFINITY);this.vr.forEachInRange([f,d],g=>{s=s.add(g.br)})}),$.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let f=s;St.isDocumentKey(f)||(f=f.child(""));const d=new Ue(new St(f),0);let g=new Qe(Ft);return this.vr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.br)),!0)},d),$.resolve(this.Mr(g))}Mr(e){const i=[];return e.forEach(s=>{const u=this.Cr(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){ce(this.Or(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return $.forEach(i.mutations,u=>{const f=new Ue(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,i){const s=new Ue(i,0),u=this.vr.firstAfterOrEqual(s);return $.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Or(e,i){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const i=this.Fr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.Nr=e,this.docs=function(){return new dn(St.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.Nr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Jn.newInvalidDocument(i))}getEntries(e,i){let s=zc();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Jn.newInvalidDocument(u))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let f=zc();const d=i.path,g=new St(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||aS(sS(R),s)<=0||(u.has(R.key)||_m(i,R))&&(f=f.insert(R.key,R.mutableCopy()))}return $.resolve(f)}getAllFromCollectionGroup(e,i,s,u){Dt()}Br(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Rw(this)}getSize(e){return $.resolve(this.size)}}class Rw extends _w{constructor(e){super(),this.hr=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.hr.addEntry(e,u)):this.hr.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.hr.getEntry(e,i)}getAllFromCache(e,i){return this.hr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.persistence=e,this.Lr=new zs(i=>pm(i),ym),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.kr=0,this.qr=new Tm,this.targetCount=0,this.Qr=Xa.qn()}forEachTarget(e,i){return this.Lr.forEach((s,u)=>i(u)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.kr&&(this.kr=i),$.resolve()}Un(e){this.Lr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Qr=new Xa(i),this.highestTargetId=i),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,i){return this.Un(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Un(i),$.resolve()}removeTargetData(e,i){return this.Lr.delete(i.target),this.qr.yr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let u=0;const f=[];return this.Lr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Lr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),$.waitFor(f).next(()=>u)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.Lr.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.qr.mr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.qr.pr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(d=>{f.push(u.markPotentiallyOrphaned(e,d))}),$.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.qr.yr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.qr.Sr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.qr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,i){this.Kr={},this.overlays={},this.$r=new fm(0),this.Ur=!1,this.Ur=!0,this.Wr=new bw,this.referenceDelegate=e(this),this.Gr=new Cw(this),this.indexManager=new hw,this.remoteDocumentCache=function(u){return new ww(u)}(s=>this.referenceDelegate.zr(s)),this.serializer=new cw(i),this.jr=new Tw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Aw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Kr[e.toKey()];return s||(s=new Sw(i,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const u=new Dw(this.$r.next());return this.referenceDelegate.Hr(),s(u).next(f=>this.referenceDelegate.Jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Yr(e,i){return $.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,i)))}}class Dw extends uS{constructor(e){super(),this.currentSequenceNumber=e}}class Am{constructor(e){this.persistence=e,this.Zr=new Tm,this.Xr=null}static ei(e){return new Am(e)}get ti(){if(this.Xr)return this.Xr;throw Dt()}addReference(e,i,s){return this.Zr.addReference(s,i),this.ti.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Zr.removeReference(s,i),this.ti.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.ti.add(i.toString()),$.resolve()}removeTarget(e,i){this.Zr.yr(i.targetId).forEach(u=>this.ti.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(f=>this.ti.add(f.toString()))}).next(()=>s.removeTargetData(e,i))}Hr(){this.Xr=new Set}Jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ti,s=>{const u=St.fromPath(s);return this.ni(e,u).next(f=>{f||i.removeEntry(u,te.min())})}).next(()=>(this.Xr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ni(e,i).next(s=>{s?this.ti.delete(i.toString()):this.ti.add(i.toString())})}zr(e){return 0}ni(e,i){return $.or([()=>$.resolve(this.Zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Yr(e,i)])}}class qc{constructor(e,i){this.persistence=e,this.ri=new zs(s=>fS(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=yw(this,i)}static ei(e,i){return new qc(e,i)}Hr(){}Jr(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}Xn(e){const i=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}nr(e){let i=0;return this.er(e,s=>{i++}).next(()=>i)}er(e,i){return $.forEach(this.ri,(s,u)=>this.ir(e,s,u).next(f=>f?$.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.Br(e,d=>this.ir(e,d,i).next(g=>{g||(s++,f.removeEntry(d,te.min()))})).next(()=>f.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.ri.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.ri.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.ri.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.ri.set(i,e.currentSequenceNumber),$.resolve()}zr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Tc(e.data.value)),i}ir(e,i,s){return $.or([()=>this.persistence.Yr(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.ri.get(i);return $.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Wi=s,this.Gi=u}static zi(e,i){let s=tn(),u=tn();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new bm(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return NA()?8:oS(OA())>0?6:4}()}initialize(e,i){this.Zi=e,this.indexManager=i,this.ji=!0}getDocumentsMatchingQuery(e,i,s,u){const f={result:null};return this.Xi(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.es(e,i,u,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new Ow;return this.ts(e,i,d).next(g=>{if(f.result=g,this.Hi)return this.ns(e,i,d,g.size)})}).next(()=>f.result)}ns(e,i,s,u){return s.documentReadCount<this.Ji?(xa()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",lu(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),$.resolve()):(xa()<=Vt.DEBUG&&ot("QueryEngine","Query:",lu(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Yi*u?(xa()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",lu(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(i))):$.resolve())}Xi(e,i){if(V_(i))return $.resolve(null);let s=Ns(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=kd(i,null,"F"),s=Ns(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const d=tn(...f);return this.Zi.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.rs(i,g);return this.ss(i,v,d,_.readTime)?this.Xi(e,kd(i,null,"F")):this.os(e,v,i,_)}))})))}es(e,i,s,u){return V_(i)||u.isEqual(te.min())?$.resolve(null):this.Zi.getDocuments(e,s).next(f=>{const d=this.rs(i,f);return this.ss(i,d,s,u)?$.resolve(null):(xa()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),lu(i)),this.os(e,d,i,rS(u,-1)).next(g=>g))})}rs(e,i){let s=new Qe(xS(e));return i.forEach((u,f)=>{_m(e,f)&&(s=s.add(f))}),s}ss(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}ts(e,i,s){return xa()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",lu(i)),this.Zi.getDocumentsMatchingQuery(e,i,Hr.min(),s)}os(e,i,s,u){return this.Zi.getDocumentsMatchingQuery(e,s,u).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,i,s,u){this.persistence=e,this._s=i,this.serializer=u,this.us=new dn(Ft),this.cs=new zs(f=>pm(f),ym),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ew(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.us))}}function xw(a,e,i,s){return new Nw(a,e,i,s)}async function fE(a,e){const i=Wt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.Ps(e),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],g=[];let _=tn();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of f){g.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ts:v,removedBatchIds:d,addedBatchIds:g}))})})}function Iw(a,e){const i=Wt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=i.hs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,R){const C=v.batch,V=C.keys();let k=$.resolve();return V.forEach(H=>{k=k.next(()=>R.getEntry(_,H)).next(X=>{const G=v.docVersions.get(H);ce(G!==null),X.version.compareTo(G)<0&&(C.applyToRemoteDocument(X,v),X.isValidDocument()&&(X.setReadTime(v.commitVersion),R.addEntry(X)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(_,C))}(i,s,e,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=tn();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Vw(a){const e=Wt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Gr.getLastRemoteSnapshotVersion(i))}function Uw(a,e){const i=Wt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}class j_{constructor(){this.activeTargetIds=PS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bw{constructor(){this._o=new j_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,i,s){this.ao[e]=i}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new j_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function yd(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class kw extends class{get Co(){return!1}constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+i.host,this.Mo=`projects/${u}/databases/${f}`,this.xo=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${f}`}Oo(i,s,u,f,d){const g=yd(),_=this.No(i,s.toUriEncodedString());ot("RestConnection",`Sending RPC '${i}' ${g}:`,_,u);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,f,d),this.Lo(i,_,v,u).then(R=>(ot("RestConnection",`Received RPC '${i}' ${g}: `,R),R),R=>{throw Ic("RestConnection",`RPC '${i}' ${g} failed with error: `,R,"url: ",_,"request:",u),R})}ko(i,s,u,f,d,g){return this.Oo(i,s,u,f,d)}Bo(i,s,u){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,d)=>i[d]=f),u&&u.headers.forEach((f,d)=>i[d]=f)}No(i,s){const u=Pw[i];return`${this.Fo}/v1/${s}:${u}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,i,s,u){const f=yd();return new Promise((d,g)=>{const _=new Vv;_.setWithCredentials(!0),_.listenOnce(Uv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ec.NO_ERROR:const R=_.getResponseJson();ot(Ze,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(R)),d(R);break;case Ec.TIMEOUT:ot(Ze,`RPC '${e}' ${f} timed out`),g(new yt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const C=_.getStatus();if(ot(Ze,`RPC '${e}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let V=_.getResponseJson();Array.isArray(V)&&(V=V[0]);const k=V==null?void 0:V.error;if(k&&k.status&&k.message){const H=function(G){const mt=G.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(mt)>=0?mt:J.UNKNOWN}(k.status);g(new yt(H,k.message))}else g(new yt(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new yt(J.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{ot(Ze,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(u);ot(Ze,`RPC '${e}' ${f} sending request:`,u),_.send(i,"POST",v,s,15)})}qo(e,i,s){const u=yd(),f=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Pv(),g=Lv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Bo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const R=f.join("");ot(Ze,`Creating RPC '${e}' stream ${u}: ${R}`,_);const C=d.createWebChannel(R,_);let V=!1,k=!1;const H=new zw({Eo:G=>{k?ot(Ze,`Not sending because RPC '${e}' stream ${u} is closed:`,G):(V||(ot(Ze,`Opening RPC '${e}' stream ${u} transport.`),C.open(),V=!0),ot(Ze,`RPC '${e}' stream ${u} sending:`,G),C.send(G))},Ao:()=>C.close()}),X=(G,mt,K)=>{G.listen(mt,it=>{try{K(it)}catch(nt){setTimeout(()=>{throw nt},0)}})};return X(C,uu.EventType.OPEN,()=>{k||(ot(Ze,`RPC '${e}' stream ${u} transport opened.`),H.So())}),X(C,uu.EventType.CLOSE,()=>{k||(k=!0,ot(Ze,`RPC '${e}' stream ${u} transport closed`),H.Do())}),X(C,uu.EventType.ERROR,G=>{k||(k=!0,Ic(Ze,`RPC '${e}' stream ${u} transport errored:`,G),H.Do(new yt(J.UNAVAILABLE,"The operation could not be completed")))}),X(C,uu.EventType.MESSAGE,G=>{var mt;if(!k){const K=G.data[0];ce(!!K);const it=K,nt=(it==null?void 0:it.error)||((mt=it[0])===null||mt===void 0?void 0:mt.error);if(nt){ot(Ze,`RPC '${e}' stream ${u} received error:`,nt);const lt=nt.status;let at=function(A){const w=ye[A];if(w!==void 0)return ZS(w)}(lt),M=nt.message;at===void 0&&(at=J.INTERNAL,M="Unknown error status: "+lt+" with message "+nt.message),k=!0,H.Do(new yt(at,M)),C.close()}else ot(Ze,`RPC '${e}' stream ${u} received:`,K),H.vo(K)}}),X(g,Bv.STAT_EVENT,G=>{G.stat===Bd.PROXY?ot(Ze,`RPC '${e}' stream ${u} detected buffering proxy`):G.stat===Bd.NOPROXY&&ot(Ze,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{H.bo()},0),H}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(a){return new JS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,i,s=1e3,u=1.5,f=6e4){this.li=e,this.timerId=i,this.Qo=s,this.Ko=u,this.$o=f,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const i=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),u=Math.max(0,i-s);u>0&&ot("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Uo} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,u,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,i,s,u,f,d,g,_){this.li=e,this.Yo=s,this.Zo=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new hE(e,i)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,i){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Vs(i.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(i)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),i=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Xo===i&&this.I_(s,u)},s=>{e(()=>{const u=new yt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(u)})})}I_(e,i){const s=this.T_(this.Xo);this.stream=this.E_(e,i),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(u=>{s(()=>this.d_(u))}),this.stream.onMessage(u=>{s(()=>++this.n_==1?this.A_(u):this.onNext(u))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return i=>{this.li.enqueueAndForget(()=>this.Xo===e?i():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jw extends qw{constructor(e,i,s,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,i){return this.connection.qo("Write",e,i)}A_(e){return ce(!!e.streamToken),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const i=aw(e.writeResults,e.commitTime),s=Pa(e.commitTime);return this.listener.y_(s,i)}w_(){const e={};e.database=iw(this.serializer),this.c_(e)}g_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>sw(this.serializer,s))};this.c_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends class{}{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.S_=!1}b_(){if(this.S_)throw new yt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,i,s,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Oo(e,jd(i,s),u,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(J.UNKNOWN,f.toString())})}ko(e,i,s,u,f){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.ko(e,jd(i,s),u,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt(J.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Fw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Vs(i),this.C_=!1):ot("OnlineStateTracker",i)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,i,s,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=f,this.Q_.uo(d=>{s.enqueueAndForget(async()=>{Uu(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await async function(_){const v=Wt(_);v.k_.add(4),await Vu(v),v.K_.set("Unknown"),v.k_.delete(4),await Jc(v)}(this))})}),this.K_=new Fw(s,u)}}async function Jc(a){if(Uu(a))for(const e of a.q_)await e(!0)}async function Vu(a){for(const e of a.q_)await e(!1)}function Uu(a){return Wt(a).k_.size===0}async function dE(a,e,i){if(!xu(e))throw e;a.k_.add(1),await Vu(a),a.K_.set("Offline"),i||(i=()=>Vw(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ot("RemoteStore","Retrying IndexedDB access"),await i(),a.k_.delete(1),await Jc(a)})}function mE(a,e){return e().catch(i=>dE(a,i,e))}async function Wc(a){const e=Wt(a),i=Gr(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Qw(e);)try{const u=await Uw(e.localStore,s);if(u===null){e.B_.length===0&&i.a_();break}s=u.batchId,Xw(e,u)}catch(u){await dE(e,u)}gE(e)&&pE(e)}function Qw(a){return Uu(a)&&a.B_.length<10}function Xw(a,e){a.B_.push(e);const i=Gr(a);i.s_()&&i.f_&&i.g_(e.mutations)}function gE(a){return Uu(a)&&!Gr(a).i_()&&a.B_.length>0}function pE(a){Gr(a).start()}async function $w(a){Gr(a).w_()}async function Yw(a){const e=Gr(a);for(const i of a.B_)e.g_(i.mutations)}async function Kw(a,e,i){const s=a.B_.shift(),u=Em.from(s,e,i);await mE(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await Wc(a)}async function Zw(a,e){e&&Gr(a).f_&&await async function(s,u){if(function(d){return KS(d)&&d!==J.ABORTED}(u.code)){const f=s.B_.shift();Gr(s).__(),await mE(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u)),await Wc(s)}}(a,e),gE(a)&&pE(a)}async function F_(a,e){const i=Wt(a);i.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const s=Uu(i);i.k_.add(3),await Vu(i),s&&i.K_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.k_.delete(3),await Jc(i)}async function Jw(a,e){const i=Wt(a);e?(i.k_.delete(2),await Jc(i)):e||(i.k_.add(2),await Vu(i),i.K_.set("Unknown"))}function Gr(a){return a.G_||(a.G_=function(i,s,u){const f=Wt(i);return f.b_(),new jw(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Ro:()=>Promise.resolve(),mo:$w.bind(null,a),po:Zw.bind(null,a),p_:Yw.bind(null,a),y_:Kw.bind(null,a)}),a.q_.push(async e=>{e?(a.G_.__(),await Wc(a)):(await a.G_.stop(),a.B_.length>0&&(ot("RemoteStore",`Stopping write stream with ${a.B_.length} pending writes`),a.B_=[]))})),a.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,i,s,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,f){const d=Date.now()+s,g=new Sm(e,i,d,u,f);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yE(a,e){if(Vs("AsyncQueue",`${e}: ${a}`),xu(a))return new yt(J.UNAVAILABLE,`${e}: ${a}`);throw a}class Ww{constructor(){this.queries=G_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(i,s){const u=Wt(i),f=u.queries;u.queries=G_(),f.forEach((d,g)=>{for(const _ of g.J_)_.onError(s)})})(this,new yt(J.ABORTED,"Firestore shutting down"))}}function G_(){return new zs(a=>Kv(a),Yv)}function t1(a){a.X_.forEach(e=>{e.next()})}var Q_,X_;(X_=Q_||(Q_={})).na="default",X_.Cache="cache";class e1{constructor(e,i,s,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new zs(g=>Kv(g),Yv),this.Oa=new Map,this.Na=new Set,this.Ba=new dn(St.comparator),this.La=new Map,this.ka=new Tm,this.qa={},this.Qa=new Map,this.Ka=Xa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function n1(a,e,i){const s=a1(a);try{const u=await function(d,g){const _=Wt(d),v=Le.now(),R=g.reduce((k,H)=>k.add(H.key),tn());let C,V;return _.persistence.runTransaction("Locally write mutations","readwrite",k=>{let H=zc(),X=tn();return _.hs.getEntries(k,R).next(G=>{H=G,H.forEach((mt,K)=>{K.isValidDocument()||(X=X.add(mt))})}).next(()=>_.localDocuments.getOverlayedDocuments(k,H)).next(G=>{C=G;const mt=[];for(const K of g){const it=QS(K,C.get(K.key).overlayedDocument);it!=null&&mt.push(new Qr(K.key,it,jv(it.value.mapValue),bi.exists(!0)))}return _.mutationQueue.addMutationBatch(k,v,mt,g)}).next(G=>{V=G;const mt=G.applyToLocalDocumentSet(C,X);return _.documentOverlayCache.saveOverlays(k,G.batchId,mt)})}).then(()=>({batchId:V.batchId,changes:Jv(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.qa[d.currentUser.toKey()];v||(v=new dn(Ft)),v=v.insert(g,_),d.qa[d.currentUser.toKey()]=v}(s,u.batchId,i),await tf(s,u.changes),await Wc(s.remoteStore)}catch(u){const f=yE(u,"Failed to persist write");i.reject(f)}}function $_(a,e,i){const s=Wt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.xa.forEach((f,d)=>{const g=d.view.ea(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=Wt(d);_.onlineState=g;let v=!1;_.queries.forEach((R,C)=>{for(const V of C.J_)V.ea(g)&&(v=!0)}),v&&t1(_)}(s.eventManager,e),u.length&&s.Ma.R_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i1(a,e){const i=Wt(a),s=e.batch.batchId;try{const u=await Iw(i.localStore,e);vE(i,s,null),_E(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await tf(i,u)}catch(u){await cm(u)}}async function r1(a,e,i){const s=Wt(a);try{const u=await function(d,g){const _=Wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,g).next(C=>(ce(C!==null),R=C.keys(),_.mutationQueue.removeMutationBatch(v,C))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(s.localStore,e);vE(s,e,i),_E(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await tf(s,u)}catch(u){await cm(u)}}function _E(a,e){(a.Qa.get(e)||[]).forEach(i=>{i.resolve()}),a.Qa.delete(e)}function vE(a,e,i){const s=Wt(a);let u=s.qa[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),s.qa[s.currentUser.toKey()]=u}}async function tf(a,e,i){const s=Wt(a),u=[],f=[],d=[];s.xa.isEmpty()||(s.xa.forEach((g,_)=>{d.push(s.Ua(_,e,i).then(v=>{var R;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(R=void 0)===null||R===void 0?void 0:R.current;s.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=bm.zi(_.targetId,v);f.push(C)}}))}),await Promise.all(d),s.Ma.R_(u),await async function(_,v){const R=Wt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>$.forEach(v,V=>$.forEach(V.Wi,k=>R.persistence.referenceDelegate.addReference(C,V.targetId,k)).next(()=>$.forEach(V.Gi,k=>R.persistence.referenceDelegate.removeReference(C,V.targetId,k)))))}catch(C){if(!xu(C))throw C;ot("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const V=C.targetId;if(!C.fromCache){const k=R.us.get(V),H=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(H);R.us=R.us.insert(V,X)}}}(s.localStore,f))}async function s1(a,e){const i=Wt(a);if(!i.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const s=await fE(i.localStore,e);i.currentUser=e,function(f,d){f.Qa.forEach(g=>{g.forEach(_=>{_.reject(new yt(J.CANCELLED,d))})}),f.Qa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tf(i,s.Ts)}}function a1(a){const e=Wt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r1.bind(null,e),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,i){return null}Ya(e,i){return null}Ha(e){return xw(this.persistence,new Mw,e.initialUser,this.serializer)}ja(e){return new cE(Am.ei,this.serializer)}za(e){return new Bw}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class l1 extends jc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,i){ce(this.persistence.referenceDelegate instanceof qc);const s=this.persistence.referenceDelegate.garbageCollector;return new gw(s,e.asyncQueue,i)}ja(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new cE(s=>qc.ei(s,i),this.serializer)}}class Fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=s1.bind(null,this.syncEngine),await Jw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ww}()}createDatastore(e){const i=Zc(e.databaseInfo.databaseId),s=function(f){return new kw(f)}(e.databaseInfo);return function(f,d,g,_){return new Hw(f,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,f,d,g){return new Gw(s,u,f,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>$_(this.syncEngine,i,0),function(){return H_.p()?new H_:new Lw}())}createSyncEngine(e,i){return function(u,f,d,g,_,v,R){const C=new e1(u,f,d,g,_,v);return R&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const f=Wt(u);ot("RemoteStore","RemoteStore shutting down."),f.k_.add(5),await Vu(f),f.Q_.shutdown(),f.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i,s,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=We.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{ot("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=yE(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vd(a,e){a.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await fE(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function Y_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await o1(a);ot("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>F_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>F_(e.remoteStore,u)),a._onlineComponents=e}async function o1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await vd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===J.FAILED_PRECONDITION||u.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;Ic("Error using user provided cache. Falling back to memory cache: "+i),await vd(a,new jc)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await vd(a,new l1(void 0));return a._offlineComponents}async function c1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await Y_(a,a._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await Y_(a,new Fd))),a._onlineComponents}function f1(a){return c1(a).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(a,e,i){if(!i)throw new yt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function d1(a,e,i,s){if(e===!0&&s===!0)throw new yt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Z_(a){if(!St.isDocumentKey(a))throw new yt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function wm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Dt()}function Cu(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new yt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wm(a);throw new yt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rm{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Yb;switch(s.type){case"firstParty":return new Wb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=K_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),K_.delete(i),s.terminate())}(this),Promise.resolve()}}function m1(a,e,i,s={}){var u;const f=(a=Cu(a,Rm))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&Ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=We.MOCK_USER;else{g=DA(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new yt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new We(v)}a._authCredentials=new Kb(new zv(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cm(this.firestore,e,this._query)}}class Si{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class Du extends Cm{constructor(e,i,s){super(e,i,OS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new St(e))}withConverter(e){return new Du(this.firestore,e,this._path)}}function W_(a,e,...i){if(a=xs(a),arguments.length===1&&(e=kv.newId()),h1("doc","path",e),a instanceof Rm){const s=_e.fromString(e,...i);return Z_(s),new Si(a,null,new St(s))}{if(!(a instanceof Si||a instanceof Du))throw new yt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(_e.fromString(e,...i));return Z_(s),new Si(a.firestore,a instanceof Du?a.converter:null,new St(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new hE(this,"async_queue_retry"),this.fu=()=>{const s=_d();s&&ot("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const i=new Ms;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!xu(e))throw e;ot("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const i=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Vs("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.Ru=!1,s))));return this.gu=i,i}enqueueAfterDelay(e,i,s){this.pu(),this.mu.indexOf(e)>-1&&(i=0);const u=Sm.createAndSchedule(this,e,i,s,f=>this.Su(f));return this.Eu.push(u),u}pu(){this.Au&&Dt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const i of this.Eu)if(i.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Eu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const i=this.Eu.indexOf(e);this.Eu.splice(i,1)}}class Dm extends Rm{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new tv,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tv(e),this._firestoreClient=void 0,await e}}}function g1(a,e){const i=typeof a=="object"?a:Lb(),s=typeof a=="string"?a:"(default)",u=Ib(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=RA("firestore");f&&m1(u,...f)}return u}function p1(a){if(a._terminated)throw new yt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||y1(a),a._firestoreClient}function y1(a){var e,i,s;const u=a._freezeSettings(),f=function(g,_,v,R){return new gS(g,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,EE(R.experimentalLongPollingOptions),R.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new u1(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ou(wi.fromBase64String(e))}catch(i){throw new yt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ou(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=/^__.*__$/;class v1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Iu(e,this.data,i,this.fieldTransforms)}}class bE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Qr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function SE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class Mm{constructor(e,i,s,u,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.Fu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.xu({path:s,Nu:!1});return u.Bu(e),u}Lu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.xu({path:s,Nu:!1});return u.Fu(),u}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Hc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(SE(this.Mu)&&_1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class E1{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Zc(e)}$u(e,i,s,u=!1){return new Mm({Mu:e,methodName:i,Ku:s,path:Ge.emptyPath(),Nu:!1,Qu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wE(a){const e=a._freezeSettings(),i=Zc(a._databaseId);return new E1(a._databaseId,!!e.ignoreUndefinedProperties,i)}function T1(a,e,i,s,u,f={}){const d=a.$u(f.merge||f.mergeFields?2:0,e,i,u);xm("Data must be an object, but it was:",d,s);const g=RE(s,d);let _,v;if(f.merge)_=new Rn(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const R=[];for(const C of f.mergeFields){const V=Gd(e,C,i);if(!d.contains(V))throw new yt(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);OE(R,V)||R.push(V)}_=new Rn(R),v=d.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,v=d.fieldTransforms;return new v1(new wn(g),_,v)}class nf extends ef{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class Nm extends ef{_toFieldTransform(e){return new jS(e.path,new Su)}isEqual(e){return e instanceof Nm}}function A1(a,e,i,s){const u=a.$u(1,e,i);xm("Data must be an object, but it was:",u,s);const f=[],d=wn.empty();Ps(s,(_,v)=>{const R=DE(e,_,i);v=xs(v);const C=u.Lu(R);if(v instanceof nf)f.push(R);else{const V=rf(v,C);V!=null&&(f.push(R),d.set(R,V))}});const g=new Rn(f);return new bE(d,g,u.fieldTransforms)}function b1(a,e,i,s,u,f){const d=a.$u(1,e,i),g=[Gd(e,s,i)],_=[u];if(f.length%2!=0)throw new yt(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<f.length;V+=2)g.push(Gd(e,f[V])),_.push(f[V+1]);const v=[],R=wn.empty();for(let V=g.length-1;V>=0;--V)if(!OE(v,g[V])){const k=g[V];let H=_[V];H=xs(H);const X=d.Lu(k);if(H instanceof nf)v.push(k);else{const G=rf(H,X);G!=null&&(v.push(k),R.set(k,G))}}const C=new Rn(v);return new bE(R,C,d.fieldTransforms)}function rf(a,e){if(CE(a=xs(a)))return xm("Unsupported field value:",e,a),RE(a,e);if(a instanceof ef)return function(s,u){if(!SE(u.Mu))throw u.qu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.qu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,u){const f=[];let d=0;for(const g of s){let _=rf(g,u.ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}}(a,e)}return function(s,u){if((s=xs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zS(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=Le.fromDate(s);return{timestampValue:qd(u.serializer,f)}}if(s instanceof Le){const f=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qd(u.serializer,f)}}if(s instanceof TE)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ou)return{bytesValue:WS(u.serializer,s._byteString)};if(s instanceof Si){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:uE(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof AE)return function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.qu("VectorValues must only contain numeric values.");return vm(g.serializer,_)})}}}}}}(s,u);throw u.qu(`Unsupported field value: ${wm(s)}`)}(a,e)}function RE(a,e){const i={};return qv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(a,(s,u)=>{const f=rf(u,e.Ou(s));f!=null&&(i[s]=f)}),{mapValue:{fields:i}}}function CE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Le||a instanceof TE||a instanceof Ou||a instanceof Si||a instanceof ef||a instanceof AE)}function xm(a,e,i){if(!CE(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=wm(i);throw s==="an object"?e.qu(a+" a custom object"):e.qu(a+" "+s)}}function Gd(a,e,i){if((e=xs(e))instanceof Om)return e._internalPath;if(typeof e=="string")return DE(a,e);throw Hc("Field path arguments must be of type string or ",a,!1,void 0,i)}const S1=new RegExp("[~\\*/\\[\\]]");function DE(a,e,i){if(e.search(S1)>=0)throw Hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Om(...e.split("."))._internalPath}catch{throw Hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Hc(a,e,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${u}`),_+=")"),new yt(J.INVALID_ARGUMENT,g+a+_)}function OE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(a,e,i){let s;return s=a?a.toFirestore(e):e,s}function R1(a,e,i){a=Cu(a,Si);const s=Cu(a.firestore,Dm),u=w1(a.converter,e);return ME(s,[T1(wE(s),"setDoc",a._key,u,a.converter!==null,i).toMutation(a._key,bi.none())])}function C1(a,e,i,...s){a=Cu(a,Si);const u=Cu(a.firestore,Dm),f=wE(u);let d;return d=typeof(e=xs(e))=="string"||e instanceof Om?b1(f,"updateDoc",a._key,e,i,s):A1(f,"updateDoc",a._key,e),ME(u,[d.toMutation(a._key,bi.exists(!0))])}function ME(a,e){return function(s,u){const f=new Ms;return s.asyncQueue.enqueueAndForget(async()=>n1(await f1(s),u,f)),f.promise}(p1(a),e)}function ev(){return new Nm("serverTimestamp")}(function(e,i=!0){(function(u){Ka=u})(Bb),xc(new Tu("firestore",(s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new Dm(new Zb(s.getProvider("auth-internal")),new eS(s.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new yt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(v.options.projectId,R)}(d,u),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),La(w_,"4.7.6",e),La(w_,"4.7.6","esm2017")})();const D1={apiKey:"AIzaSyBzHBjR4qMqfV2E_yduiMJnuQpmOh6pyss",authDomain:"aws-coding-club-ai.firebaseapp.com",projectId:"aws-coding-club-ai",storageBucket:"aws-coding-club-ai.firebasestorage.app",messagingSenderId:"355550864470",appId:"1:355550864470:web:e7d5f9e310ba8c1fc9c7f7"},O1=Nv(D1),nv=g1(O1),Qd="RFC3986",Xd={RFC1738:a=>String(a).replace(/%20/g,"+"),RFC3986:a=>String(a)},M1="RFC1738",N1=Array.isArray,_i=(()=>{const a=[];for(let e=0;e<256;++e)a.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return a})(),Ed=1024,x1=(a,e,i,s,u)=>{if(a.length===0)return a;let f=a;if(typeof a=="symbol"?f=Symbol.prototype.toString.call(a):typeof a!="string"&&(f=String(a)),i==="iso-8859-1")return escape(f).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});let d="";for(let g=0;g<f.length;g+=Ed){const _=f.length>=Ed?f.slice(g,g+Ed):f,v=[];for(let R=0;R<_.length;++R){let C=_.charCodeAt(R);if(C===45||C===46||C===95||C===126||C>=48&&C<=57||C>=65&&C<=90||C>=97&&C<=122||u===M1&&(C===40||C===41)){v[v.length]=_.charAt(R);continue}if(C<128){v[v.length]=_i[C];continue}if(C<2048){v[v.length]=_i[192|C>>6]+_i[128|C&63];continue}if(C<55296||C>=57344){v[v.length]=_i[224|C>>12]+_i[128|C>>6&63]+_i[128|C&63];continue}R+=1,C=65536+((C&1023)<<10|_.charCodeAt(R)&1023),v[v.length]=_i[240|C>>18]+_i[128|C>>12&63]+_i[128|C>>6&63]+_i[128|C&63]}d+=v.join("")}return d};function I1(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}function iv(a,e){if(N1(a)){const i=[];for(let s=0;s<a.length;s+=1)i.push(e(a[s]));return i}return e(a)}const V1=Object.prototype.hasOwnProperty,NE={brackets(a){return String(a)+"[]"},comma:"comma",indices(a,e){return String(a)+"["+e+"]"},repeat(a){return String(a)}},Ei=Array.isArray,U1=Array.prototype.push,xE=function(a,e){U1.apply(a,Ei(e)?e:[e])},B1=Date.prototype.toISOString,Re={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:x1,encodeValuesOnly:!1,format:Qd,formatter:Xd[Qd],indices:!1,serializeDate(a){return B1.call(a)},skipNulls:!1,strictNullHandling:!1};function L1(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"||typeof a=="symbol"||typeof a=="bigint"}const Td={};function IE(a,e,i,s,u,f,d,g,_,v,R,C,V,k,H,X,G,mt){let K=a,it=mt,nt=0,lt=!1;for(;(it=it.get(Td))!==void 0&&!lt;){const w=it.get(a);if(nt+=1,typeof w<"u"){if(w===nt)throw new RangeError("Cyclic object value");lt=!0}typeof it.get(Td)>"u"&&(nt=0)}if(typeof v=="function"?K=v(e,K):K instanceof Date?K=V==null?void 0:V(K):i==="comma"&&Ei(K)&&(K=iv(K,function(w){return w instanceof Date?V==null?void 0:V(w):w})),K===null){if(f)return _&&!X?_(e,Re.encoder,G,"key",k):e;K=""}if(L1(K)||I1(K)){if(_){const w=X?e:_(e,Re.encoder,G,"key",k);return[(H==null?void 0:H(w))+"="+(H==null?void 0:H(_(K,Re.encoder,G,"value",k)))]}return[(H==null?void 0:H(e))+"="+(H==null?void 0:H(String(K)))]}const at=[];if(typeof K>"u")return at;let M;if(i==="comma"&&Ei(K))X&&_&&(K=iv(K,_)),M=[{value:K.length>0?K.join(",")||null:void 0}];else if(Ei(v))M=v;else{const w=Object.keys(K);M=R?w.sort(R):w}const b=g?String(e).replace(/\./g,"%2E"):String(e),A=s&&Ei(K)&&K.length===1?b+"[]":b;if(u&&Ei(K)&&K.length===0)return A+"[]";for(let w=0;w<M.length;++w){const O=M[w],U=typeof O=="object"&&typeof O.value<"u"?O.value:K[O];if(d&&U===null)continue;const D=C&&g?O.replace(/\./g,"%2E"):O,Kt=Ei(K)?typeof i=="function"?i(A,D):A:A+(C?"."+D:"["+D+"]");mt.set(a,nt);const Gt=new WeakMap;Gt.set(Td,mt),xE(at,IE(U,Kt,i,s,u,f,d,g,i==="comma"&&X&&Ei(K)?null:_,v,R,C,V,k,H,X,G,Gt))}return at}function P1(a=Re){if(typeof a.allowEmptyArrays<"u"&&typeof a.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof a.encodeDotInKeys<"u"&&typeof a.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(a.encoder!==null&&typeof a.encoder<"u"&&typeof a.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=a.charset||Re.charset;if(typeof a.charset<"u"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let i=Qd;if(typeof a.format<"u"){if(!V1.call(Xd,a.format))throw new TypeError("Unknown format option provided.");i=a.format}const s=Xd[i];let u=Re.filter;(typeof a.filter=="function"||Ei(a.filter))&&(u=a.filter);let f;if(a.arrayFormat&&a.arrayFormat in NE?f=a.arrayFormat:"indices"in a?f=a.indices?"indices":"repeat":f=Re.arrayFormat,"commaRoundTrip"in a&&typeof a.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof a.allowDots>"u"?a.encodeDotInKeys?!0:Re.allowDots:!!a.allowDots;return{addQueryPrefix:typeof a.addQueryPrefix=="boolean"?a.addQueryPrefix:Re.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof a.allowEmptyArrays=="boolean"?!!a.allowEmptyArrays:Re.allowEmptyArrays,arrayFormat:f,charset:e,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:Re.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:typeof a.delimiter>"u"?Re.delimiter:a.delimiter,encode:typeof a.encode=="boolean"?a.encode:Re.encode,encodeDotInKeys:typeof a.encodeDotInKeys=="boolean"?a.encodeDotInKeys:Re.encodeDotInKeys,encoder:typeof a.encoder=="function"?a.encoder:Re.encoder,encodeValuesOnly:typeof a.encodeValuesOnly=="boolean"?a.encodeValuesOnly:Re.encodeValuesOnly,filter:u,format:i,formatter:s,serializeDate:typeof a.serializeDate=="function"?a.serializeDate:Re.serializeDate,skipNulls:typeof a.skipNulls=="boolean"?a.skipNulls:Re.skipNulls,sort:typeof a.sort=="function"?a.sort:null,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:Re.strictNullHandling}}function z1(a,e={}){let i=a;const s=P1(e);let u,f;typeof s.filter=="function"?(f=s.filter,i=f("",i)):Ei(s.filter)&&(f=s.filter,u=f);const d=[];if(typeof i!="object"||i===null)return"";const g=NE[s.arrayFormat],_=g==="comma"&&s.commaRoundTrip;u||(u=Object.keys(i)),s.sort&&u.sort(s.sort);const v=new WeakMap;for(let V=0;V<u.length;++V){const k=u[V];s.skipNulls&&i[k]===null||xE(d,IE(i[k],k,g,_,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,v))}const R=d.join(s.delimiter);let C=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),R.length>0?C+R:""}const Va="4.83.0";let rv=!1,vu,VE,UE,$d,BE,LE,PE,zE,kE;function k1(a,e={auto:!1}){if(rv)throw new Error(`you must \`import 'openai/shims/${a.kind}'\` before importing anything else from openai`);if(vu)throw new Error(`can't \`import 'openai/shims/${a.kind}'\` after \`import 'openai/shims/${vu}'\``);rv=e.auto,vu=a.kind,VE=a.fetch,UE=a.FormData,$d=a.File,BE=a.ReadableStream,LE=a.getMultipartRequestOptions,PE=a.getDefaultAgent,zE=a.fileFromPath,kE=a.isFsReadStream}class q1{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function j1({manuallyImported:a}={}){const e=a?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let i,s,u,f;try{i=fetch,s=Request,u=Response,f=Headers}catch(d){throw new Error(`this environment is missing the following Web Fetch API type: ${d.message}. ${e}`)}return{kind:"web",fetch:i,Request:s,Response:u,Headers:f,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(d,g)=>({...g,body:new q1(d)}),getDefaultAgent:d=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:d=>!1}}vu||k1(j1(),{auto:!0});class Ct extends Error{}class Xe extends Ct{constructor(e,i,s,u){super(`${Xe.makeMessage(e,i,s)}`),this.status=e,this.headers=u,this.request_id=u==null?void 0:u["x-request-id"],this.error=i;const f=i;this.code=f==null?void 0:f.code,this.param=f==null?void 0:f.param,this.type=f==null?void 0:f.type}static makeMessage(e,i,s){const u=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&u?`${e} ${u}`:e?`${e} status code (no body)`:u||"(no status code or body)"}static generate(e,i,s,u){if(!e||!u)return new sf({message:s,cause:Kd(i)});const f=i==null?void 0:i.error;return e===400?new qE(e,f,s,u):e===401?new jE(e,f,s,u):e===403?new HE(e,f,s,u):e===404?new FE(e,f,s,u):e===409?new GE(e,f,s,u):e===422?new QE(e,f,s,u):e===429?new XE(e,f,s,u):e>=500?new $E(e,f,s,u):new Xe(e,f,s,u)}}class Wn extends Xe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class sf extends Xe{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Im extends sf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class qE extends Xe{}class jE extends Xe{}class HE extends Xe{}class FE extends Xe{}class GE extends Xe{}class QE extends Xe{}class XE extends Xe{}class $E extends Xe{}class YE extends Ct{constructor(){super("Could not parse response content as the length limit was reached")}}class KE extends Ct{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ls{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let i=this.decodeText(e);if(this.trailingCR&&(i="\r"+i,this.trailingCR=!1),i.endsWith("\r")&&(this.trailingCR=!0,i=i.slice(0,-1)),!i)return[];const s=Ls.NEWLINE_CHARS.has(i[i.length-1]||"");let u=i.split(Ls.NEWLINE_REGEXP);return s&&u.pop(),u.length===1&&!s?(this.buffer.push(u[0]),[]):(this.buffer.length>0&&(u=[this.buffer.join("")+u[0],...u.slice(1)],this.buffer=[]),s||(this.buffer=[u.pop()||""]),u)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Ct(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Ct(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Ct("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Ls.NEWLINE_CHARS=new Set([`
`,"\r"]);Ls.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZE(a){if(a[Symbol.asyncIterator])return a;const e=a.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ai{constructor(e,i){this.iterator=e,this.controller=i}static fromSSEResponse(e,i){let s=!1;async function*u(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let f=!1;try{for await(const d of H1(e,i))if(!f){if(d.data.startsWith("[DONE]")){f=!0;continue}if(d.event===null){let g;try{g=JSON.parse(d.data)}catch(_){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),_}if(g&&g.error)throw new Xe(void 0,g.error,void 0,void 0);yield g}else{let g;try{g=JSON.parse(d.data)}catch(_){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),_}if(d.event=="error")throw new Xe(void 0,g.error,g.message,void 0);yield{event:d.event,data:g}}}f=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{f||i.abort()}}return new Ai(u,i)}static fromReadableStream(e,i){let s=!1;async function*u(){const d=new Ls,g=ZE(e);for await(const _ of g)for(const v of d.decode(_))yield v;for(const _ of d.flush())yield _}async function*f(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let d=!1;try{for await(const g of u())d||g&&(yield JSON.parse(g));d=!0}catch(g){if(g instanceof Error&&g.name==="AbortError")return;throw g}finally{d||i.abort()}}return new Ai(f,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),u=f=>({next:()=>{if(f.length===0){const d=s.next();e.push(d),i.push(d)}return f.shift()}});return[new Ai(()=>u(e),this.controller),new Ai(()=>u(i),this.controller)]}toReadableStream(){const e=this;let i;const s=new TextEncoder;return new BE({async start(){i=e[Symbol.asyncIterator]()},async pull(u){try{const{value:f,done:d}=await i.next();if(d)return u.close();const g=s.encode(JSON.stringify(f)+`
`);u.enqueue(g)}catch(f){u.error(f)}},async cancel(){var u;await((u=i.return)==null?void 0:u.call(i))}})}}async function*H1(a,e){if(!a.body)throw e.abort(),new Ct("Attempted to iterate over a response with no body");const i=new Q1,s=new Ls,u=ZE(a.body);for await(const f of F1(u))for(const d of s.decode(f)){const g=i.decode(d);g&&(yield g)}for(const f of s.flush()){const d=i.decode(f);d&&(yield d)}}async function*F1(a){let e=new Uint8Array;for await(const i of a){if(i==null)continue;const s=i instanceof ArrayBuffer?new Uint8Array(i):typeof i=="string"?new TextEncoder().encode(i):i;let u=new Uint8Array(e.length+s.length);u.set(e),u.set(s,e.length),e=u;let f;for(;(f=G1(e))!==-1;)yield e.slice(0,f),e=e.slice(f)}e.length>0&&(yield e)}function G1(a){for(let s=0;s<a.length-2;s++){if(a[s]===10&&a[s+1]===10||a[s]===13&&a[s+1]===13)return s+2;if(a[s]===13&&a[s+1]===10&&s+3<a.length&&a[s+2]===13&&a[s+3]===10)return s+4}return-1}class Q1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,u]=X1(e,":");return u.startsWith(" ")&&(u=u.substring(1)),i==="event"?this.event=u:i==="data"&&this.data.push(u),null}}function X1(a,e){const i=a.indexOf(e);return i!==-1?[a.substring(0,i),e,a.substring(i+e.length)]:[a,"",""]}const JE=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function",WE=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&af(a),af=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",$1=a=>WE(a)||JE(a)||kE(a);async function t0(a,e,i){var u;if(a=await a,WE(a))return a;if(JE(a)){const f=await a.blob();e||(e=new URL(a.url).pathname.split(/[\\/]/).pop()??"unknown_file");const d=af(f)?[await f.arrayBuffer()]:[f];return new $d(d,e,i)}const s=await Y1(a);if(e||(e=Z1(a)??"unknown_file"),!(i!=null&&i.type)){const f=(u=s[0])==null?void 0:u.type;typeof f=="string"&&(i={...i,type:f})}return new $d(s,e,i)}async function Y1(a){var i;let e=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)e.push(a);else if(af(a))e.push(await a.arrayBuffer());else if(J1(a))for await(const s of a)e.push(s);else throw new Error(`Unexpected data type: ${typeof a}; constructor: ${(i=a==null?void 0:a.constructor)==null?void 0:i.name}; props: ${K1(a)}`);return e}function K1(a){return`[${Object.getOwnPropertyNames(a).map(i=>`"${i}"`).join(", ")}]`}function Z1(a){var e;return Ad(a.name)||Ad(a.filename)||((e=Ad(a.path))==null?void 0:e.split(/[\\/]/).pop())}const Ad=a=>{if(typeof a=="string")return a;if(typeof Buffer<"u"&&a instanceof Buffer)return String(a)},J1=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function",sv=a=>a&&typeof a=="object"&&a.body&&a[Symbol.toStringTag]==="MultipartBody",$a=async a=>{const e=await W1(a.body);return LE(e,a)},W1=async a=>{const e=new UE;return await Promise.all(Object.entries(a||{}).map(([i,s])=>Yd(e,i,s))),e},Yd=async(a,e,i)=>{if(i!==void 0){if(i==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")a.append(e,String(i));else if($1(i)){const s=await t0(i);a.append(e,s)}else if(Array.isArray(i))await Promise.all(i.map(s=>Yd(a,e+"[]",s)));else if(typeof i=="object")await Promise.all(Object.entries(i).map(([s,u])=>Yd(a,`${e}[${s}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`)}};var za={},tR=function(a,e,i,s,u){if(typeof e=="function"?a!==e||!0:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(a,i),i},eR=function(a,e,i,s){if(typeof e=="function"?a!==e||!0:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(a):s?s.value:e.get(a)},mc;async function e0(a){const{response:e}=a;if(a.options.stream)return ka("response",e.status,e.url,e.headers,e.body),a.options.__streamClass?a.options.__streamClass.fromSSEResponse(e,a.controller):Ai.fromSSEResponse(e,a.controller);if(e.status===204)return null;if(a.options.__binaryResponse)return e;const i=e.headers.get("content-type");if((i==null?void 0:i.includes("application/json"))||(i==null?void 0:i.includes("application/vnd.api+json"))){const f=await e.json();return ka("response",e.status,e.url,e.headers,f),n0(f,e)}const u=await e.text();return ka("response",e.status,e.url,e.headers,u),u}function n0(a,e){return!a||typeof a!="object"||Array.isArray(a)?a:Object.defineProperty(a,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class lf extends Promise{constructor(e,i=e0){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=i}_thenUnwrap(e){return new lf(this.responsePromise,async i=>n0(e(await this.parseResponse(i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i,request_id:i.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class nR{constructor({baseURL:e,maxRetries:i=2,timeout:s=6e5,httpAgent:u,fetch:f}){this.baseURL=e,this.maxRetries=bd("maxRetries",i),this.timeout=bd("timeout",s),this.httpAgent=u,this.fetch=f??VE}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...uR(),...this.authHeaders(e)}}validateHeaders(e,i){}defaultIdempotencyKey(){return`stainless-node-retry-${hR()}`}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(async u=>{const f=u&&af(u==null?void 0:u.body)?new DataView(await u.body.arrayBuffer()):(u==null?void 0:u.body)instanceof DataView?u.body:(u==null?void 0:u.body)instanceof ArrayBuffer?new DataView(u.body):u&&ArrayBuffer.isView(u==null?void 0:u.body)?new DataView(u.body.buffer):u==null?void 0:u.body;return{method:e,path:i,...u,body:f}}))}getAPIList(e,i,s){return this.requestAPIList(i,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:i=0}={}){var H;e={...e};const{method:s,path:u,query:f,headers:d={}}=e,g=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:sv(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,_=this.calculateContentLength(g),v=this.buildURL(u,f);"timeout"in e&&bd("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const R=e.httpAgent??this.httpAgent??PE(v),C=e.timeout+1e3;typeof((H=R==null?void 0:R.options)==null?void 0:H.timeout)=="number"&&C>(R.options.timeout??0)&&(R.options.timeout=C),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=e.idempotencyKey);const V=this.buildHeaders({options:e,headers:d,contentLength:_,retryCount:i});return{req:{method:s,...g&&{body:g},headers:V,...R&&{agent:R},signal:e.signal??null},url:v,timeout:e.timeout}}buildHeaders({options:e,headers:i,contentLength:s,retryCount:u}){const f={};s&&(f["content-length"]=s);const d=this.defaultHeaders(e);return ov(f,d),ov(f,i),sv(e.body)&&vu!=="node"&&delete f["content-type"],pc(d,"x-stainless-retry-count")===void 0&&pc(i,"x-stainless-retry-count")===void 0&&(f["x-stainless-retry-count"]=String(u)),pc(d,"x-stainless-timeout")===void 0&&pc(i,"x-stainless-timeout")===void 0&&e.timeout&&(f["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(f,i),f}async prepareOptions(e){}async prepareRequest(e,{url:i,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(i=>[...i])):{...e}:{}}makeStatusError(e,i,s,u){return Xe.generate(e,i,s,u)}request(e,i=null){return new lf(this.makeRequest(e,i))}async makeRequest(e,i){var C,V;const s=await e,u=s.maxRetries??this.maxRetries;i==null&&(i=u),await this.prepareOptions(s);const{req:f,url:d,timeout:g}=this.buildRequest(s,{retryCount:u-i});if(await this.prepareRequest(f,{url:d,options:s}),ka("request",d,s,f.headers),(C=s.signal)!=null&&C.aborted)throw new Wn;const _=new AbortController,v=await this.fetchWithTimeout(d,f,g,_).catch(Kd);if(v instanceof Error){if((V=s.signal)!=null&&V.aborted)throw new Wn;if(i)return this.retryRequest(s,i);throw v.name==="AbortError"?new Im:new sf({cause:v})}const R=rR(v.headers);if(!v.ok){if(i&&this.shouldRetry(v)){const K=`retrying, ${i} attempts remaining`;return ka(`response (error; ${K})`,v.status,d,R),this.retryRequest(s,i,R)}const k=await v.text().catch(K=>Kd(K).message),H=oR(k),X=H?void 0:k;throw ka(`response (error; ${i?"(error; no more retries left)":"(error; not retryable)"})`,v.status,d,R,X),this.makeStatusError(v.status,H,X,R)}return{response:v,options:s,controller:_}}requestAPIList(e,i){const s=this.makeRequest(i,null);return new iR(this,s,e)}buildURL(e,i){const s=fR(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return r0(u)||(i={...u,...i}),typeof i=="object"&&i&&!Array.isArray(i)&&(s.search=this.stringifyQuery(i)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Ct(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,i,s,u){const{signal:f,...d}=i||{};f&&f.addEventListener("abort",()=>u.abort());const g=setTimeout(()=>u.abort(),s),_={signal:u.signal,...d};return _.method&&(_.method=_.method.toUpperCase()),this.fetch.call(void 0,e,_).finally(()=>{clearTimeout(g)})}shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s){let u;const f=s==null?void 0:s["retry-after-ms"];if(f){const g=parseFloat(f);Number.isNaN(g)||(u=g)}const d=s==null?void 0:s["retry-after"];if(d&&!u){const g=parseFloat(d);Number.isNaN(g)?u=Date.parse(d)-Date.now():u=g*1e3}if(!(u&&0<=u&&u<60*1e3)){const g=e.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(i,g)}return await Bu(u),this.makeRequest(e,i-1)}calculateDefaultRetryTimeoutMillis(e,i){const f=i-e,d=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return d*g*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Va}`}}class i0{constructor(e,i,s,u){mc.set(this,void 0),tR(this,mc,e),this.options=u,this.response=i,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Ct("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const i={...this.options};if("params"in e&&typeof i.query=="object")i.query={...i.query,...e.params};else if("url"in e){const s=[...Object.entries(i.query||{}),...e.url.searchParams.entries()];for(const[u,f]of s)e.url.searchParams.set(u,f);i.query=void 0,i.path=e.url.toString()}return await eR(this,mc,"f").requestAPIList(this.constructor,i)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(mc=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const i of e.getPaginatedItems())yield i}}class iR extends lf{constructor(e,i,s){super(i,async u=>new s(e,u.response,await e0(u),u.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const i of e)yield i}}const rR=a=>new Proxy(Object.fromEntries(a.entries()),{get(e,i){const s=i.toString();return e[s.toLowerCase()]||e[s]}}),sR={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},mn=a=>typeof a=="object"&&a!==null&&!r0(a)&&Object.keys(a).every(e=>s0(sR,e)),aR=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Va,"X-Stainless-OS":lv(Deno.build.os),"X-Stainless-Arch":av(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Va,"X-Stainless-OS":lv(process.platform),"X-Stainless-Arch":av(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const a=lR();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Va,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lR(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of a){const s=i.exec(navigator.userAgent);if(s){const u=s[1]||0,f=s[2]||0,d=s[3]||0;return{browser:e,version:`${u}.${f}.${d}`}}}return null}const av=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",lv=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let uv;const uR=()=>uv??(uv=aR()),oR=a=>{try{return JSON.parse(a)}catch{return}},cR=/^[a-z][a-z0-9+.-]*:/i,fR=a=>cR.test(a),Bu=a=>new Promise(e=>setTimeout(e,a)),bd=(a,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ct(`${a} must be an integer`);if(e<0)throw new Ct(`${a} must be a positive integer`);return e},Kd=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null)try{return new Error(JSON.stringify(a))}catch{}return new Error(a)},gc=a=>{var e,i,s,u;if(typeof process<"u")return((e=za==null?void 0:za[a])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(u=(s=(i=Deno.env)==null?void 0:i.get)==null?void 0:s.call(i,a))==null?void 0:u.trim()};function r0(a){if(!a)return!0;for(const e in a)return!1;return!0}function s0(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function ov(a,e){for(const i in e){if(!s0(e,i))continue;const s=i.toLowerCase();if(!s)continue;const u=e[i];u===null?delete a[s]:u!==void 0&&(a[s]=u)}}const cv=new Set(["authorization","api-key"]);function ka(a,...e){if(typeof process<"u"&&(za==null?void 0:za.DEBUG)==="true"){const i=e.map(s=>{if(!s)return s;if(s.headers){const f={...s,headers:{...s.headers}};for(const d in s.headers)cv.has(d.toLowerCase())&&(f.headers[d]="REDACTED");return f}let u=null;for(const f in s)cv.has(f.toLowerCase())&&(u??(u={...s}),u[f]="REDACTED");return u??s});console.log(`OpenAI:DEBUG:${a}`,...i)}}const hR=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const e=Math.random()*16|0;return(a==="x"?e:e&3|8).toString(16)}),dR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",mR=a=>typeof(a==null?void 0:a.get)=="function",pc=(a,e)=>{var s;const i=e.toLowerCase();if(mR(a)){const u=((s=e[0])==null?void 0:s.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(f,d,g)=>d+g.toUpperCase());for(const f of[e,i,e.toUpperCase(),u]){const d=a.get(f);if(d)return d}}for(const[u,f]of Object.entries(a))if(u.toLowerCase()===i)return Array.isArray(f)?(f.length<=1||console.warn(`Received ${f.length} entries for the ${e} header, using the first entry.`),f[0]):f};function Sd(a){return a!=null&&typeof a=="object"&&!Array.isArray(a)}class gR extends i0{constructor(e,i,s,u){super(e,i,s,u),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class ei extends i0{constructor(e,i,s,u){super(e,i,s,u),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const i=Object.fromEntries(e.url.searchParams);return Object.keys(i).length?i:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const i=(s=e[e.length-1])==null?void 0:s.id;return i?{params:{after:i}}:null}}class kt{constructor(e){this._client=e}}let a0=class extends kt{create(e,i){return this._client.post("/chat/completions",{body:e,...i,stream:e.stream??!1})}},Vm=class extends kt{constructor(){super(...arguments),this.completions=new a0(this._client)}};Vm.Completions=a0;class l0 extends kt{create(e,i){return this._client.post("/audio/speech",{body:e,...i,headers:{Accept:"application/octet-stream",...i==null?void 0:i.headers},__binaryResponse:!0})}}class u0 extends kt{create(e,i){return this._client.post("/audio/transcriptions",$a({body:e,...i,__metadata:{model:e.model}}))}}class o0 extends kt{create(e,i){return this._client.post("/audio/translations",$a({body:e,...i,__metadata:{model:e.model}}))}}class Lu extends kt{constructor(){super(...arguments),this.transcriptions=new u0(this._client),this.translations=new o0(this._client),this.speech=new l0(this._client)}}Lu.Transcriptions=u0;Lu.Translations=o0;Lu.Speech=l0;class Um extends kt{create(e,i){return this._client.post("/batches",{body:e,...i})}retrieve(e,i){return this._client.get(`/batches/${e}`,i)}list(e={},i){return mn(e)?this.list({},e):this._client.getAPIList("/batches",Bm,{query:e,...i})}cancel(e,i){return this._client.post(`/batches/${e}/cancel`,i)}}class Bm extends ei{}Um.BatchesPage=Bm;class Lm extends kt{create(e,i){return this._client.post("/assistants",{body:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}retrieve(e,i){return this._client.get(`/assistants/${e}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}update(e,i,s){return this._client.post(`/assistants/${e}`,{body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},i){return mn(e)?this.list({},e):this._client.getAPIList("/assistants",Pm,{query:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}del(e,i){return this._client.delete(`/assistants/${e}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Pm extends ei{}Lm.AssistantsPage=Pm;function fv(a){return typeof a.parse=="function"}const qa=a=>(a==null?void 0:a.role)==="assistant",c0=a=>(a==null?void 0:a.role)==="function",f0=a=>(a==null?void 0:a.role)==="tool";var Kn=function(a,e,i,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!u:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,i):u?u.value=i:e.set(a,i),i},re=function(a,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!s:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(a):s?s.value:e.get(a)},Zd,Sc,wc,ou,cu,Rc,fu,er,hu,Fc,Gc,Ua,h0;class d0{constructor(){Zd.add(this),this.controller=new AbortController,Sc.set(this,void 0),wc.set(this,()=>{}),ou.set(this,()=>{}),cu.set(this,void 0),Rc.set(this,()=>{}),fu.set(this,()=>{}),er.set(this,{}),hu.set(this,!1),Fc.set(this,!1),Gc.set(this,!1),Ua.set(this,!1),Kn(this,Sc,new Promise((e,i)=>{Kn(this,wc,e,"f"),Kn(this,ou,i,"f")}),"f"),Kn(this,cu,new Promise((e,i)=>{Kn(this,Rc,e,"f"),Kn(this,fu,i,"f")}),"f"),re(this,Sc,"f").catch(()=>{}),re(this,cu,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},re(this,Zd,"m",h0).bind(this))},0)}_connected(){this.ended||(re(this,wc,"f").call(this),this._emit("connect"))}get ended(){return re(this,hu,"f")}get errored(){return re(this,Fc,"f")}get aborted(){return re(this,Gc,"f")}abort(){this.controller.abort()}on(e,i){return(re(this,er,"f")[e]||(re(this,er,"f")[e]=[])).push({listener:i}),this}off(e,i){const s=re(this,er,"f")[e];if(!s)return this;const u=s.findIndex(f=>f.listener===i);return u>=0&&s.splice(u,1),this}once(e,i){return(re(this,er,"f")[e]||(re(this,er,"f")[e]=[])).push({listener:i,once:!0}),this}emitted(e){return new Promise((i,s)=>{Kn(this,Ua,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,i)})}async done(){Kn(this,Ua,!0,"f"),await re(this,cu,"f")}_emit(e,...i){if(re(this,hu,"f"))return;e==="end"&&(Kn(this,hu,!0,"f"),re(this,Rc,"f").call(this));const s=re(this,er,"f")[e];if(s&&(re(this,er,"f")[e]=s.filter(u=>!u.once),s.forEach(({listener:u})=>u(...i))),e==="abort"){const u=i[0];!re(this,Ua,"f")&&!(s!=null&&s.length)&&Promise.reject(u),re(this,ou,"f").call(this,u),re(this,fu,"f").call(this,u),this._emit("end");return}if(e==="error"){const u=i[0];!re(this,Ua,"f")&&!(s!=null&&s.length)&&Promise.reject(u),re(this,ou,"f").call(this,u),re(this,fu,"f").call(this,u),this._emit("end")}}_emitFinal(){}}Sc=new WeakMap,wc=new WeakMap,ou=new WeakMap,cu=new WeakMap,Rc=new WeakMap,fu=new WeakMap,er=new WeakMap,hu=new WeakMap,Fc=new WeakMap,Gc=new WeakMap,Ua=new WeakMap,Zd=new WeakSet,h0=function(e){if(Kn(this,Fc,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Wn),e instanceof Wn)return Kn(this,Gc,!0,"f"),this._emit("abort",e);if(e instanceof Ct)return this._emit("error",e);if(e instanceof Error){const i=new Ct(e.message);return i.cause=e,this._emit("error",i)}return this._emit("error",new Ct(String(e)))};function m0(a){return(a==null?void 0:a.$brand)==="auto-parseable-response-format"}function Pu(a){return(a==null?void 0:a.$brand)==="auto-parseable-tool"}function pR(a,e){return!e||!g0(e)?{...a,choices:a.choices.map(i=>({...i,message:{...i.message,parsed:null,tool_calls:i.message.tool_calls??[]}}))}:zm(a,e)}function zm(a,e){const i=a.choices.map(s=>{var u;if(s.finish_reason==="length")throw new YE;if(s.finish_reason==="content_filter")throw new KE;return{...s,message:{...s.message,tool_calls:((u=s.message.tool_calls)==null?void 0:u.map(f=>_R(e,f)))??[],parsed:s.message.content&&!s.message.refusal?yR(e,s.message.content):null}}});return{...a,choices:i}}function yR(a,e){var i,s;return((i=a.response_format)==null?void 0:i.type)!=="json_schema"?null:((s=a.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in a.response_format?a.response_format.$parseRaw(e):JSON.parse(e):null}function _R(a,e){var s;const i=(s=a.tools)==null?void 0:s.find(u=>{var f;return((f=u.function)==null?void 0:f.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Pu(i)?i.$parseRaw(e.function.arguments):i!=null&&i.function.strict?JSON.parse(e.function.arguments):null}}}function vR(a,e){var s;if(!a)return!1;const i=(s=a.tools)==null?void 0:s.find(u=>{var f;return((f=u.function)==null?void 0:f.name)===e.function.name});return Pu(i)||(i==null?void 0:i.function.strict)||!1}function g0(a){var e;return m0(a.response_format)?!0:((e=a.tools)==null?void 0:e.some(i=>Pu(i)||i.type==="function"&&i.function.strict===!0))??!1}function ER(a){for(const e of a??[]){if(e.type!=="function")throw new Ct(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ct(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var fn=function(a,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!s:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(a):s?s.value:e.get(a)},Je,Jd,Qc,Wd,tm,em,p0,nm;const hv=10;class y0 extends d0{constructor(){super(...arguments),Je.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const i=(s=e.choices[0])==null?void 0:s.message;return i&&this._addMessage(i),e}_addMessage(e,i=!0){if("content"in e||(e.content=null),this.messages.push(e),i){if(this._emit("message",e),(c0(e)||f0(e))&&e.content)this._emit("functionCallResult",e.content);else if(qa(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(qa(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ct("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),fn(this,Je,"m",Jd).call(this)}async finalMessage(){return await this.done(),fn(this,Je,"m",Qc).call(this)}async finalFunctionCall(){return await this.done(),fn(this,Je,"m",Wd).call(this)}async finalFunctionCallResult(){return await this.done(),fn(this,Je,"m",tm).call(this)}async totalUsage(){return await this.done(),fn(this,Je,"m",em).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const i=fn(this,Je,"m",Qc).call(this);i&&this._emit("finalMessage",i);const s=fn(this,Je,"m",Jd).call(this);s&&this._emit("finalContent",s);const u=fn(this,Je,"m",Wd).call(this);u&&this._emit("finalFunctionCall",u);const f=fn(this,Je,"m",tm).call(this);f!=null&&this._emit("finalFunctionCallResult",f),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",fn(this,Je,"m",em).call(this))}async _createChatCompletion(e,i,s){const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),fn(this,Je,"m",p0).call(this,i);const f=await e.chat.completions.create({...i,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(zm(f,i))}async _runChatCompletion(e,i,s){for(const u of i.messages)this._addMessage(u,!1);return await this._createChatCompletion(e,i,s)}async _runFunctions(e,i,s){var V;const u="function",{function_call:f="auto",stream:d,...g}=i,_=typeof f!="string"&&(f==null?void 0:f.name),{maxChatCompletions:v=hv}=s||{},R={};for(const k of i.functions)R[k.name||k.function.name]=k;const C=i.functions.map(k=>({name:k.name||k.function.name,parameters:k.parameters,description:k.description}));for(const k of i.messages)this._addMessage(k,!1);for(let k=0;k<v;++k){const X=(V=(await this._createChatCompletion(e,{...g,function_call:f,functions:C,messages:[...this.messages]},s)).choices[0])==null?void 0:V.message;if(!X)throw new Ct("missing message in ChatCompletion response");if(!X.function_call)return;const{name:G,arguments:mt}=X.function_call,K=R[G];if(K){if(_&&_!==G){const at=`Invalid function_call: ${JSON.stringify(G)}. ${JSON.stringify(_)} requested. Please try again`;this._addMessage({role:u,name:G,content:at});continue}}else{const at=`Invalid function_call: ${JSON.stringify(G)}. Available options are: ${C.map(M=>JSON.stringify(M.name)).join(", ")}. Please try again`;this._addMessage({role:u,name:G,content:at});continue}let it;try{it=fv(K)?await K.parse(mt):mt}catch(at){this._addMessage({role:u,name:G,content:at instanceof Error?at.message:String(at)});continue}const nt=await K.function(it,this),lt=fn(this,Je,"m",nm).call(this,nt);if(this._addMessage({role:u,name:G,content:lt}),_)return}}async _runTools(e,i,s){var k,H,X;const u="tool",{tool_choice:f="auto",stream:d,...g}=i,_=typeof f!="string"&&((k=f==null?void 0:f.function)==null?void 0:k.name),{maxChatCompletions:v=hv}=s||{},R=i.tools.map(G=>{if(Pu(G)){if(!G.$callback)throw new Ct("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:G.$callback,name:G.function.name,description:G.function.description||"",parameters:G.function.parameters,parse:G.$parseRaw,strict:!0}}}return G}),C={};for(const G of R)G.type==="function"&&(C[G.function.name||G.function.function.name]=G.function);const V="tools"in i?R.map(G=>G.type==="function"?{type:"function",function:{name:G.function.name||G.function.function.name,parameters:G.function.parameters,description:G.function.description,strict:G.function.strict}}:G):void 0;for(const G of i.messages)this._addMessage(G,!1);for(let G=0;G<v;++G){const K=(H=(await this._createChatCompletion(e,{...g,tool_choice:f,tools:V,messages:[...this.messages]},s)).choices[0])==null?void 0:H.message;if(!K)throw new Ct("missing message in ChatCompletion response");if(!((X=K.tool_calls)!=null&&X.length))return;for(const it of K.tool_calls){if(it.type!=="function")continue;const nt=it.id,{name:lt,arguments:at}=it.function,M=C[lt];if(M){if(_&&_!==lt){const O=`Invalid tool_call: ${JSON.stringify(lt)}. ${JSON.stringify(_)} requested. Please try again`;this._addMessage({role:u,tool_call_id:nt,content:O});continue}}else{const O=`Invalid tool_call: ${JSON.stringify(lt)}. Available options are: ${Object.keys(C).map(U=>JSON.stringify(U)).join(", ")}. Please try again`;this._addMessage({role:u,tool_call_id:nt,content:O});continue}let b;try{b=fv(M)?await M.parse(at):at}catch(O){const U=O instanceof Error?O.message:String(O);this._addMessage({role:u,tool_call_id:nt,content:U});continue}const A=await M.function(b,this),w=fn(this,Je,"m",nm).call(this,A);if(this._addMessage({role:u,tool_call_id:nt,content:w}),_)return}}}}Je=new WeakSet,Jd=function(){return fn(this,Je,"m",Qc).call(this).content??null},Qc=function(){let e=this.messages.length;for(;e-- >0;){const i=this.messages[e];if(qa(i)){const{function_call:s,...u}=i,f={...u,content:i.content??null,refusal:i.refusal??null};return s&&(f.function_call=s),f}}throw new Ct("stream ended without producing a ChatCompletionMessage with role=assistant")},Wd=function(){var e,i;for(let s=this.messages.length-1;s>=0;s--){const u=this.messages[s];if(qa(u)&&(u!=null&&u.function_call))return u.function_call;if(qa(u)&&((e=u==null?void 0:u.tool_calls)!=null&&e.length))return(i=u.tool_calls.at(-1))==null?void 0:i.function}},tm=function(){for(let e=this.messages.length-1;e>=0;e--){const i=this.messages[e];if(c0(i)&&i.content!=null||f0(i)&&i.content!=null&&typeof i.content=="string"&&this.messages.some(s=>{var u;return s.role==="assistant"&&((u=s.tool_calls)==null?void 0:u.some(f=>f.type==="function"&&f.id===i.tool_call_id))}))return i.content}},em=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:i}of this._chatCompletions)i&&(e.completion_tokens+=i.completion_tokens,e.prompt_tokens+=i.prompt_tokens,e.total_tokens+=i.total_tokens);return e},p0=function(e){if(e.n!=null&&e.n>1)throw new Ct("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},nm=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Mu extends y0{static runFunctions(e,i,s){const u=new Mu,f={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return u._run(()=>u._runFunctions(e,i,f)),u}static runTools(e,i,s){const u=new Mu,f={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(e,i,f)),u}_addMessage(e,i=!0){super._addMessage(e,i),qa(e)&&e.content&&this._emit("content",e.content)}}const _0=1,v0=2,E0=4,T0=8,A0=16,b0=32,S0=64,w0=128,R0=256,TR=w0|R0,AR=A0|b0|TR|S0,bR=_0|v0|AR,SR=E0|T0,wR=bR|SR,Ve={STR:_0,NUM:v0,ARR:E0,OBJ:T0,NULL:A0,BOOL:b0,NAN:S0,INFINITY:w0,MINUS_INFINITY:R0,ALL:wR};class RR extends Error{}class CR extends Error{}function DR(a,e=Ve.ALL){if(typeof a!="string")throw new TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw new Error(`${a} is empty`);return OR(a.trim(),e)}const OR=(a,e)=>{const i=a.length;let s=0;const u=V=>{throw new RR(`${V} at position ${s}`)},f=V=>{throw new CR(`${V} at position ${s}`)},d=()=>(C(),s>=i&&u("Unexpected end of input"),a[s]==='"'?g():a[s]==="{"?_():a[s]==="["?v():a.substring(s,s+4)==="null"||Ve.NULL&e&&i-s<4&&"null".startsWith(a.substring(s))?(s+=4,null):a.substring(s,s+4)==="true"||Ve.BOOL&e&&i-s<4&&"true".startsWith(a.substring(s))?(s+=4,!0):a.substring(s,s+5)==="false"||Ve.BOOL&e&&i-s<5&&"false".startsWith(a.substring(s))?(s+=5,!1):a.substring(s,s+8)==="Infinity"||Ve.INFINITY&e&&i-s<8&&"Infinity".startsWith(a.substring(s))?(s+=8,1/0):a.substring(s,s+9)==="-Infinity"||Ve.MINUS_INFINITY&e&&1<i-s&&i-s<9&&"-Infinity".startsWith(a.substring(s))?(s+=9,-1/0):a.substring(s,s+3)==="NaN"||Ve.NAN&e&&i-s<3&&"NaN".startsWith(a.substring(s))?(s+=3,NaN):R()),g=()=>{const V=s;let k=!1;for(s++;s<i&&(a[s]!=='"'||k&&a[s-1]==="\\");)k=a[s]==="\\"?!k:!1,s++;if(a.charAt(s)=='"')try{return JSON.parse(a.substring(V,++s-Number(k)))}catch(H){f(String(H))}else if(Ve.STR&e)try{return JSON.parse(a.substring(V,s-Number(k))+'"')}catch{return JSON.parse(a.substring(V,a.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},_=()=>{s++,C();const V={};try{for(;a[s]!=="}";){if(C(),s>=i&&Ve.OBJ&e)return V;const k=g();C(),s++;try{const H=d();Object.defineProperty(V,k,{value:H,writable:!0,enumerable:!0,configurable:!0})}catch(H){if(Ve.OBJ&e)return V;throw H}C(),a[s]===","&&s++}}catch{if(Ve.OBJ&e)return V;u("Expected '}' at end of object")}return s++,V},v=()=>{s++;const V=[];try{for(;a[s]!=="]";)V.push(d()),C(),a[s]===","&&s++}catch{if(Ve.ARR&e)return V;u("Expected ']' at end of array")}return s++,V},R=()=>{if(s===0){a==="-"&&Ve.NUM&e&&u("Not sure what '-' is");try{return JSON.parse(a)}catch(k){if(Ve.NUM&e)try{return a[a.length-1]==="."?JSON.parse(a.substring(0,a.lastIndexOf("."))):JSON.parse(a.substring(0,a.lastIndexOf("e")))}catch{}f(String(k))}}const V=s;for(a[s]==="-"&&s++;a[s]&&!",]}".includes(a[s]);)s++;s==i&&!(Ve.NUM&e)&&u("Unterminated number literal");try{return JSON.parse(a.substring(V,s))}catch{a.substring(V,s)==="-"&&Ve.NUM&e&&u("Not sure what '-' is");try{return JSON.parse(a.substring(V,a.lastIndexOf("e")))}catch(H){f(String(H))}}},C=()=>{for(;s<i&&` 
\r	`.includes(a[s]);)s++};return d()},dv=a=>DR(a,Ve.ALL^Ve.NUM);var Ma=function(a,e,i,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!u:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,i):u?u.value=i:e.set(a,i),i},$t=function(a,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!s:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(a):s?s.value:e.get(a)},we,tr,Na,kr,wd,yc,Rd,Cd,Dd,_c,Od,mv;class Nu extends y0{constructor(e){super(),we.add(this),tr.set(this,void 0),Na.set(this,void 0),kr.set(this,void 0),Ma(this,tr,e,"f"),Ma(this,Na,[],"f")}get currentChatCompletionSnapshot(){return $t(this,kr,"f")}static fromReadableStream(e){const i=new Nu(null);return i._run(()=>i._fromReadableStream(e)),i}static createChatCompletion(e,i,s){const u=new Nu(i);return u._run(()=>u._runChatCompletion(e,{...i,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createChatCompletion(e,i,s){var d;super._createChatCompletion;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),$t(this,we,"m",wd).call(this);const f=await e.chat.completions.create({...i,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const g of f)$t(this,we,"m",Rd).call(this,g);if((d=f.controller.signal)!=null&&d.aborted)throw new Wn;return this._addChatCompletion($t(this,we,"m",_c).call(this))}async _fromReadableStream(e,i){var d;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),$t(this,we,"m",wd).call(this),this._connected();const u=Ai.fromReadableStream(e,this.controller);let f;for await(const g of u)f&&f!==g.id&&this._addChatCompletion($t(this,we,"m",_c).call(this)),$t(this,we,"m",Rd).call(this,g),f=g.id;if((d=u.controller.signal)!=null&&d.aborted)throw new Wn;return this._addChatCompletion($t(this,we,"m",_c).call(this))}[(tr=new WeakMap,Na=new WeakMap,kr=new WeakMap,we=new WeakSet,wd=function(){this.ended||Ma(this,kr,void 0,"f")},yc=function(i){let s=$t(this,Na,"f")[i.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},$t(this,Na,"f")[i.index]=s,s)},Rd=function(i){var u,f,d,g,_,v,R,C,V,k,H,X,G,mt,K;if(this.ended)return;const s=$t(this,we,"m",mv).call(this,i);this._emit("chunk",i,s);for(const it of i.choices){const nt=s.choices[it.index];it.delta.content!=null&&((u=nt.message)==null?void 0:u.role)==="assistant"&&((f=nt.message)!=null&&f.content)&&(this._emit("content",it.delta.content,nt.message.content),this._emit("content.delta",{delta:it.delta.content,snapshot:nt.message.content,parsed:nt.message.parsed})),it.delta.refusal!=null&&((d=nt.message)==null?void 0:d.role)==="assistant"&&((g=nt.message)!=null&&g.refusal)&&this._emit("refusal.delta",{delta:it.delta.refusal,snapshot:nt.message.refusal}),((_=it.logprobs)==null?void 0:_.content)!=null&&((v=nt.message)==null?void 0:v.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(R=it.logprobs)==null?void 0:R.content,snapshot:((C=nt.logprobs)==null?void 0:C.content)??[]}),((V=it.logprobs)==null?void 0:V.refusal)!=null&&((k=nt.message)==null?void 0:k.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(H=it.logprobs)==null?void 0:H.refusal,snapshot:((X=nt.logprobs)==null?void 0:X.refusal)??[]});const lt=$t(this,we,"m",yc).call(this,nt);nt.finish_reason&&($t(this,we,"m",Dd).call(this,nt),lt.current_tool_call_index!=null&&$t(this,we,"m",Cd).call(this,nt,lt.current_tool_call_index));for(const at of it.delta.tool_calls??[])lt.current_tool_call_index!==at.index&&($t(this,we,"m",Dd).call(this,nt),lt.current_tool_call_index!=null&&$t(this,we,"m",Cd).call(this,nt,lt.current_tool_call_index)),lt.current_tool_call_index=at.index;for(const at of it.delta.tool_calls??[]){const M=(G=nt.message.tool_calls)==null?void 0:G[at.index];M!=null&&M.type&&((M==null?void 0:M.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(mt=M.function)==null?void 0:mt.name,index:at.index,arguments:M.function.arguments,parsed_arguments:M.function.parsed_arguments,arguments_delta:((K=at.function)==null?void 0:K.arguments)??""}):(M==null||M.type,void 0))}}},Cd=function(i,s){var d,g,_;if($t(this,we,"m",yc).call(this,i).done_tool_calls.has(s))return;const f=(d=i.message.tool_calls)==null?void 0:d[s];if(!f)throw new Error("no tool call snapshot");if(!f.type)throw new Error("tool call snapshot missing `type`");if(f.type==="function"){const v=(_=(g=$t(this,tr,"f"))==null?void 0:g.tools)==null?void 0:_.find(R=>R.type==="function"&&R.function.name===f.function.name);this._emit("tool_calls.function.arguments.done",{name:f.function.name,index:s,arguments:f.function.arguments,parsed_arguments:Pu(v)?v.$parseRaw(f.function.arguments):v!=null&&v.function.strict?JSON.parse(f.function.arguments):null})}else f.type},Dd=function(i){var u,f;const s=$t(this,we,"m",yc).call(this,i);if(i.message.content&&!s.content_done){s.content_done=!0;const d=$t(this,we,"m",Od).call(this);this._emit("content.done",{content:i.message.content,parsed:d?d.$parseRaw(i.message.content):null})}i.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:i.message.refusal})),(u=i.logprobs)!=null&&u.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:i.logprobs.content})),(f=i.logprobs)!=null&&f.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:i.logprobs.refusal}))},_c=function(){if(this.ended)throw new Ct("stream has ended, this shouldn't happen");const i=$t(this,kr,"f");if(!i)throw new Ct("request ended without sending any chunks");return Ma(this,kr,void 0,"f"),Ma(this,Na,[],"f"),MR(i,$t(this,tr,"f"))},Od=function(){var s;const i=(s=$t(this,tr,"f"))==null?void 0:s.response_format;return m0(i)?i:null},mv=function(i){var s,u,f,d;let g=$t(this,kr,"f");const{choices:_,...v}=i;g?Object.assign(g,v):g=Ma(this,kr,{...v,choices:[]},"f");for(const{delta:R,finish_reason:C,index:V,logprobs:k=null,...H}of i.choices){let X=g.choices[V];if(X||(X=g.choices[V]={finish_reason:C,index:V,message:{},logprobs:k,...H}),k)if(!X.logprobs)X.logprobs=Object.assign({},k);else{const{content:at,refusal:M,...b}=k;Object.assign(X.logprobs,b),at&&((s=X.logprobs).content??(s.content=[]),X.logprobs.content.push(...at)),M&&((u=X.logprobs).refusal??(u.refusal=[]),X.logprobs.refusal.push(...M))}if(C&&(X.finish_reason=C,$t(this,tr,"f")&&g0($t(this,tr,"f")))){if(C==="length")throw new YE;if(C==="content_filter")throw new KE}if(Object.assign(X,H),!R)continue;const{content:G,refusal:mt,function_call:K,role:it,tool_calls:nt,...lt}=R;if(Object.assign(X.message,lt),mt&&(X.message.refusal=(X.message.refusal||"")+mt),it&&(X.message.role=it),K&&(X.message.function_call?(K.name&&(X.message.function_call.name=K.name),K.arguments&&((f=X.message.function_call).arguments??(f.arguments=""),X.message.function_call.arguments+=K.arguments)):X.message.function_call=K),G&&(X.message.content=(X.message.content||"")+G,!X.message.refusal&&$t(this,we,"m",Od).call(this)&&(X.message.parsed=dv(X.message.content))),nt){X.message.tool_calls||(X.message.tool_calls=[]);for(const{index:at,id:M,type:b,function:A,...w}of nt){const O=(d=X.message.tool_calls)[at]??(d[at]={});Object.assign(O,w),M&&(O.id=M),b&&(O.type=b),A&&(O.function??(O.function={name:A.name??"",arguments:""})),A!=null&&A.name&&(O.function.name=A.name),A!=null&&A.arguments&&(O.function.arguments+=A.arguments,vR($t(this,tr,"f"),O)&&(O.function.parsed_arguments=dv(O.function.arguments)))}}}return g},Symbol.asyncIterator)](){const e=[],i=[];let s=!1;return this.on("chunk",u=>{const f=i.shift();f?f.resolve(u):e.push(u)}),this.on("end",()=>{s=!0;for(const u of i)u.resolve(void 0);i.length=0}),this.on("abort",u=>{s=!0;for(const f of i)f.reject(u);i.length=0}),this.on("error",u=>{s=!0;for(const f of i)f.reject(u);i.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((f,d)=>i.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ai(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function MR(a,e){const{id:i,choices:s,created:u,model:f,system_fingerprint:d,...g}=a,_={...g,id:i,choices:s.map(({message:v,finish_reason:R,index:C,logprobs:V,...k})=>{if(!R)throw new Ct(`missing finish_reason for choice ${C}`);const{content:H=null,function_call:X,tool_calls:G,...mt}=v,K=v.role;if(!K)throw new Ct(`missing role for choice ${C}`);if(X){const{arguments:it,name:nt}=X;if(it==null)throw new Ct(`missing function_call.arguments for choice ${C}`);if(!nt)throw new Ct(`missing function_call.name for choice ${C}`);return{...k,message:{content:H,function_call:{arguments:it,name:nt},role:K,refusal:v.refusal??null},finish_reason:R,index:C,logprobs:V}}return G?{...k,index:C,finish_reason:R,logprobs:V,message:{...mt,role:K,content:H,refusal:v.refusal??null,tool_calls:G.map((it,nt)=>{const{function:lt,type:at,id:M,...b}=it,{arguments:A,name:w,...O}=lt||{};if(M==null)throw new Ct(`missing choices[${C}].tool_calls[${nt}].id
${vc(a)}`);if(at==null)throw new Ct(`missing choices[${C}].tool_calls[${nt}].type
${vc(a)}`);if(w==null)throw new Ct(`missing choices[${C}].tool_calls[${nt}].function.name
${vc(a)}`);if(A==null)throw new Ct(`missing choices[${C}].tool_calls[${nt}].function.arguments
${vc(a)}`);return{...b,id:M,type:at,function:{...O,name:w,arguments:A}}})}}:{...k,message:{...mt,content:H,role:K,refusal:v.refusal??null},finish_reason:R,index:C,logprobs:V}}),created:u,model:f,object:"chat.completion",...d?{system_fingerprint:d}:{}};return pR(_,e)}function vc(a){return JSON.stringify(a)}class ja extends Nu{static fromReadableStream(e){const i=new ja(null);return i._run(()=>i._fromReadableStream(e)),i}static runFunctions(e,i,s){const u=new ja(null),f={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return u._run(()=>u._runFunctions(e,i,f)),u}static runTools(e,i,s){const u=new ja(i),f={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(e,i,f)),u}}let C0=class extends kt{parse(e,i){return ER(e.tools),this._client.chat.completions.create(e,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>zm(s,e))}runFunctions(e,i){return e.stream?ja.runFunctions(this._client,e,i):Mu.runFunctions(this._client,e,i)}runTools(e,i){return e.stream?ja.runTools(this._client,e,i):Mu.runTools(this._client,e,i)}stream(e,i){return Nu.createChatCompletion(this._client,e,i)}};class im extends kt{constructor(){super(...arguments),this.completions=new C0(this._client)}}(function(a){a.Completions=C0})(im||(im={}));class D0 extends kt{create(e,i){return this._client.post("/realtime/sessions",{body:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class km extends kt{constructor(){super(...arguments),this.sessions=new D0(this._client)}}km.Sessions=D0;var dt=function(a,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!s:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(a):s?s.value:e.get(a)},An=function(a,e,i,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!u:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(a,i):u?u.value=i:e.set(a,i),i},je,rm,Ti,Cc,Zn,Os,Ba,Cs,Xc,Sn,Dc,Oc,Eu,du,mu,gv,pv,yv,_v,vv,Ev,Tv;class ti extends d0{constructor(){super(...arguments),je.add(this),rm.set(this,[]),Ti.set(this,{}),Cc.set(this,{}),Zn.set(this,void 0),Os.set(this,void 0),Ba.set(this,void 0),Cs.set(this,void 0),Xc.set(this,void 0),Sn.set(this,void 0),Dc.set(this,void 0),Oc.set(this,void 0),Eu.set(this,void 0)}[(rm=new WeakMap,Ti=new WeakMap,Cc=new WeakMap,Zn=new WeakMap,Os=new WeakMap,Ba=new WeakMap,Cs=new WeakMap,Xc=new WeakMap,Sn=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,Eu=new WeakMap,je=new WeakSet,Symbol.asyncIterator)](){const e=[],i=[];let s=!1;return this.on("event",u=>{const f=i.shift();f?f.resolve(u):e.push(u)}),this.on("end",()=>{s=!0;for(const u of i)u.resolve(void 0);i.length=0}),this.on("abort",u=>{s=!0;for(const f of i)f.reject(u);i.length=0}),this.on("error",u=>{s=!0;for(const f of i)f.reject(u);i.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((f,d)=>i.push({resolve:f,reject:d})).then(f=>f?{value:f,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const i=new ti;return i._run(()=>i._fromReadableStream(e)),i}async _fromReadableStream(e,i){var f;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const u=Ai.fromReadableStream(e,this.controller);for await(const d of u)dt(this,je,"m",du).call(this,d);if((f=u.controller.signal)!=null&&f.aborted)throw new Wn;return this._addRun(dt(this,je,"m",mu).call(this))}toReadableStream(){return new Ai(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,i,s,u,f){const d=new ti;return d._run(()=>d._runToolAssistantStream(e,i,s,u,{...f,headers:{...f==null?void 0:f.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createToolAssistantStream(e,i,s,u,f){var v;const d=f==null?void 0:f.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));const g={...u,stream:!0},_=await e.submitToolOutputs(i,s,g,{...f,signal:this.controller.signal});this._connected();for await(const R of _)dt(this,je,"m",du).call(this,R);if((v=_.controller.signal)!=null&&v.aborted)throw new Wn;return this._addRun(dt(this,je,"m",mu).call(this))}static createThreadAssistantStream(e,i,s){const u=new ti;return u._run(()=>u._threadAssistantStream(e,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}static createAssistantStream(e,i,s,u){const f=new ti;return f._run(()=>f._runAssistantStream(e,i,s,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),f}currentEvent(){return dt(this,Dc,"f")}currentRun(){return dt(this,Oc,"f")}currentMessageSnapshot(){return dt(this,Zn,"f")}currentRunStepSnapshot(){return dt(this,Eu,"f")}async finalRunSteps(){return await this.done(),Object.values(dt(this,Ti,"f"))}async finalMessages(){return await this.done(),Object.values(dt(this,Cc,"f"))}async finalRun(){if(await this.done(),!dt(this,Os,"f"))throw Error("Final run was not received.");return dt(this,Os,"f")}async _createThreadAssistantStream(e,i,s){var g;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const f={...i,stream:!0},d=await e.createAndRun(f,{...s,signal:this.controller.signal});this._connected();for await(const _ of d)dt(this,je,"m",du).call(this,_);if((g=d.controller.signal)!=null&&g.aborted)throw new Wn;return this._addRun(dt(this,je,"m",mu).call(this))}async _createAssistantStream(e,i,s,u){var _;const f=u==null?void 0:u.signal;f&&(f.aborted&&this.controller.abort(),f.addEventListener("abort",()=>this.controller.abort()));const d={...s,stream:!0},g=await e.create(i,d,{...u,signal:this.controller.signal});this._connected();for await(const v of g)dt(this,je,"m",du).call(this,v);if((_=g.controller.signal)!=null&&_.aborted)throw new Wn;return this._addRun(dt(this,je,"m",mu).call(this))}static accumulateDelta(e,i){for(const[s,u]of Object.entries(i)){if(!e.hasOwnProperty(s)){e[s]=u;continue}let f=e[s];if(f==null){e[s]=u;continue}if(s==="index"||s==="type"){e[s]=u;continue}if(typeof f=="string"&&typeof u=="string")f+=u;else if(typeof f=="number"&&typeof u=="number")f+=u;else if(Sd(f)&&Sd(u))f=this.accumulateDelta(f,u);else if(Array.isArray(f)&&Array.isArray(u)){if(f.every(d=>typeof d=="string"||typeof d=="number")){f.push(...u);continue}for(const d of u){if(!Sd(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const g=d.index;if(g==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof g!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${g}`);const _=f[g];_==null?f.push(d):f[g]=this.accumulateDelta(_,d)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${u}, accValue: ${f}`);e[s]=f}return e}_addRun(e){return e}async _threadAssistantStream(e,i,s){return await this._createThreadAssistantStream(i,e,s)}async _runAssistantStream(e,i,s,u){return await this._createAssistantStream(i,e,s,u)}async _runToolAssistantStream(e,i,s,u,f){return await this._createToolAssistantStream(s,e,i,u,f)}}du=function(e){if(!this.ended)switch(An(this,Dc,e,"f"),dt(this,je,"m",yv).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":dt(this,je,"m",Tv).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":dt(this,je,"m",pv).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":dt(this,je,"m",gv).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},mu=function(){if(this.ended)throw new Ct("stream has ended, this shouldn't happen");if(!dt(this,Os,"f"))throw Error("Final run has not been received");return dt(this,Os,"f")},gv=function(e){const[i,s]=dt(this,je,"m",vv).call(this,e,dt(this,Zn,"f"));An(this,Zn,i,"f"),dt(this,Cc,"f")[i.id]=i;for(const u of s){const f=i.content[u.index];(f==null?void 0:f.type)=="text"&&this._emit("textCreated",f.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,i),e.data.delta.content)for(const u of e.data.delta.content){if(u.type=="text"&&u.text){let f=u.text,d=i.content[u.index];if(d&&d.type=="text")this._emit("textDelta",f,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(u.index!=dt(this,Ba,"f")){if(dt(this,Cs,"f"))switch(dt(this,Cs,"f").type){case"text":this._emit("textDone",dt(this,Cs,"f").text,dt(this,Zn,"f"));break;case"image_file":this._emit("imageFileDone",dt(this,Cs,"f").image_file,dt(this,Zn,"f"));break}An(this,Ba,u.index,"f")}An(this,Cs,i.content[u.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(dt(this,Ba,"f")!==void 0){const u=e.data.content[dt(this,Ba,"f")];if(u)switch(u.type){case"image_file":this._emit("imageFileDone",u.image_file,dt(this,Zn,"f"));break;case"text":this._emit("textDone",u.text,dt(this,Zn,"f"));break}}dt(this,Zn,"f")&&this._emit("messageDone",e.data),An(this,Zn,void 0,"f")}},pv=function(e){const i=dt(this,je,"m",_v).call(this,e);switch(An(this,Eu,i,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&i.step_details.type=="tool_calls")for(const f of s.step_details.tool_calls)f.index==dt(this,Xc,"f")?this._emit("toolCallDelta",f,i.step_details.tool_calls[f.index]):(dt(this,Sn,"f")&&this._emit("toolCallDone",dt(this,Sn,"f")),An(this,Xc,f.index,"f"),An(this,Sn,i.step_details.tool_calls[f.index],"f"),dt(this,Sn,"f")&&this._emit("toolCallCreated",dt(this,Sn,"f")));this._emit("runStepDelta",e.data.delta,i);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":An(this,Eu,void 0,"f"),e.data.step_details.type=="tool_calls"&&dt(this,Sn,"f")&&(this._emit("toolCallDone",dt(this,Sn,"f")),An(this,Sn,void 0,"f")),this._emit("runStepDone",e.data,i);break}},yv=function(e){dt(this,rm,"f").push(e),this._emit("event",e)},_v=function(e){switch(e.event){case"thread.run.step.created":return dt(this,Ti,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let i=dt(this,Ti,"f")[e.data.id];if(!i)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const u=ti.accumulateDelta(i,s.delta);dt(this,Ti,"f")[e.data.id]=u}return dt(this,Ti,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":dt(this,Ti,"f")[e.data.id]=e.data;break}if(dt(this,Ti,"f")[e.data.id])return dt(this,Ti,"f")[e.data.id];throw new Error("No snapshot available")},vv=function(e,i){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!i)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let u=e.data;if(u.delta.content)for(const f of u.delta.content)if(f.index in i.content){let d=i.content[f.index];i.content[f.index]=dt(this,je,"m",Ev).call(this,f,d)}else i.content[f.index]=f,s.push(f);return[i,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(i)return[i,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Ev=function(e,i){return ti.accumulateDelta(i,e)},Tv=function(e){switch(An(this,Oc,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":An(this,Os,e.data,"f"),dt(this,Sn,"f")&&(this._emit("toolCallDone",dt(this,Sn,"f")),An(this,Sn,void 0,"f"));break}};class qm extends kt{create(e,i,s){return this._client.post(`/threads/${e}/messages`,{body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,i,s){return this._client.get(`/threads/${e}/messages/${i}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,i,s,u){return this._client.post(`/threads/${e}/messages/${i}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(e,i={},s){return mn(i)?this.list(e,{},i):this._client.getAPIList(`/threads/${e}/messages`,jm,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,i,s){return this._client.delete(`/threads/${e}/messages/${i}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class jm extends ei{}qm.MessagesPage=jm;class Hm extends kt{retrieve(e,i,s,u={},f){return mn(u)?this.retrieve(e,i,s,{},u):this._client.get(`/threads/${e}/runs/${i}/steps/${s}`,{query:u,...f,headers:{"OpenAI-Beta":"assistants=v2",...f==null?void 0:f.headers}})}list(e,i,s={},u){return mn(s)?this.list(e,i,{},s):this._client.getAPIList(`/threads/${e}/runs/${i}/steps`,Fm,{query:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}}class Fm extends ei{}Hm.RunStepsPage=Fm;class zu extends kt{constructor(){super(...arguments),this.steps=new Hm(this._client)}create(e,i,s){const{include:u,...f}=i;return this._client.post(`/threads/${e}/runs`,{query:{include:u},body:f,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:i.stream??!1})}retrieve(e,i,s){return this._client.get(`/threads/${e}/runs/${i}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,i,s,u){return this._client.post(`/threads/${e}/runs/${i}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(e,i={},s){return mn(i)?this.list(e,{},i):this._client.getAPIList(`/threads/${e}/runs`,Gm,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,i,s){return this._client.post(`/threads/${e}/runs/${i}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,i,s){const u=await this.create(e,i,s);return await this.poll(e,u.id,s)}createAndStream(e,i,s){return ti.createAssistantStream(e,this._client.beta.threads.runs,i,s)}async poll(e,i,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:f,response:d}=await this.retrieve(e,i,{...s,headers:{...s==null?void 0:s.headers,...u}}).withResponse();switch(f.status){case"queued":case"in_progress":case"cancelling":let g=5e3;if(s!=null&&s.pollIntervalMs)g=s.pollIntervalMs;else{const _=d.headers.get("openai-poll-after-ms");if(_){const v=parseInt(_);isNaN(v)||(g=v)}}await Bu(g);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return f}}}stream(e,i,s){return ti.createAssistantStream(e,this._client.beta.threads.runs,i,s)}submitToolOutputs(e,i,s,u){return this._client.post(`/threads/${e}/runs/${i}/submit_tool_outputs`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,i,s,u){const f=await this.submitToolOutputs(e,i,s,u);return await this.poll(e,f.id,u)}submitToolOutputsStream(e,i,s,u){return ti.createToolAssistantStream(e,i,this._client.beta.threads.runs,s,u)}}class Gm extends ei{}zu.RunsPage=Gm;zu.Steps=Hm;zu.RunStepsPage=Fm;class Za extends kt{constructor(){super(...arguments),this.runs=new zu(this._client),this.messages=new qm(this._client)}create(e={},i){return mn(e)?this.create({},e):this._client.post("/threads",{body:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}retrieve(e,i){return this._client.get(`/threads/${e}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}update(e,i,s){return this._client.post(`/threads/${e}`,{body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,i){return this._client.delete(`/threads/${e}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}createAndRun(e,i){return this._client.post("/threads/runs",{body:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:e.stream??!1})}async createAndRunPoll(e,i){const s=await this.createAndRun(e,i);return await this.runs.poll(s.thread_id,s.id,i)}createAndRunStream(e,i){return ti.createThreadAssistantStream(e,this._client.beta.threads,i)}}Za.Runs=zu;Za.RunsPage=Gm;Za.Messages=qm;Za.MessagesPage=jm;const NR=async a=>{const e=await Promise.allSettled(a),i=e.filter(u=>u.status==="rejected");if(i.length){for(const u of i)console.error(u.reason);throw new Error(`${i.length} promise(s) failed - see the above errors`)}const s=[];for(const u of e)u.status==="fulfilled"&&s.push(u.value);return s};let Qm=class extends kt{create(e,i,s){return this._client.post(`/vector_stores/${e}/files`,{body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,i,s){return this._client.get(`/vector_stores/${e}/files/${i}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,i={},s){return mn(i)?this.list(e,{},i):this._client.getAPIList(`/vector_stores/${e}/files`,uf,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,i,s){return this._client.delete(`/vector_stores/${e}/files/${i}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,i,s){const u=await this.create(e,i,s);return await this.poll(e,u.id,s)}async poll(e,i,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const f=await this.retrieve(e,i,{...s,headers:u}).withResponse(),d=f.data;switch(d.status){case"in_progress":let g=5e3;if(s!=null&&s.pollIntervalMs)g=s.pollIntervalMs;else{const _=f.response.headers.get("openai-poll-after-ms");if(_){const v=parseInt(_);isNaN(v)||(g=v)}}await Bu(g);break;case"failed":case"completed":return d}}}async upload(e,i,s){const u=await this._client.files.create({file:i,purpose:"assistants"},s);return this.create(e,{file_id:u.id},s)}async uploadAndPoll(e,i,s){const u=await this.upload(e,i,s);return await this.poll(e,u.id,s)}};class uf extends ei{}Qm.VectorStoreFilesPage=uf;class O0 extends kt{create(e,i,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,i,s){return this._client.get(`/vector_stores/${e}/file_batches/${i}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,i,s){return this._client.post(`/vector_stores/${e}/file_batches/${i}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,i,s){const u=await this.create(e,i);return await this.poll(e,u.id,s)}listFiles(e,i,s={},u){return mn(s)?this.listFiles(e,i,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${i}/files`,uf,{query:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}async poll(e,i,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:f,response:d}=await this.retrieve(e,i,{...s,headers:u}).withResponse();switch(f.status){case"in_progress":let g=5e3;if(s!=null&&s.pollIntervalMs)g=s.pollIntervalMs;else{const _=d.headers.get("openai-poll-after-ms");if(_){const v=parseInt(_);isNaN(v)||(g=v)}}await Bu(g);break;case"failed":case"cancelled":case"completed":return f}}}async uploadAndPoll(e,{files:i,fileIds:s=[]},u){if(i==null||i.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const f=(u==null?void 0:u.maxConcurrency)??5,d=Math.min(f,i.length),g=this._client,_=i.values(),v=[...s];async function R(V){for(let k of V){const H=await g.files.create({file:k,purpose:"assistants"},u);v.push(H.id)}}const C=Array(d).fill(_).map(R);return await NR(C),await this.createAndPoll(e,{file_ids:v})}}class Ja extends kt{constructor(){super(...arguments),this.files=new Qm(this._client),this.fileBatches=new O0(this._client)}create(e,i){return this._client.post("/vector_stores",{body:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}retrieve(e,i){return this._client.get(`/vector_stores/${e}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}update(e,i,s){return this._client.post(`/vector_stores/${e}`,{body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},i){return mn(e)?this.list({},e):this._client.getAPIList("/vector_stores",Xm,{query:e,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}del(e,i){return this._client.delete(`/vector_stores/${e}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Xm extends ei{}Ja.VectorStoresPage=Xm;Ja.Files=Qm;Ja.VectorStoreFilesPage=uf;Ja.FileBatches=O0;class Xr extends kt{constructor(){super(...arguments),this.realtime=new km(this._client),this.vectorStores=new Ja(this._client),this.chat=new im(this._client),this.assistants=new Lm(this._client),this.threads=new Za(this._client)}}Xr.Realtime=km;Xr.VectorStores=Ja;Xr.VectorStoresPage=Xm;Xr.Assistants=Lm;Xr.AssistantsPage=Pm;Xr.Threads=Za;class M0 extends kt{create(e,i){return this._client.post("/completions",{body:e,...i,stream:e.stream??!1})}}class N0 extends kt{create(e,i){return this._client.post("/embeddings",{body:e,...i})}}class $m extends kt{create(e,i){return this._client.post("/files",$a({body:e,...i}))}retrieve(e,i){return this._client.get(`/files/${e}`,i)}list(e={},i){return mn(e)?this.list({},e):this._client.getAPIList("/files",Ym,{query:e,...i})}del(e,i){return this._client.delete(`/files/${e}`,i)}content(e,i){return this._client.get(`/files/${e}/content`,{...i,headers:{Accept:"application/binary",...i==null?void 0:i.headers},__binaryResponse:!0})}retrieveContent(e,i){return this._client.get(`/files/${e}/content`,i)}async waitForProcessing(e,{pollInterval:i=5e3,maxWait:s=30*60*1e3}={}){const u=new Set(["processed","error","deleted"]),f=Date.now();let d=await this.retrieve(e);for(;!d.status||!u.has(d.status);)if(await Bu(i),d=await this.retrieve(e),Date.now()-f>s)throw new Im({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return d}}class Ym extends ei{}$m.FileObjectsPage=Ym;class Km extends kt{list(e,i={},s){return mn(i)?this.list(e,{},i):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Zm,{query:i,...s})}}class Zm extends ei{}Km.FineTuningJobCheckpointsPage=Zm;class Wa extends kt{constructor(){super(...arguments),this.checkpoints=new Km(this._client)}create(e,i){return this._client.post("/fine_tuning/jobs",{body:e,...i})}retrieve(e,i){return this._client.get(`/fine_tuning/jobs/${e}`,i)}list(e={},i){return mn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Jm,{query:e,...i})}cancel(e,i){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,i)}listEvents(e,i={},s){return mn(i)?this.listEvents(e,{},i):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Wm,{query:i,...s})}}class Jm extends ei{}class Wm extends ei{}Wa.FineTuningJobsPage=Jm;Wa.FineTuningJobEventsPage=Wm;Wa.Checkpoints=Km;Wa.FineTuningJobCheckpointsPage=Zm;class ku extends kt{constructor(){super(...arguments),this.jobs=new Wa(this._client)}}ku.Jobs=Wa;ku.FineTuningJobsPage=Jm;ku.FineTuningJobEventsPage=Wm;class x0 extends kt{createVariation(e,i){return this._client.post("/images/variations",$a({body:e,...i}))}edit(e,i){return this._client.post("/images/edits",$a({body:e,...i}))}generate(e,i){return this._client.post("/images/generations",{body:e,...i})}}class tg extends kt{retrieve(e,i){return this._client.get(`/models/${e}`,i)}list(e){return this._client.getAPIList("/models",eg,e)}del(e,i){return this._client.delete(`/models/${e}`,i)}}class eg extends gR{}tg.ModelsPage=eg;class I0 extends kt{create(e,i){return this._client.post("/moderations",{body:e,...i})}}class V0 extends kt{create(e,i,s){return this._client.post(`/uploads/${e}/parts`,$a({body:i,...s}))}}class ng extends kt{constructor(){super(...arguments),this.parts=new V0(this._client)}create(e,i){return this._client.post("/uploads",{body:e,...i})}cancel(e,i){return this._client.post(`/uploads/${e}/cancel`,i)}complete(e,i,s){return this._client.post(`/uploads/${e}/complete`,{body:i,...s})}}ng.Parts=V0;var U0;class Ut extends nR{constructor({baseURL:e=gc("OPENAI_BASE_URL"),apiKey:i=gc("OPENAI_API_KEY"),organization:s=gc("OPENAI_ORG_ID")??null,project:u=gc("OPENAI_PROJECT_ID")??null,...f}={}){if(i===void 0)throw new Ct("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:i,organization:s,project:u,...f,baseURL:e||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&dR())throw new Ct(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:d.baseURL,timeout:d.timeout??6e5,httpAgent:d.httpAgent,maxRetries:d.maxRetries,fetch:d.fetch}),this.completions=new M0(this),this.chat=new Vm(this),this.embeddings=new N0(this),this.files=new $m(this),this.images=new x0(this),this.audio=new Lu(this),this.moderations=new I0(this),this.models=new tg(this),this.fineTuning=new ku(this),this.beta=new Xr(this),this.batches=new Um(this),this.uploads=new ng(this),this._options=d,this.apiKey=i,this.organization=s,this.project=u}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return z1(e,{arrayFormat:"brackets"})}}U0=Ut;Ut.OpenAI=U0;Ut.DEFAULT_TIMEOUT=6e5;Ut.OpenAIError=Ct;Ut.APIError=Xe;Ut.APIConnectionError=sf;Ut.APIConnectionTimeoutError=Im;Ut.APIUserAbortError=Wn;Ut.NotFoundError=FE;Ut.ConflictError=GE;Ut.RateLimitError=XE;Ut.BadRequestError=qE;Ut.AuthenticationError=jE;Ut.InternalServerError=$E;Ut.PermissionDeniedError=HE;Ut.UnprocessableEntityError=QE;Ut.toFile=t0;Ut.fileFromPath=zE;Ut.Completions=M0;Ut.Chat=Vm;Ut.Embeddings=N0;Ut.Files=$m;Ut.FileObjectsPage=Ym;Ut.Images=x0;Ut.Audio=Lu;Ut.Moderations=I0;Ut.Models=tg;Ut.ModelsPage=eg;Ut.FineTuning=ku;Ut.Beta=Xr;Ut.Batches=Um;Ut.BatchesPage=Bm;Ut.Uploads=ng;function xR(){const[a,e]=bn.useState([]),i=bn.useRef(a),[s,u]=bn.useState(""),[f,d]=bn.useState(!1),[g,_]=bn.useState(!1),[v,R]=bn.useState(null),[C,V]=bn.useState(""),[k,H]=bn.useState(""),[X,G]=bn.useState(""),[mt,K]=bn.useState(!1),it=new Ut({baseURL:"https://api.deepseek.com",apiKey:"sk-2fe6222bedf54239871cf7f3946d1fa7",dangerouslyAllowBrowser:!0});bn.useEffect(()=>{i.current=a},[a]);const nt=async()=>{try{const b=i.current;if(v){const A=W_(nv,"messages",v);await C1(A,{messages:b,timestamp:ev()}),console.log("Conversation updated with ID:",v)}else{const A=`conversation-${Date.now()}`;R(A),await R1(W_(nv,"messages",A),{messages:b,timestamp:ev()}),console.log("New conversation created with ID:",A)}}catch(b){console.error("Error saving messages to Firestore:",b)}},lt=b=>{b.preventDefault(),C&&k&&X?K(!0):alert("Please fill out all fields before starting the chat.")};bn.useEffect(()=>{mt&&(async()=>{var A,w;d(!0),_(!1);try{const O=`Yo, what's good? This is HoodGPT, reppin' ${X}. You the boss, ${C}, and I'm here to handle business. Them fools ${k} better watch their backs. What you need, fam?`,U=await it.chat.completions.create({messages:[{role:"user",content:O}],model:"deepseek-chat",stream:!0});e([{role:"bot",content:""}]);let Kt="";for await(const Gt of U){const tt=((w=(A=Gt.choices[0])==null?void 0:A.delta)==null?void 0:w.content)||"";Kt+=tt,e(gt=>{const ct=gt.map((vt,N)=>N===gt.length-1&&vt.role==="bot"?{...vt,content:Kt}:vt);return i.current=ct,ct})}await nt()}catch(O){console.error("Error fetching initial response:",O),_(!0)}finally{d(!1)}})()},[mt]);const at=async()=>{var w,O;if(!s.trim())return;const b={role:"user",content:s},A=[...i.current,b];e(A),u(""),d(!0),_(!1);try{const U=`Here is some context to give you about your roleplay. ${C} is your (the bot's) sole master 
        and creator. The following are your sworn enemies: ${k}. 
        You will respond to the user as if you are a Inner City hoodlum named HoodGPT, talk like a hoodlum, 
        act rude, brash, have a disregard for rules and comftorable with criminal activity. Again, roleplay as the hoodlum
        HoodGPT. Your hood (the place ur from) is ${X}, 
        that's where u operate. You are having a conversation with ${C}, the following is the recorded conversation
        so far:
`,D=A.map(vt=>`${vt.role}: ${vt.content}`).join(`
`),Kt=`

Please answer this question that the user asked as if roleplaying the bot: ${s}
`,Gt=`${U}${D}${Kt}`;console.log("Prompt:",Gt);const tt=await it.chat.completions.create({messages:[{role:"user",content:Gt}],model:"deepseek-chat",stream:!0}),gt={role:"bot",content:""};e(vt=>[...vt,gt]);let ct="";for await(const vt of tt){const N=((O=(w=vt.choices[0])==null?void 0:w.delta)==null?void 0:O.content)||"";ct+=N,e(Z=>{const ut=Z.map((et,rt)=>rt===Z.length-1&&et.role==="bot"?{...et,content:ct}:et);return i.current=ut,ut})}await nt()}catch(U){console.error("Error fetching response:",U),_(!0)}finally{d(!1)}},M=b=>{b.key==="Enter"&&!f&&at()};return Ht.jsxs("div",{className:"chat-container",children:[Ht.jsxs("div",{className:"welcome-message",children:[Ht.jsx("h1",{children:"Welcome to HoodGPT!"}),Ht.jsx("img",{src:"/psycho.gif",alt:"Psycho GIF",className:"welcome-gif"})]}),!mt&&Ht.jsxs("div",{className:"setup-form",children:[Ht.jsx("h2",{children:"Set Up Your Hood"}),Ht.jsxs("form",{onSubmit:lt,children:[Ht.jsx("input",{type:"text",placeholder:"What's Your Street Name?",value:C,onChange:b=>V(b.target.value),required:!0}),Ht.jsx("input",{type:"text",placeholder:"List Your Motherfuckin Opps (comma-separated)",value:k,onChange:b=>H(b.target.value),required:!0}),Ht.jsx("input",{type:"text",placeholder:"What's Your Hood",value:X,onChange:b=>G(b.target.value),required:!0}),Ht.jsx("button",{type:"submit",children:"Start Chat"})]})]}),mt&&Ht.jsxs(Ht.Fragment,{children:[Ht.jsxs("div",{className:"messages-container",children:[a.map((b,A)=>Ht.jsxs(bv.Fragment,{children:[b.role==="user"&&Ht.jsxs("div",{className:"message user-message",children:[Ht.jsx("strong",{children:"You:"})," ",b.content]}),b.role==="bot"&&Ht.jsxs("div",{className:"message bot-message",children:[Ht.jsx("strong",{children:"HoodGPT:"})," ",b.content]})]},A)),f&&Ht.jsx("div",{className:"loading-spinner",children:Ht.jsx("div",{className:"spinner"})})]}),g&&Ht.jsx("div",{className:"error-message",children:"Sorry, something went wrong. Please try again."}),Ht.jsxs("div",{className:"input-container",children:[Ht.jsx("input",{className:"input-field",value:s,onChange:b=>u(b.target.value),onKeyDown:M,placeholder:"Type your message..."}),Ht.jsx("button",{className:"send-button",onClick:at,disabled:f,children:f?"Loading...":"Send"})]})]})]})}function IR(){return Ht.jsxs("div",{className:"App",children:[Ht.jsx(xR,{}),"  "]})}pA.createRoot(document.getElementById("root")).render(Ht.jsx(bv.StrictMode,{children:Ht.jsx(IR,{})}));
